{"version":3,"sources":["webpack:///src/components/MallConfig/BannerMgt/AddBanner.vue","webpack:///./src/components/MallConfig/BannerMgt/AddBanner.vue?04b1","webpack:///./src/components/MallConfig/BannerMgt/AddBanner.vue","webpack:///src/components/MallConfig/BannerMgt/ChooseProduct.vue","webpack:///./src/components/MallConfig/BannerMgt/ChooseProduct.vue?cbb1","webpack:///./src/components/MallConfig/BannerMgt/ChooseProduct.vue"],"names":["bannerUrlList","bannerUrl","AddBanner","data","loading","saveLoading","isDisabled","imageUploadLoading","isShowProductList","statusBannerDialogVisible","product","transitionList","value","label","addBanner","productNo","presaleId","name","url","status","type","canStatus","created","mounted","components","choose-product","ChooseProduct","methods","doSearchHandel","_this2","this","$http","post","then","res","code","Error","msg","list","length","catch","e","console","log","message","chooseProduct","_this","setTimeout","$refs","ProductListDialog","setDefault","doSaveHandel","_param","_this3","$message","extends_default","$router","push","$notify","error","title","doCancelHandel","imageUploadReg","file","_this4","isPic","indexOf","isJPG","isSize","promise_default","a","resolve","reject","_URL","window","URL","webkitURL","img","Image","onload","width","height","src","createObjectURL","emitUpload","_this5","getToken","qiniu_min","fileName","token","subscribe","complete","urlImage","key","next","_this6","closeDialog","val","isShowGoods","BannerMgt_AddBanner","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","ref","attrs","model","label-width","required","size","placeholder","callback","$$v","$set","_v","action","show-file-list","before-upload","http-request","_l","item","staticStyle","display","_s","productName","spec","on","click","disabled","visible","update:visible","$event","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","chooseProductUrl","currentPage","pageSize","total","categoriesList","searchContent","categoryCode","tableData","categoriesSelectList","watch","curVal","oldVal","getCategoriesList","_val","timeFormatter","row","column","cellValue","preStartDate","preEndDate","preStartTime","preEndTime","map","categoryName","categoryId","categoryVoList","children","changeSize","changeCurrent","pageNum","queryCode","queryType","result","dataMesg","$emit","BannerMgt_ChooseProduct","clearable","nativeOn","keyup","_k","keyCode","trim","expand-trigger","options","change-on-select","empty-text","max-height","min-width","scopedSlots","_u","fn","scope","productImg","alt","onerror","goodsNo","prop","formatter","margin-bottom","background","current-page","page-sizes","layout","pager-count","size-change","current-change","update:currentPage","update:current-page"],"mappings":"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","file":"static/js/14.14539f4ecc529cdcf653.js","sourcesContent":["<style>\n  @import \"../../../../static/style/file_upload.css\";\n  .banner-uploader .el-form-item__content{\n    line-height: 0;\n  }\n  .banner-uploader .avatar-uploader{\n    width: 322px;\n    height: 122px;\n  }\n  .banner-uploader .tip-txt-w{\n    margin-left: 0;\n  }\n  .banner-uploader .tip-txt-w span {\n    line-height: 40px;\n  }\n  .banner-uploader .avatar-uploader-icon{\n    width: 320px;\n    height: 120px;\n    line-height: 120px !important;\n  }\n  .banner-uploader .avatar{\n    width: 322px;\n    height: 122px;\n  }\n</style>\n\n<template>\n  <div>\n    <div class=\"add-form-wraper\">\n      <el-form ref=\"form\" :model=\"addBanner\" label-width=\"200px\" v-loading=\"loading\">\n        <el-form-item label=\"名称\" required>\n          <el-input v-model=\"addBanner.name\" size=\"small\" class=\"add-input\" placeholder=\"请输入Banner名称\"></el-input>\n          <span>请输入展示名称，长度不超过20个字</span>\n        </el-form-item>\n\n        <el-form-item label=\"Banner图片\" class=\"banner-uploader\" required>\n          <el-upload\n            class=\"avatar-uploader\"\n            action=\"\"\n            :show-file-list=\"false\"\n            :before-upload=\"imageUploadReg\"\n            :http-request=\"emitUpload\">\n            <div v-loading=\"imageUploadLoading\">\n              <img v-if=\"addBanner.url\" :src=\"addBanner.url\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </div>\n          </el-upload>\n          <div class=\"tip-txt-w\">\n            <span>请上传750*280像素的JPG图片，大小不能超过2M</span>\n          </div>\n        </el-form-item>\n\n        <el-form-item label=\"跳转类型\" required>  \n          <el-select v-model=\"addBanner.type\" class=\"add-input\" size=\"small\" placeholder=\"请选择跳转类型\">\n            <el-option\n              v-for=\"item in transitionList\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"选择商品\" v-show=\"addBanner.type == 0\" required>\n          <p v-show=\"product.productName\" style=\"display: inline-block;\">{{product.productName}}&nbsp;&nbsp;{{product.spec}}&nbsp;&nbsp;</p>\n          <el-button size=\"small\" @click=\"chooseProduct\">选择</el-button>\n        </el-form-item>\n\n        <el-form-item label=\"启用状态\" required>\n          <el-radio-group v-model=\"addBanner.status\" size=\"small\">\n            <el-radio-button label=\"启用\"></el-radio-button>\n            <el-radio-button label=\"禁用\"></el-radio-button>\n          </el-radio-group>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel\" :disabled=\"isDisabled\">保存</el-button>\n          <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- 选择商品dialog -->\n    <el-dialog title=\"选择商品\" :visible.sync=\"isShowProductList\" width=\"700px\">\n      <choose-product ref=\"ProductListDialog\" @closeDialog=\"closeDialog\"></choose-product>\n    </el-dialog>\n    \n    <!-- 启用Bannerdialog -->\n    <el-dialog title=\"启用失败\" :visible.sync=\"statusBannerDialogVisible\" width=\"360px\">\n      <span>已经超过Banner的启用数量，限制6个</span>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"statusBannerDialogVisible = false\" size=\"mini\">确 认</el-button>\n      </span>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport Storage from '@/utils/localStorage'\nimport ChooseProduct from './ChooseProduct'\nimport * as utils from '@/utils/utils'\n\nimport * as qiniu from 'qiniu-js'\nconst bannerUrlList = {\n  getQiNiuToken: '/foundation/qiniu/auth/file'\n}\nconst bannerUrl = {\n  // 获取Banner列表\n  list: '/plateform/a/banner/list',\n  // 新增Banner\n  add: '/plateform/a/banner/add'\n}\nexport default {\n  data() {\n    return {\n      loading: false,\n      saveLoading: false,\n      isDisabled: false,\n      imageUploadLoading: false, // 添加默认图片loading\n      isShowProductList: false, // 显示商品列表\n      statusBannerDialogVisible: false, // 启用\n      product: {}, // 选择的商品\n      transitionList: [ // 跳转类型\n        {\n          value: 0,\n          label: '商品详情'\n        },\n        {\n          value: 1,\n          label: '静态展示不跳转'\n        }\n      ],\n      addBanner: {\n        productNo: '', // 商品编号\n        presaleId: '', // 商品编号\n        name: '', // 名称\n        url: '', // URL\n        status: '启用', // 状态\n        type: '' // 跳转类型\n      },\n      canStatus: true\n    }\n  },\n  created() {\n  },\n  mounted() {\n  },\n  components: {\n    'choose-product': ChooseProduct\n  },\n  methods: {\n    /**\n     * [doSearchHandel 搜索启用数量]\n     * @return {[type]} [description]\n     */\n    doSearchHandel() {\n      this.$http.post(bannerUrl.list, {status: 0}).then(res => {\n        this.loading = false\n        if(res.code === 0) {\n          if(res.data && res.data.list && res.data.list.length) {\n            this.canStatus = (res.data.list.length < 6)\n          }else {\n            this.canStatus = true\n          }\n          return \n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        console.log(\"提示(获取启用banner):\", e.message)\n      })\n\n    },\n    /**\n     * [chooseProduct 选择商品]\n     * @return {[type]}      [description]\n     */\n    chooseProduct() {\n      this.isShowProductList = true\n      let _this = this  \n      setTimeout(function() {\n        // 调用子组件的方法\n        _this.$refs.ProductListDialog.setDefault()\n      }, 200)\n    },\n    /**\n     * [doSaveHandel 触发保存事件]\n     * @return {[type]}        [description]\n     */\n    doSaveHandel(_param) {\n      if(this.addBanner.name == \"\") {\n        this.$message(\"请输入展示名称\")\n        return \n      }\n      if(this.addBanner.name.length > 20) {\n        this.$message(\"展示名称限制长度不超过20\")\n        return\n      }\n\n      if(this.addBanner.url == \"\") {\n        this.$message(\"请添加Banner图片\")\n        return \n      }\n\n      if(this.addBanner.type === '') {\n        this.$message(\"请选择跳转类型\")\n        return \n      }\n      if(this.addBanner.type == 0 && this.addBanner.productNo == \"\"){\n        //商品详情\n        this.$message(\"请选择商品\")\n        return\n      }\n\n      if(this.addBanner.status == \"\") {\n        this.$message(\"请选择启用状态\")\n        return \n      }\n\n      if(this.addBanner.status == \"启用\" && this.canStatus == false) {\n        this.statusBannerDialogVisible = true\n        return\n      }\n\n      if(this.addBanner.status == \"启用\") {\n        this.addBanner.status = 0\n      }else if(this.addBanner.status == \"禁用\") {\n        this.addBanner.status = 1\n      }\n      this.loading = true\n      this.isDisabled = true\n      this.$http.post(bannerUrl.add, {...this.addBanner}).then(res => {\n        this.loading = false\n        this.isDisabled = false\n        if(res.code === 0) {\n          this.$message({\n            message: '添加Banner成功',\n            type: 'success'\n          })\n          this.$router.push('/banner_mgt?status=' + this.addBanner.status)\n          return \n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.isDisabled = false\n\n        if(this.addBanner.status == 0) {\n          this.addBanner.status = \"启用\"\n        }else if(this.addBanner.status == 1) {\n          this.addBanner.status = \"禁用\"\n        }\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n\n    },\n    /**\n     * [doCancelHandel 取消发布跳转至商品管理页面]\n     * @return {[type]} [description]\n     */\n    doCancelHandel() {\n      this.$router.push('/banner_mgt')\n    },\n    /**\n     * [imageUploadReg 上传图片检测]\n     * @return {[type]}      [description]\n     */\n    imageUploadReg (file) {\n      const isPic = file.type.indexOf('image/') !== -1\n      const isJPG = file.type === 'image/jpeg'\n      if (!isPic) {\n        this.$message.error('Banner图片文件必须是图片格式!')\n      }\n      if (!isJPG) {\n        this.$message.error('Banner图片只能是JPG格式!')\n      }\n      /**\n       * [检测上传图片宽高]\n       * @param  {[type]}   resolve [description]\n       * @param  {Function} reject) {                     let width [description]\n       * @param  {[type]}   ()      [description]\n       * @return {[type]}           [description]\n       */\n      const isSize = new Promise(function(resolve, reject) {\n        let width = 750\n        let height = 280  \n\n        let _URL = window.URL || window.webkitURL\n        let img = new Image();\n        img.onload = function() {\n          let valid = img.width == width && img.height == height\n          valid ? resolve() : reject()\n        }\n        img.src = _URL.createObjectURL(file)\n      }).then(() => {\n        return file\n      }, () => {\n        this.$message.error('请上传750*280像素的JPG图片!')\n        return Promise.reject()\n      })\n\n      return isPic && isJPG && isSize\n    },\n    /**\n     * [emitUpload 上传图片]\n     * @return {[type]}   [description]\n     */\n    emitUpload (e) {\n      this.imageUploadLoading = true\n      this.getToken().then((res) => {\n        // 开始上传图片\n        let uploader = qiniu.upload(e.file, res.fileName, res.token)\n        uploader.subscribe({\n          error: () => {\n            this.imageUploadLoading = false\n          },\n          complete: (res) => {\n            let urlImage = 'http://retailimg01.benlailife.com/' + res.key\n            this.addBanner.url = urlImage\n            this.imageUploadLoading = false\n          },\n          next: res => {\n          }\n        })\n      })\n    },\n    /**\n     * [getToken 通过后台封装的接口获取七牛的token]\n     * @return {[type]}            [description]\n     */\n    getToken () {\n      return this.$http.post(bannerUrlList.getQiNiuToken, {}).then(res => {\n        if (res.code == 0) {\n          let token = res.data.token\n          let fileName = res.data.key\n          return {fileName, token}\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.imageUploadLoading = false\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    },\n    /**\n     * [closeDialog 关闭Dialog]\n     * @param {[type]} _param [platformId]\n     */\n    closeDialog(val) {\n      this.isShowProductList = val.isShowGoods;\n      if(val.chooseProduct) {\n        this.product = val.chooseProduct\n        this.addBanner.productNo = this.product.productNo\n        this.addBanner.presaleId = this.product.presaleId\n      }\n    }\n\n\n  }\n\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MallConfig/BannerMgt/AddBanner.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"form\",attrs:{\"model\":_vm.addBanner,\"label-width\":\"200px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入Banner名称\"},model:{value:(_vm.addBanner.name),callback:function ($$v) {_vm.$set(_vm.addBanner, \"name\", $$v)},expression:\"addBanner.name\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"请输入展示名称，长度不超过20个字\")])],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"banner-uploader\",attrs:{\"label\":\"Banner图片\",\"required\":\"\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadReg,\"http-request\":_vm.emitUpload}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading),expression:\"imageUploadLoading\"}]},[(_vm.addBanner.url)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.addBanner.url}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"tip-txt-w\"},[_c('span',[_vm._v(\"请上传750*280像素的JPG图片，大小不能超过2M\")])])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"跳转类型\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请选择跳转类型\"},model:{value:(_vm.addBanner.type),callback:function ($$v) {_vm.$set(_vm.addBanner, \"type\", $$v)},expression:\"addBanner.type\"}},_vm._l((_vm.transitionList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.addBanner.type == 0),expression:\"addBanner.type == 0\"}],attrs:{\"label\":\"选择商品\",\"required\":\"\"}},[_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.product.productName),expression:\"product.productName\"}],staticStyle:{\"display\":\"inline-block\"}},[_vm._v(_vm._s(_vm.product.productName)+\"  \"+_vm._s(_vm.product.spec)+\"  \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.chooseProduct}},[_vm._v(\"选择\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"启用状态\",\"required\":\"\"}},[_c('el-radio-group',{attrs:{\"size\":\"small\"},model:{value:(_vm.addBanner.status),callback:function ($$v) {_vm.$set(_vm.addBanner, \"status\", $$v)},expression:\"addBanner.status\"}},[_c('el-radio-button',{attrs:{\"label\":\"启用\"}}),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":\"禁用\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled},on:{\"click\":_vm.doSaveHandel}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"选择商品\",\"visible\":_vm.isShowProductList,\"width\":\"700px\"},on:{\"update:visible\":function($event){_vm.isShowProductList=$event}}},[_c('choose-product',{ref:\"ProductListDialog\",on:{\"closeDialog\":_vm.closeDialog}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"启用失败\",\"visible\":_vm.statusBannerDialogVisible,\"width\":\"360px\"},on:{\"update:visible\":function($event){_vm.statusBannerDialogVisible=$event}}},[_c('span',[_vm._v(\"已经超过Banner的启用数量，限制6个\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.statusBannerDialogVisible = false}}},[_vm._v(\"确 认\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a43d9e7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MallConfig/BannerMgt/AddBanner.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a43d9e7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddBanner.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddBanner.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddBanner.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a43d9e7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddBanner.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MallConfig/BannerMgt/AddBanner.vue\n// module id = null\n// module chunks = ","<style type=\"text/css\">\n.ll-p-m-w {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n.ll-img-w {\n  width: 60px;\n  height: 60px;\n}\n.ll-img-w>img {\n  width: 60px;\n}\n.ll-p-m-c-r {\n  padding: 0 10px;\n}\n.ll-erp-p-no {\n  color: #666;\n  font-size: 12px;\n}\n</style>\n<template>\n  <div>\n    <!-- 操作框 -->  \n    <el-row>\n      <el-input class=\"search-input\" v-model.trim=\"searchContent.productNo\" placeholder=\"请输入商品ERP编码\" size=\"small\" @keyup.enter.native=\"doSearchHandel\" clearable></el-input>\n      <el-input class=\"search-input\" v-model.trim=\"searchContent.productName\" placeholder=\"请输入名称关键字\" size=\"small\" @keyup.enter.native=\"doSearchHandel\" clearable></el-input>\n      <el-cascader class=\"search-input\" expand-trigger=\"click\" :options=\"categoriesList\" placeholder=\"请选择分类\" change-on-select v-model=\"categoriesSelectList\" size=\"small\" clearable></el-cascader>\n      <el-button type=\"primary\" @click=\"doSearchHandel\" size=\"mini\">搜索</el-button>\n    </el-row>\n\n    <!-- 搜索结果 -->\n    <el-row>\n      <el-table\n        class=\"fixed-height\"\n        :data=\"tableData\"\n        v-loading=\"loading\"\n        empty-text=\"没有查询到您想要的数据\"\n        style=\"width:100%;\"\n        ref=\"tableRef\"\n        max-height=\"320\"\n        size=\"small\">\n        <el-table-column min-width=\"210\" label=\"商品信息\">\n          <template slot-scope=\"scope\">\n            <div class=\"ll-p-m-w\">\n              <div class=\"ll-img-w\">\n                <img v-if=\"scope.row.productImg && scope.row.productImg != ''\" :src=\"scope.row.productImg\" alt=\"\" onerror=\"onerror=null;src='/shop/static/img_error.png'\">\n                <img v-else src=\"/shop/static/img_error.png\" alt=\"\">\n              </div>\n              <div class=\"ll-p-m-c-r\">\n                <div>{{scope.row.productName}}</div>\n                <div class=\"ll-erp-p-no\">SKU编码：{{scope.row.goodsNo || '--'}}</div>\n              </div>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"65\" prop=\"presalePrice\" label=\"预售价\"></el-table-column>\n        <el-table-column width=\"185\" label=\"预售时间\" :formatter=\"timeFormatter\"></el-table-column>\n        <el-table-column min-width=\"80\" prop=\"productStatusStr\" label=\"有效状态\"></el-table-column>\n        <el-table-column min-width=\"75\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"primary\" size=\"mini\" @click=\"chooseProduct(scope.row)\">选择</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页条 -->\n      <el-pagination\n        v-show=\"tableData.length>0\"\n        class=\"tc mt20\"\n        background\n        style=\"margin-bottom: 10px;\"\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"\n        :current-page.sync=\"currentPage\"\n        :page-sizes=\"[10, 50, 100, 150, 200]\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :pager-count=\"5\"\n        :total=\"total\">\n      </el-pagination>\n    </el-row>\n<!-- \n    <el-row style=\"margin:20px;\">\n      <el-button type=\"primary\" @click=\"close(true)\" size=\"mini\" style=\"float: right;margin-left: 20px;\">选择并导入</el-button>\n      <el-button @click=\"close(false)\" size=\"mini\" style=\"float: right;\">关闭</el-button>\n    </el-row> -->\n\n  </div>\n</template>\n\n<script>\nimport Storage from '@/utils/localStorage'\nimport * as utils from '@/utils/utils'\n \nconst chooseProductUrl = {\n  // 获取分类\n  getCategoryTree: '/plateform/a/category/getCategoryTree',\n  // 查询预售商品列表\n  getPreProduct: '/plateform/a/mall/groupProduct/getPreProduct'\n}\nexport default {\n  data() {\n    return {\n      loading: false,\n      currentPage: 1,\n      pageSize: 10,\n      total: 0,\n      categoriesList: [], // 获取分类\n      searchContent: {\n        categoryCode: '', // 分类\n        productNo: '',\n        productName: ''\n      },\n      tableData: [],\n      categoriesSelectList: [] // 选择分类\n    }\n  },\n  watch: {\n    categoriesSelectList(curVal, oldVal) {\n      this.searchContent.categoryCode = curVal\n      this.doSearchHandel()\n    }\n  },\n  created() {\n    // 获取分类\n    this.getCategoriesList()\n  },\n  mounted() {\n  },\n  components: {},\n  methods: {\n    /**\n     * [setDefault 设置默认]\n     */\n    setDefault(_val) {\n      // 搜索\n      this.doSearchHandel()\n    },\n    /**\n     * [timeFormatter 时间格式化]\n     * @return {[type]} [description]\n     */\n    timeFormatter(row, column, cellValue) {\n      if(row.preStartDate && row.preEndDate && row.preStartTime && row.preEndTime) {\n        let value = row.preStartDate + '-' + row.preEndDate + ' ' + row.preStartTime + '-' + row.preEndTime\n        return cellValue = value\n      }else{\n        return cellValue = ''\n      }\n    },\n    /**\n     * [getCategoriesList 获取分类]\n     * @return {[type]} [description]\n     */\n    getCategoriesList() {\n      this.$http.post(chooseProductUrl.getCategoryTree).then(res => {\n        if(res.code === 0) {\n          if(res.data && res.data.length) {\n            this.categoriesList = res.data.map(item => {\n              let label = item.categoryName\n              let value = item.categoryId\n              let children = []\n              if(item.categoryVoList && item.categoryVoList.length) {\n                let childList = item.categoryVoList\n                children = childList.map(item => {\n                  let label = item.categoryName\n                  let value = item.categoryId\n                  return {\n                    label: label,\n                    value: value\n                  }\n                })\n                return {\n                  label: label,\n                  value: value,\n                  children: children\n                }\n              }else{\n                return {\n                  label: label,\n                  value: value\n                }\n              }\n\n            })\n          }else {\n            this.categoriesList = []\n\n          }\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        console.log(\"提示(获取分类列表):\", e.message)\n      })\n    },\n    /**\n     * [changeSize description]\n     * @param    {[type]}                 value [description]\n     * @return   {[type]}                       [description]\n     */\n    changeSize (value) {\n      this.pageSize = value\n      this.doSearchHandel()\n    },\n    /**\n     * [changeCurrent 点击分页条]\n     * @param    {[type]}                 value [当前页]\n     * @return   {[type]}                       [description]\n     */\n    changeCurrent (value) {\n      this.currentPage = value\n      this.doSearchHandel()\n    },\n    /**\n     * [doSearchHandel 搜索]\n     * @return {[type]} [description]\n     */\n    doSearchHandel() {\n      this.loading = true\n      this.$http.post(chooseProductUrl.getPreProduct, { ...this.searchContent, pageNum: this.currentPage, pageSize: this.pageSize, queryCode: null, queryType: null}).then(res => {\n        this.loading = false\n        if(res.code === 0) {\n          if(res.data && res.data.result && res.data.result.length) {\n            this.tableData = res.data.result\n          }else {\n            this.tableData = []\n          }\n\n          if(this.currentPage == 1) {\n            this.total = res.data.total\n          }\n          return \n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    },\n    /**\n     * [chooseProduct 选择商品]\n     * @return {[type]} [description]\n     */\n    chooseProduct(_param) {\n      // 选择并关闭\n      let chooseProduct = _param\n      let dataMesg = {\n        isShowGoods: false,\n        chooseProduct: _param\n      }\n      this.$emit(\"closeDialog\", dataMesg)\n\n    }\n\n  }\n\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/MallConfig/BannerMgt/ChooseProduct.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请输入商品ERP编码\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel($event)}},model:{value:(_vm.searchContent.productNo),callback:function ($$v) {_vm.$set(_vm.searchContent, \"productNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.productNo\"}}),_vm._v(\" \"),_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请输入名称关键字\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel($event)}},model:{value:(_vm.searchContent.productName),callback:function ($$v) {_vm.$set(_vm.searchContent, \"productName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.productName\"}}),_vm._v(\" \"),_c('el-cascader',{staticClass:\"search-input\",attrs:{\"expand-trigger\":\"click\",\"options\":_vm.categoriesList,\"placeholder\":\"请选择分类\",\"change-on-select\":\"\",\"size\":\"small\",\"clearable\":\"\"},model:{value:(_vm.categoriesSelectList),callback:function ($$v) {_vm.categoriesSelectList=$$v},expression:\"categoriesSelectList\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.doSearchHandel}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"tableRef\",staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"max-height\":\"320\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"210\",\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ll-p-m-w\"},[_c('div',{staticClass:\"ll-img-w\"},[(scope.row.productImg && scope.row.productImg != '')?_c('img',{attrs:{\"src\":scope.row.productImg,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}}):_c('img',{attrs:{\"src\":\"/shop/static/img_error.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"ll-p-m-c-r\"},[_c('div',[_vm._v(_vm._s(scope.row.productName))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo || '--'))])])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"65\",\"prop\":\"presalePrice\",\"label\":\"预售价\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"185\",\"label\":\"预售时间\",\"formatter\":_vm.timeFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"productStatusStr\",\"label\":\"有效状态\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"75\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.chooseProduct(scope.row)}}},[_vm._v(\"选择\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tableData.length>0),expression:\"tableData.length>0\"}],staticClass:\"tc mt20\",staticStyle:{\"margin-bottom\":\"10px\"},attrs:{\"background\":\"\",\"current-page\":_vm.currentPage,\"page-sizes\":[10, 50, 100, 150, 200],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"pager-count\":5,\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3cad4aaa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MallConfig/BannerMgt/ChooseProduct.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3cad4aaa\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChooseProduct.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChooseProduct.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChooseProduct.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3cad4aaa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChooseProduct.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MallConfig/BannerMgt/ChooseProduct.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}