{"version":3,"sources":["webpack:///src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue","webpack:///./src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue?7e66","webpack:///./src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue","webpack:///src/components/StoreMgt/ScreenSet/editPage.vue","webpack:///./src/components/StoreMgt/ScreenSet/editPage.vue?4009","webpack:///./src/components/StoreMgt/ScreenSet/editPage.vue"],"names":["GoodsCatDialog","props","categoryList","type","Array","default","data","defaultProps","children","label","showModel","currentIdx","defaultCheckedKeys","methods","setDefaultMsg","_params","_this","this","setTimeout","$refs","tree","setCheckedKeys","concat","toConsumableArray_default","doConfirmHandel","checkedKeys","getCheckedKeys","categoryNames","join","$emit","ScreenSet_GoodsCatDialog","render","_vm","_h","$createElement","_c","_self","attrs","title","close-on-click-modal","close-on-press-escape","visible","width","on","update:visible","$event","staticStyle","max-height","overflow-y","ref","show-checkbox","node-key","default-checked-keys","_v","staticClass","slot","size","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","fileUrlList","reqUrl","salePriceReg","editPage","id","$route","params","isDisabled","addParamMsg","detailImageList","templateType","templateName","tip","interval","cityId","moduleType","enable","display","storeNo","moduleGoodsReqList","categoryNos","categoryNamesStr","goodsTypes","showMemberPriceB","templateTypeOptions","value","enableOptions","moduleTypeOptions","displayOptions","goodsTypeOptions","cityOptions","storeOptions","imageListArr","imgUrl","sortNum","imageUploadLoading","currentUpFileIdx","created","getDetails","getGoodsType","getCityList","getCategoryList","components","goods-cat-dialog","draggable","vuedraggable_common_default","a","utils","DIFFCITY","$http","post","extends_default","then","res","code","Error","msg","parseInt","cityChange","moduleGoodsVoList","length","map","item","categoryNoList","showMemberPrice","modulePicVoList","imageListArrTemp","imgUrlList","index","push","catch","e","$notify","error","message","_this2","get","console","log","_this3","goodsTypeOptionsTemp","GoodsType","_this4","cityList","cityName","_this5","pageNum","pageSize","storeList","result","storeName","showChooseCatDialog","_row","_index","chooseGoodsDialog","confirmChooseCategory","emitUpload","_this6","$message","getToken","qiniu_min","file","fileName","token","subscribe","complete","urlImage","key","setImgUrl","hash","reduceRight","next","reverse","imageUploadRegForMore","_this7","isPic","indexOf","isJPG","isSizeNum","isSize","promise_default","resolve","reject","_URL","window","URL","webkitURL","img","Image","onload","height","src","createObjectURL","_this8","setItemIdx","_idx","_imgUrl","_this9","detailImageUrl","detailItemMsg","forEach","i","deleteUpFile","filter","idx","datadragEnd","evt","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","map_default","done","_ref","_ref2","slicedToArray_default","err","return","doSaveHandel","_this10","test","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","entries","_ref3","_ref4","imgUrlListParams","modulePicReqList","modulePicReqListParams","tipTxt","$confirm","confirmButtonText","cancelButtonText","success","$router","doCancelHandel","_this11","beforeRouteLeave","to","from","meta","keepAlive","ScreenSet_editPage","model","label-width","required","placeholder","callback","$$v","$set","expression","_l","filterable","change","_e","line-height","icon","multiple","collapse-tags","margin-top","update","action","show-file-list","before-upload","http-request","directives","name","rawName","_s","disabled","ssrContext"],"mappings":"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","file":"static/js/22.2e1759966d30a3edaf24.js","sourcesContent":["<template>\n  <div>\n    <el-dialog \n      title=\"商品分类\" \n      :close-on-click-modal = \"false\"\n      :close-on-press-escape = \"false\"\n      :visible.sync=\"showModel\" \n      width='400px'>\n      <div style=\"max-height: 300px;overflow-y: auto;\">\n        <el-tree\n          ref=\"tree\"\n          :data=\"categoryList\"\n          show-checkbox\n          node-key=\"categoryNo\"\n          :default-checked-keys=\"defaultCheckedKeys\"\n          :props=\"defaultProps\">\n        </el-tree>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showModel = false\" size=\"mini\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"doConfirmHandel\" size=\"mini\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: {\n      categoryList: {\n        type: Array,\n        default: function() {return []}\n      }\n    },\n    data() {\n      return {\n        defaultProps: {\n          children: 'childrenList',\n          label: 'categoryName'\n        },\n        showModel: false,\n        currentIdx: 0,\n        defaultCheckedKeys: []\n      }\n    },\n    methods: {\n      setDefaultMsg(_params) {\n        this.showModel = _params.showModel\n        this.currentIdx = _params.currentIdx\n        this.defaultCheckedKeys = _params.defaultCheckedKeys\n        setTimeout(() => {\n          this.$refs.tree.setCheckedKeys([..._params.defaultCheckedKeys])\n        }, 0);\n      },\n      doConfirmHandel () {\n        this.showModel = false\n        // let categoryNames = this.$refs.tree.getCheckedNodes(true).map(item => {\n        //   return item.categoryName\n        // }).join(',')\n        let checkedKeys = this.$refs.tree.getCheckedKeys(true)\n        let categoryNames = checkedKeys.join(',')\n        let _params = {\n          categoryNames: categoryNames,\n          checkedKeys: checkedKeys,\n          currentIdx: this.currentIdx\n        }\n        this.$emit(\"confirmChooseCategory\", _params)\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"商品分类\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"visible\":_vm.showModel,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.showModel=$event}}},[_c('div',{staticStyle:{\"max-height\":\"300px\",\"overflow-y\":\"auto\"}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.categoryList,\"show-checkbox\":\"\",\"node-key\":\"categoryNo\",\"default-checked-keys\":_vm.defaultCheckedKeys,\"props\":_vm.defaultProps}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.showModel = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.doConfirmHandel}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c7f38b8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsCatDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsCatDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c7f38b8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsCatDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue\n// module id = null\n// module chunks = ","<style>\r\n  @import \"../../../../static/style/file_upload.css\";\r\n\r\n  .mh-up-w {\r\n    float: left;\r\n    margin-left: 10px;\r\n  }\r\n\r\n  .mh-up-w:first-child {\r\n    margin-left: 0;\r\n  }\r\n\r\n  .mh-up-h-w-sc {\r\n    padding: 0 5px;\r\n    line-height: 0;\r\n    margin-top: 10px;\r\n    margin-bottom: 8px;\r\n    text-align: center;\r\n  }\r\n\r\n  .up-h-i {\r\n    cursor: pointer;\r\n    padding-left: 6px;\r\n    padding-right: 6px;\r\n  }\r\n\r\n  .up-h-i:hover {\r\n    color: #3080fe;\r\n  }\r\n\r\n  .display-0-wrap {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n  }\r\n\r\n  .item-com {\r\n    margin-right: 10px;\r\n    padding: 6px;\r\n    border: 1px solid #ececec;\r\n    border-radius: 6px;\r\n  }\r\n\r\n</style>\r\n\r\n<template>\r\n  <div class=\"add-form-wraper\">\r\n    <el-form ref=\"form\" :model=\"addParamMsg\" label-width=\"160px\">\r\n      <el-form-item label=\"模板类型\" required>\r\n        <el-select class=\"add-input\" v-model=\"addParamMsg.templateType\" placeholder=\"请选择模板类型\" size=\"small\">\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in templateTypeOptions\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"区域\" required>\r\n        <el-select class=\"add-input\" v-model=\"addParamMsg.cityId\" placeholder=\"请选择区域\" size=\"small\" @change=\"cityChange\"\r\n          filterable>\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in cityOptions\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"门店\" v-if=\"addParamMsg.templateType === 2\" required>\r\n        <el-select class=\"add-input\" v-model=\"addParamMsg.storeNo\" placeholder=\"请选择门店\" size=\"small\" filterable>\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in storeOptions\"></el-option>\r\n        </el-select>\r\n        <span>请先选择区域再选择门店</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"模板名称\" required>\r\n        <el-input v-model=\"addParamMsg.templateName\" size=\"small\" class=\"add-input\" placeholder=\"模板名称\"></el-input>\r\n        <span>模板名称,限制20个汉字</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"温馨提示\">\r\n        <el-input v-model=\"addParamMsg.tip\" size=\"small\" class=\"add-input\" placeholder=\"温馨提示\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"滚动设置\" required>\r\n        <el-input v-model=\"addParamMsg.interval\" size=\"small\" class=\"add-input\" placeholder=\"翻页间隔（秒）\">\r\n          <el-button slot=\"append\">秒</el-button>\r\n        </el-input>\r\n        <span>翻页间隔（秒）是大于5的整数</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"页面模板设置\" required>\r\n        <el-select class=\"add-input-inline\" v-model=\"addParamMsg.moduleType\" size=\"small\">\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in moduleTypeOptions\">\r\n          </el-option>\r\n        </el-select>\r\n        <el-select class=\"add-input-inline\" v-model=\"addParamMsg.display\" size=\"small\">\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in displayOptions\">\r\n          </el-option>\r\n        </el-select>\r\n        <div class=\"display-0-wrap\" v-if=\"addParamMsg.moduleType === 0\">\r\n          <div class=\"item-com display-item\" v-for=\"(item, index) in moduleGoodsReqList\" :key=\"index\">\r\n            <div>\r\n              <div style=\"line-height: 16px;\">选择商品分类：</div>\r\n              <el-input v-model=\"item.categoryNamesStr\" size=\"small\" class=\"search-input\" placeholder=\"商品分类\">\r\n                <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"showChooseCatDialog(item, index)\"></el-button>\r\n              </el-input>\r\n            </div>\r\n            <div>\r\n              <div style=\"line-height: 16px;\">选择要显示的商品种类：</div>\r\n              <el-select v-model=\"item.goodsTypes\" size=\"small\" class=\"search-input\" multiple collapse-tags\r\n                placeholder=\"要显示的商品种类\">\r\n                <el-option v-for=\"type in goodsTypeOptions\" :key=\"type.value\" :label=\"type.label\" :value=\"type.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div>\r\n              <div style=\"line-height: 16px;margin-top: 8px;\">是否显示以下字段：</div>\r\n              <el-checkbox v-model=\"item.showMemberPriceB\">显示会员价</el-checkbox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"addParamMsg.moduleType === 1\">\r\n          <span>请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张</span>\r\n        </div>\r\n        <div v-if=\"addParamMsg.moduleType === 1\">\r\n          <draggable v-model=\"imageListArr\" @update=\"datadragEnd\">\r\n            <transition-group>\r\n              <div class=\"mh-up-w\" v-for=\"(item, idx) of imageListArr\" @click=\"setItemIdx(idx)\" :key=\"item.imgUrl\">\r\n                <el-upload class=\"avatar-uploader-8-mt\" action=\"\" :show-file-list=\"false\"\r\n                  :before-upload=\"imageUploadRegForMore\" :http-request=\"emitUpload\">\r\n                  <div v-loading=\"imageUploadLoading && currentUpFileIdx == idx\">\r\n                    <img v-if=\"item.imgUrl\" :src=\"item.imgUrl\" class=\"avatar-8-mt\">\r\n                    <i v-else class=\"el-icon-plus avatar-uploader-8-mt-icon\"></i>\r\n                  </div>\r\n                </el-upload>\r\n                <div class=\"mh-up-h-w-sc\" v-if=\"item.imgUrl && item.imgUrl != ''\">\r\n                  <span class=\"up-h-i\" @click=\"deleteUpFile(idx)\"><i class=\"el-icon-delete\"></i></span>\r\n                  <span class=\"up-h-i\"><i class=\"el-icon-rank\"></i></span>\r\n                </div>\r\n              </div>\r\n            </transition-group>\r\n          </draggable>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"启用状态\" required>\r\n        <el-radio-group v-model=\"addParamMsg.enable\" size=\"small\">\r\n          <el-radio-button :label=\"item.value\" v-for=\"(item, idx) in enableOptions\" :key=\"idx\">{{item.label}}\r\n          </el-radio-button>\r\n        </el-radio-group>\r\n        <span>开启后线上将直接启用</span>\r\n      </el-form-item>\r\n      <hr class=\"s-slip-tb\">\r\n      <el-form-item>\r\n        <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel\" :disabled=\"isDisabled\">保存</el-button>\r\n        <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <goods-cat-dialog ref=\"chooseGoodsDialog\" :categoryList=\"categoryList\"\r\n      @confirmChooseCategory=\"confirmChooseCategory\"></goods-cat-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Storage from '@/utils/localStorage'\r\n  import GoodsCatDialog from './GoodsCatDialog'\r\n  import Draggable from 'vuedraggable'\r\n  import * as utils from '@/utils/utils'\r\n  import * as qiniu from 'qiniu-js'\r\n  const fileUrlList = {\r\n    getQiNiuToken: '/foundation/qiniu/auth/file'\r\n  }\r\n  const reqUrl = {\r\n    // 查询用户区域店组一级列表\r\n    userAreaStoreGroupList: '/foundation/store/userStoreCityList',\r\n    // 查询用户权限分店列表\r\n    userStoreList: '/foundation/store/userStoreList',\r\n    // 根据批量CommonCode查询\r\n    listByCommonCodes: '/foundation/businessConfig/listByCommonCodes',\r\n    // 获取商品分类\r\n    categoryList: '/foundation/category/list',\r\n    // 保存/更新模板\r\n    update: '/plateform/p/tv/template/update',\r\n    // 详情\r\n    detail: '/plateform/p/tv/template/detail'\r\n  }\r\n  let salePriceReg = /^[1-9]*[1-9][0-9]*$/\r\n  export default {\r\n    data() {\r\n      return {\r\n        id: this.$route.params.id || '', // 编辑时必传\r\n        isDisabled: false,\r\n        addParamMsg: {\r\n          detailImageList: [], // 图片\r\n          templateType: 2, // 模板类型 1：区域模板 2：门店模板\r\n          templateName: null,\r\n          tip: null,\r\n          interval: null,\r\n          cityId: null,\r\n          moduleType: 0, // 模块类型 0：商品 1：图片\r\n          enable: 0, // 0启用，1禁用\r\n          display: 0, // 0：横向 1：纵向\r\n          storeNo: null // 门店编码,门店模板必填\r\n        },\r\n        moduleGoodsReqList: [{\r\n            categoryNos: [],\r\n            categoryNamesStr: '',\r\n            goodsTypes: [],\r\n            showMemberPriceB: true\r\n          },\r\n          {\r\n            categoryNos: [],\r\n            categoryNamesStr: '',\r\n            goodsTypes: [],\r\n            showMemberPriceB: true\r\n          },\r\n          {\r\n            categoryNos: [],\r\n            categoryNamesStr: '',\r\n            goodsTypes: [],\r\n            showMemberPriceB: true\r\n          }\r\n        ],\r\n        templateTypeOptions: [{\r\n            label: '区域模板',\r\n            value: 1\r\n          },\r\n          {\r\n            label: '门店模板',\r\n            value: 2\r\n          }\r\n        ],\r\n        enableOptions: [{\r\n            label: '启用',\r\n            value: 0\r\n          },\r\n          {\r\n            label: '禁用',\r\n            value: 1\r\n          }\r\n        ],\r\n        moduleTypeOptions: [{\r\n            label: '商品模块',\r\n            value: 0\r\n          },\r\n          {\r\n            label: '图片模块',\r\n            value: 1\r\n          }\r\n        ],\r\n        displayOptions: [{\r\n          label: '横屏显示',\r\n          value: 0\r\n        }],\r\n        goodsTypeOptions: [],\r\n        cityOptions: [{\r\n            label: '商品模块',\r\n            value: 0\r\n          },\r\n          {\r\n            label: '图片模块',\r\n            value: 1\r\n          }\r\n        ],\r\n        storeOptions: [],\r\n        // 显示弹窗\r\n        showModel: false,\r\n        // 商品分类列表\r\n        categoryList: [],\r\n        // 商品图临时使用  imgUrl: 图片地址  sortNum: 序号 goodsId: 商品编码 \r\n        imageListArr: [{\r\n          imgUrl: '',\r\n          sortNum: ''\r\n        }],\r\n        // 商品详情图加载\r\n        imageUploadLoading: false,\r\n        currentUpFileIdx: -1 // 默认选中的文件上传框\r\n      }\r\n    },\r\n    created() {\r\n      this.getDetails()\r\n      this.getGoodsType()\r\n      this.getCityList()\r\n      this.getCategoryList()\r\n    },\r\n    components: {\r\n      'goods-cat-dialog': GoodsCatDialog,\r\n      'draggable': Draggable\r\n    },\r\n    methods: {\r\n      getDetails() {\r\n        utils.showLoading()\r\n        let _params = {\r\n          DIFFCITY: true,\r\n          id: this.id\r\n        }\r\n        this.$http.post(reqUrl.detail, {\r\n          ..._params\r\n        }).then(res => {\r\n          utils.clearLoading()\r\n          if (res.code === 0) {\r\n            this.addParamMsg.templateType = res.data.templateType\r\n            this.addParamMsg.templateName = res.data.templateName\r\n            this.addParamMsg.tip = res.data.tip\r\n            this.addParamMsg.interval = res.data.interval\r\n            this.addParamMsg.cityId = parseInt(res.data.cityId)\r\n            this.cityChange(res.data.cityId)\r\n            this.addParamMsg.moduleType = res.data.moduleType\r\n            this.addParamMsg.enable = res.data.enable\r\n            this.addParamMsg.display = res.data.display\r\n            this.addParamMsg.storeNo = res.data.storeNo\r\n            // 模块类型 0：商品 1：图片\r\n            if (res.data.moduleType === 0) {\r\n              let moduleGoodsVoList = res.data && res.data.moduleGoodsVoList && res.data.moduleGoodsVoList.length ?\r\n                res.data.moduleGoodsVoList : []\r\n              this.moduleGoodsReqList = moduleGoodsVoList.map(item => {\r\n                let newItem = {\r\n                  categoryNos: item.categoryNos,\r\n                  categoryNamesStr: item.categoryNoList,\r\n                  goodsTypes: item.goodsTypes,\r\n                  showMemberPriceB: item.showMemberPrice ? true : false\r\n                }\r\n                return newItem\r\n              })\r\n            } else if (res.data.moduleType === 1) {\r\n              let modulePicVoList = res.data && res.data.modulePicVoList && res.data.modulePicVoList.length ? res\r\n                .data.modulePicVoList : []\r\n              let imageListArrTemp = modulePicVoList[0] ? modulePicVoList[0].imgUrlList : []\r\n              this.imageListArr = imageListArrTemp.map((item, index) => {\r\n                let newIem = {\r\n                  imgUrl: item,\r\n                  sortNum: index\r\n                }\r\n                return newIem\r\n              })\r\n              this.imageListArr.push({\r\n                imgUrl: '',\r\n                sortNum: this.imageListArr.length + 1\r\n              })\r\n            }\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          utils.clearLoading()\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      getCategoryList() {\r\n        this.$http.get(reqUrl.categoryList).then(res => {\r\n          if (res.code === 0) {\r\n            this.categoryList = res.data && res.data.length ? res.data : []\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示【获取区域列表】：\", e.message)\r\n        })\r\n      },\r\n      getGoodsType() {\r\n        this.$http.post(reqUrl.listByCommonCodes, ['GoodsType']).then(res => {\r\n          if (res.code === 0) {\r\n            let goodsTypeOptionsTemp = res.data && res.data.GoodsType && res.data.GoodsType.length ? res.data\r\n              .GoodsType : []\r\n            this.goodsTypeOptions = goodsTypeOptionsTemp.map(item => {\r\n              let newItem = {\r\n                label: item.value,\r\n                value: item.code\r\n              }\r\n              return newItem\r\n            })\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示【获取商品分类】：\", e.message)\r\n        })\r\n      },\r\n      getCityList() {\r\n        this.$http.get(reqUrl.userAreaStoreGroupList).then(res => {\r\n          if (res.code === 0) {\r\n            let cityList = res.data && res.data.length ? res.data : []\r\n            this.cityOptions = cityList.map(item => {\r\n              let newItem = {\r\n                label: `${item.cityId}_${item.cityName}`,\r\n                value: item.cityId\r\n              }\r\n              return newItem\r\n            })\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示【获取区域列表】：\", e.message)\r\n        })\r\n      },\r\n      cityChange(e) {\r\n        let _params = {\r\n          DIFFCITY: true,\r\n          pageNum: 1,\r\n          pageSize: -1,\r\n          cityId: e\r\n        }\r\n        this.addParamMsg.storeNo = null\r\n        this.$http.post(reqUrl.userStoreList, {\r\n          ..._params\r\n        }).then(res => {\r\n          if (res.code === 0) {\r\n            let storeList = res.data && res.data.result && res.data.result.length ? res.data.result : []\r\n            this.storeOptions = storeList.map(item => {\r\n              let newItem = {\r\n                label: `${item.storeNo}_${item.storeName}`,\r\n                value: item.storeNo\r\n              }\r\n              return newItem\r\n            })\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      showChooseCatDialog(_row, _index) {\r\n        let _params = {\r\n          showModel: true,\r\n          currentIdx: _index,\r\n          defaultCheckedKeys: _row.categoryNos\r\n        }\r\n        this.$refs.chooseGoodsDialog.setDefaultMsg(_params)\r\n      },\r\n      confirmChooseCategory(_params) {\r\n        let currentIdx = _params.currentIdx\r\n        let categoryNames = _params.categoryNames\r\n        let checkedKeys = _params.checkedKeys\r\n        this.moduleGoodsReqList[currentIdx].categoryNos = checkedKeys\r\n        this.moduleGoodsReqList[currentIdx].categoryNamesStr = categoryNames\r\n      },\r\n      /**\r\n       * [emitUpload 上传图片]\r\n       * @param  {[type]} e [description]\r\n       * @return {[type]}   [description]\r\n       */\r\n      emitUpload(e) {\r\n        if (this.imageListArr.length > 8 && this.currentUpFileIdx != -1) {\r\n          this.$message.error('上传图片最多可添加8张')\r\n          return\r\n        }\r\n        this.imageUploadLoading = true\r\n        this.getToken().then((res) => {\r\n          // 开始上传图片\r\n          let uploader = qiniu.upload(e.file, res.fileName, res.token)\r\n          uploader.subscribe({\r\n            error: () => {\r\n              this.imageUploadLoading = false\r\n            },\r\n            complete: (res) => {\r\n              // 添加内容设置图片地址\r\n              let urlImage = 'http://retailimg01.benlailife.com/' + res.key\r\n              this.imageUploadLoading = false\r\n              // 设置对应的图片地址\r\n              this.setImgUrl(this.currentUpFileIdx, urlImage)\r\n\r\n              if (this.currentUpFileIdx != -1) {\r\n                let hash = {}\r\n                let imageListItem = {\r\n                  imgUrl: '',\r\n                  sortNum: ''\r\n                }\r\n                this.imageListArr.push(imageListItem)\r\n\r\n                // 去重  防止多个空对象\r\n                this.imageListArr = this.imageListArr.reduceRight((item, next) => {\r\n                  hash[next.imgUrl] ? '' : hash[next.imgUrl] = true && item.push(next)\r\n                  return item\r\n                }, [])\r\n                this.imageListArr.reverse()\r\n              }\r\n            },\r\n            next: res => {}\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [imageUploadReg 上传图片检测]\r\n       * @param  {[type]} file [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      imageUploadRegForMore(file) {\r\n        const isPic = file.type.indexOf('image/') !== -1\r\n        const isJPG = file.type === 'image/jpeg' || file.type === 'image/png'\r\n        const isSizeNum = file.size <= 2 * 1024 * 1024\r\n        if (!isPic) {\r\n          this.$message.error('请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张')\r\n          return false\r\n        }\r\n        if (!isJPG) {\r\n          this.$message.error('请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张')\r\n          return false\r\n        }\r\n        if (!isSizeNum) {\r\n          this.$message.error('请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张')\r\n          return false\r\n        }\r\n        /**\r\n         * [检测上传图片宽高]\r\n         */\r\n        const isSize = new Promise(function (resolve, reject) {\r\n          let width = 1920\r\n          let height = 1080\r\n\r\n          let _URL = window.URL || window.webkitURL\r\n          let img = new Image();\r\n          img.onload = function () {\r\n            let valid = img.width == width && img.height == height\r\n            valid ? resolve() : reject()\r\n          }\r\n          img.src = _URL.createObjectURL(file)\r\n        }).then(() => {\r\n          return file\r\n        }, () => {\r\n          this.$message.error('请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张')\r\n          return Promise.reject()\r\n        })\r\n        return isPic && isJPG && isSizeNum && isSize\r\n      },\r\n      /**\r\n       * [getToken 通过后台封装的接口获取七牛的token]\r\n       * @return {[type]}            [description]\r\n       */\r\n      getToken() {\r\n        return this.$http.post(fileUrlList.getQiNiuToken, {}).then(res => {\r\n          if (res.code == 0) {\r\n            let token = res.data.token\r\n            let fileName = res.data.key\r\n            return {\r\n              fileName,\r\n              token\r\n            }\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.imageUploadLoading = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [setItemIdx 设置当前的上传文件的idx]\r\n       * @param {[type]} _idx [description]\r\n       */\r\n      setItemIdx(_idx) {\r\n        this.currentUpFileIdx = _idx\r\n      },\r\n      /**\r\n       * [setImgUrl 设置对应的图片路径]\r\n       * @param {[type]} _idx    [description]\r\n       * @param {[type]} _imgUrl [description]\r\n       */\r\n      setImgUrl(_idx, _imgUrl) {\r\n        let urlImage = _imgUrl\r\n        let currentIdx = _idx\r\n        if (_idx === -1) {\r\n          this.addParamMsg.detailImageList = []\r\n          this.addParamMsg.detailImageUrl = urlImage\r\n          let detailItemMsg = {\r\n            imgUrl: urlImage,\r\n            sortNum: 1\r\n          }\r\n          this.addParamMsg.detailImageList.push(detailItemMsg)\r\n        } else {\r\n          this.imageListArr.forEach((item, i) => {\r\n            if (i === currentIdx) {\r\n              this.imageListArr[i].imgUrl = urlImage\r\n              this.imageListArr[i].sortNum = parseInt(currentIdx) + 1\r\n            }\r\n          })\r\n        }\r\n      },\r\n      /**\r\n       * [removeFileLeft 删除]\r\n       * @param  {[type]} _idx [description]\r\n       * @return {[type]}       [description]\r\n       */\r\n      deleteUpFile(_idx) {\r\n        let idx = _idx\r\n        this.imageListArr = this.imageListArr.filter((item, idx) => {\r\n          return idx != _idx\r\n        })\r\n      },\r\n      /**\r\n       * [datadragEnd 拖拽结束]\r\n       * @return {[type]} [description]\r\n       */\r\n      datadragEnd(evt) {\r\n        for (let [index, elem] of new Map(this.imageListArr.map((item, i) => [i, item]))) {\r\n          elem.sortNum = index + 1\r\n        }\r\n\r\n        this.imageListArr = this.imageListArr.filter(item => {\r\n          return item.imgUrl != ''\r\n        });\r\n\r\n        let imageListItem = {\r\n          imgUrl: '',\r\n          sortNum: ''\r\n        }\r\n        this.imageListArr.push(imageListItem)\r\n      },\r\n      doSaveHandel() {\r\n        if (!this.addParamMsg.cityId) {\r\n          this.$message(\"[区域]: 请选择区域\")\r\n          return\r\n        }\r\n        let params = {\r\n          DIFFCITY: true,\r\n          id: this.id,\r\n          templateType: this.addParamMsg.templateType, // 模板类型 1：区域模板 2：门店模板\r\n          templateName: this.addParamMsg.templateName,\r\n          tip: this.addParamMsg.tip,\r\n          interval: this.addParamMsg.interval,\r\n          cityId: this.addParamMsg.cityId,\r\n          moduleType: this.addParamMsg.moduleType,\r\n          enable: this.addParamMsg.enable,\r\n          display: this.addParamMsg.display\r\n        }\r\n        if (this.addParamMsg.templateType === 2) {\r\n          // 门店模板必须有门店编码\r\n          params.storeNo = this.addParamMsg.storeNo\r\n          if (!this.addParamMsg.storeNo) {\r\n            this.$message(\"[门店]: 请选择门店\")\r\n            return\r\n          }\r\n        }\r\n        if (!this.addParamMsg.templateName) {\r\n          this.$message(\"[模板名称]: 请输入模板名称\")\r\n          return\r\n        } else {\r\n          if (this.addParamMsg.templateName.length > 20) {\r\n            this.$message(\"[模板名称]: 模板名称,限制20个汉字\")\r\n            return\r\n          }\r\n        }\r\n        if (!this.addParamMsg.interval) {\r\n          this.$message(\"[滚动设置]: 请输入滚动设置，翻页间隔（秒）\")\r\n          return\r\n        } else {\r\n          if (salePriceReg.test(this.addParamMsg.interval)) {\r\n            if(parseInt(this.addParamMsg.interval) < 5) {\r\n              this.$message('[滚动设置]: 翻页间隔（秒）是大于5的整数')\r\n              return\r\n            }\r\n          }else {\r\n            this.$message('[滚动设置]: 翻页间隔（秒）是大于5的整数')\r\n            return\r\n          }\r\n        }\r\n        if (this.addParamMsg.moduleType === 0) {\r\n          // 模块类型 0：商品 1：图片\r\n          for (let [index, item] of this.moduleGoodsReqList.entries()) {\r\n            if (!item.categoryNos || item.categoryNos.length === 0) {\r\n              this.$message(`[页面模板设置]: 请选择第${index+1}块的商品分类`)\r\n              return\r\n            }\r\n          }\r\n\r\n          let moduleGoodsReqList = this.moduleGoodsReqList.map(item => {\r\n            let newItem = {\r\n              categoryNos: item.categoryNos,\r\n              goodsTypes: item.goodsTypes,\r\n              showMemberPrice: item.showMemberPriceB ? 1 : 0\r\n            }\r\n            return newItem\r\n          })\r\n          params.moduleGoodsReqList = moduleGoodsReqList\r\n        } else {\r\n          let imgUrlList = this.imageListArr.filter(item => {\r\n            return item.imgUrl\r\n          })\r\n          if (!imgUrlList || imgUrlList.length === 0) {\r\n            this.$message(`[页面模板设置]: 请上传图片`)\r\n            return\r\n          }\r\n          let imgUrlListParams = imgUrlList.map(item => {\r\n            return item.imgUrl\r\n          })\r\n          params.modulePicReqList = []\r\n          let modulePicReqListParams = {\r\n            imgUrlList: imgUrlListParams\r\n          }\r\n          params.modulePicReqList.push(modulePicReqListParams)\r\n        }\r\n\r\n        let tipTxt = ''\r\n        if (params.enable === 0) {\r\n          tipTxt = \"一个门店或区域有且仅有一个可生效模板，开启后原模板将被禁用，保存时确定要直接启用吗?\"\r\n        } else if (params.enable === 1) {\r\n          tipTxt = \"保存时确定要直接禁用吗?\"\r\n        }\r\n        this.$confirm(tipTxt, '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.isDisabled = true\r\n          this.$http.post(reqUrl.update, {\r\n            ...params\r\n          }).then(res => {\r\n            setTimeout(() => {\r\n              this.isDisabled = false\r\n            }, 500);\r\n            if (res.code === 0) {\r\n              this.$message.success(\"保存成功\")\r\n              this.$router.push('/sc861816')\r\n              return\r\n            }\r\n            throw new Error(res.msg)\r\n          }).catch(e => {\r\n            setTimeout(() => {\r\n              this.isDisabled = false\r\n            }, 500);\r\n            this.$notify.error({\r\n              title: '提示',\r\n              message: e.message\r\n            })\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [doCancelHandel 取消操作]\r\n       * @return {[type]} [description]\r\n       */\r\n      doCancelHandel() {\r\n        this.$confirm('确定取消吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push('/sc861816')\r\n        }).catch(() => {})\r\n      }\r\n\r\n    },\r\n    beforeRouteLeave(to, from, next) {\r\n      to.meta.keepAlive = true;\r\n      next();\r\n    }\r\n  }\r\n\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/StoreMgt/ScreenSet/editPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMsg,\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":\"模板类型\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"placeholder\":\"请选择模板类型\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.templateType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"templateType\", $$v)},expression:\"addParamMsg.templateType\"}},_vm._l((_vm.templateTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"区域\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"placeholder\":\"请选择区域\",\"size\":\"small\",\"filterable\":\"\"},on:{\"change\":_vm.cityChange},model:{value:(_vm.addParamMsg.cityId),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"cityId\", $$v)},expression:\"addParamMsg.cityId\"}},_vm._l((_vm.cityOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),(_vm.addParamMsg.templateType === 2)?_c('el-form-item',{attrs:{\"label\":\"门店\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"placeholder\":\"请选择门店\",\"size\":\"small\",\"filterable\":\"\"},model:{value:(_vm.addParamMsg.storeNo),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"storeNo\", $$v)},expression:\"addParamMsg.storeNo\"}},_vm._l((_vm.storeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('span',[_vm._v(\"请先选择区域再选择门店\")])],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"模板名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"模板名称\"},model:{value:(_vm.addParamMsg.templateName),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"templateName\", $$v)},expression:\"addParamMsg.templateName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"模板名称,限制20个汉字\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"温馨提示\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"温馨提示\"},model:{value:(_vm.addParamMsg.tip),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"tip\", $$v)},expression:\"addParamMsg.tip\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"滚动设置\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"翻页间隔（秒）\"},model:{value:(_vm.addParamMsg.interval),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"interval\", $$v)},expression:\"addParamMsg.interval\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},slot:\"append\"},[_vm._v(\"秒\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"翻页间隔（秒）是大于5的整数\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"页面模板设置\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input-inline\",attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMsg.moduleType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"moduleType\", $$v)},expression:\"addParamMsg.moduleType\"}},_vm._l((_vm.moduleTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-select',{staticClass:\"add-input-inline\",attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMsg.display),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"display\", $$v)},expression:\"addParamMsg.display\"}},_vm._l((_vm.displayOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),(_vm.addParamMsg.moduleType === 0)?_c('div',{staticClass:\"display-0-wrap\"},_vm._l((_vm.moduleGoodsReqList),function(item,index){return _c('div',{key:index,staticClass:\"item-com display-item\"},[_c('div',[_c('div',{staticStyle:{\"line-height\":\"16px\"}},[_vm._v(\"选择商品分类：\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"商品分类\"},model:{value:(item.categoryNamesStr),callback:function ($$v) {_vm.$set(item, \"categoryNamesStr\", $$v)},expression:\"item.categoryNamesStr\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.showChooseCatDialog(item, index)}},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('div',[_c('div',{staticStyle:{\"line-height\":\"16px\"}},[_vm._v(\"选择要显示的商品种类：\")]),_vm._v(\" \"),_c('el-select',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"multiple\":\"\",\"collapse-tags\":\"\",\"placeholder\":\"要显示的商品种类\"},model:{value:(item.goodsTypes),callback:function ($$v) {_vm.$set(item, \"goodsTypes\", $$v)},expression:\"item.goodsTypes\"}},_vm._l((_vm.goodsTypeOptions),function(type){return _c('el-option',{key:type.value,attrs:{\"label\":type.label,\"value\":type.value}})}),1)],1),_vm._v(\" \"),_c('div',[_c('div',{staticStyle:{\"line-height\":\"16px\",\"margin-top\":\"8px\"}},[_vm._v(\"是否显示以下字段：\")]),_vm._v(\" \"),_c('el-checkbox',{model:{value:(item.showMemberPriceB),callback:function ($$v) {_vm.$set(item, \"showMemberPriceB\", $$v)},expression:\"item.showMemberPriceB\"}},[_vm._v(\"显示会员价\")])],1)])}),0):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.moduleType === 1)?_c('div',[_c('span',[_vm._v(\"请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张\")])]):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.moduleType === 1)?_c('div',[_c('draggable',{on:{\"update\":_vm.datadragEnd},model:{value:(_vm.imageListArr),callback:function ($$v) {_vm.imageListArr=$$v},expression:\"imageListArr\"}},[_c('transition-group',_vm._l((_vm.imageListArr),function(item,idx){return _c('div',{key:item.imgUrl,staticClass:\"mh-up-w\",on:{\"click\":function($event){return _vm.setItemIdx(idx)}}},[_c('el-upload',{staticClass:\"avatar-uploader-8-mt\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadRegForMore,\"http-request\":_vm.emitUpload}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading && _vm.currentUpFileIdx == idx),expression:\"imageUploadLoading && currentUpFileIdx == idx\"}]},[(item.imgUrl)?_c('img',{staticClass:\"avatar-8-mt\",attrs:{\"src\":item.imgUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-8-mt-icon\"})])]),_vm._v(\" \"),(item.imgUrl && item.imgUrl != '')?_c('div',{staticClass:\"mh-up-h-w-sc\"},[_c('span',{staticClass:\"up-h-i\",on:{\"click\":function($event){return _vm.deleteUpFile(idx)}}},[_c('i',{staticClass:\"el-icon-delete\"})]),_vm._v(\" \"),_c('span',{staticClass:\"up-h-i\"},[_c('i',{staticClass:\"el-icon-rank\"})])]):_vm._e()],1)}),0)],1)],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"启用状态\",\"required\":\"\"}},[_c('el-radio-group',{attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMsg.enable),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"enable\", $$v)},expression:\"addParamMsg.enable\"}},_vm._l((_vm.enableOptions),function(item,idx){return _c('el-radio-button',{key:idx,attrs:{\"label\":item.value}},[_vm._v(_vm._s(item.label)+\"\\n        \")])}),1),_vm._v(\" \"),_c('span',[_vm._v(\"开启后线上将直接启用\")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled},on:{\"click\":_vm.doSaveHandel}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('goods-cat-dialog',{ref:\"chooseGoodsDialog\",attrs:{\"categoryList\":_vm.categoryList},on:{\"confirmChooseCategory\":_vm.confirmChooseCategory}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-772705ac\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/StoreMgt/ScreenSet/editPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-772705ac\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./editPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./editPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-772705ac\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./editPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/StoreMgt/ScreenSet/editPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}