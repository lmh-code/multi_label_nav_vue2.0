{"version":3,"sources":["webpack:///src/components/GoodsMgt/CategoriesMgt/PubState.vue","webpack:///./src/components/GoodsMgt/CategoriesMgt/PubState.vue?7159","webpack:///./src/components/GoodsMgt/CategoriesMgt/PubState.vue"],"names":["reqUrls","PubState","data","loading","pageNum","pageSize","total","searchContent","platformId","storeNo","syncStatus","categoryIdList","categoryId","storeOptions","platformIdOptions","categoryList","syncStatusOptions","tableData","cateDefaultProps","children","label","value","publishLoading","created","mounted","this","getStoreList","getOrderOrigion","getCategoryId","getSyncStatus","doSearchHandel","methods","_this","$http","post","then","res","code","Error","msg","length","optionsArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","optionItem","storeName","push","err","return","catch","e","console","log","message","_this2","get","unshift","name","_this3","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","categoryVoList","_this4","changeSize","changeCurrent","_param","_this5","spliceLen","extends_default","result","$notify","error","title","doPublishHandel","_this6","$confirm","confirmButtonText","cancelButtonText","type","$message","success","CategoriesMgt_PubState","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","label-position","filterable","placeholder","clearable","size","on","change","$event","callback","$$v","$set","expression","_l","key","_v","options","change-on-select","props","desc","click","icon","directives","rawName","staticStyle","width","empty-text","min-width","scopedSlots","_u","fn","scope","row","_s","platformName","prop","class","syncStatu","syncStatusName","syncStatusDesc","_e","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/126.0ca5f22e6b1cac51fb32.js","sourcesContent":["<style>\n  .status-err-wrap {\n    color: #F56C6C;\n  }\n</style>\n\n<template>\n  <div>\n    <!-- 搜索框 -->\n    <div class=\"search-form-wraper\">\n      <el-form :model=\"searchContent\" label-position=\"top\">\n        <el-form-item label=\"平台\">\n          <el-select class=\"search-input\" v-model=\"searchContent.platformId\" filterable placeholder=\"请选择平台\" clearable size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option\n              v-for=\"item in platformIdOptions\"\n              :key=\"item.platformId\"\n              :label=\"item.name\"\n              :value=\"item.platformId\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"门店\">\n          <el-select class=\"search-input\" v-model=\"searchContent.storeNo\" filterable placeholder=\"请选择门店\" clearable size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option\n              v-for=\"item in storeOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n\n        <el-form-item label=\"分类\">\n          <el-cascader\n            placeholder=\"请选择分类\"\n            class=\"search-input\"\n            :options=\"categoryList\"\n            change-on-select\n            size=\"small\"\n            clearable\n            filterable\n            @change=\"doSearchHandel(true)\"\n            :props=\"cateDefaultProps\"\n            v-model=\"searchContent.categoryIdList\">\n          </el-cascader>\n        </el-form-item>\n\n        <el-form-item label=\"同步状态\">\n          <el-select class=\"search-input\" v-model=\"searchContent.syncStatus\" filterable placeholder=\"请选择同步状态\" clearable size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option\n              v-for=\"item in syncStatusOptions\"\n              :key=\"item.syncStatus\"\n              :label=\"item.desc\"\n              :value=\"item.syncStatus\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- 搜索结果 -->\n    <div class=\"table-wraper\">\n      <div class=\"sp-handel-w\">\n        <el-button size=\"mini\" class=\"sup-mini\" icon=\"el-icon-upload\" :loading=\"publishLoading\" @click=\"doPublishHandel\">一键同步</el-button>\n      </div>\n      <el-table\n        class=\"fixed-height\"\n        v-loading=\"loading\"\n        :data=\"tableData\"\n        empty-text=\"没有查询到您想要的数据\"\n        style=\"width:100%;\"\n        size=\"small\">\n        <el-table-column min-width=\"180px\" label=\"门店信息\">\n          <template slot-scope=\"scope\">\n            <div v-if=\"scope.row.platformId === 2\">\n              {{scope.row.platformName}}（所有门店）\n            </div>\n            <div v-else>\n              {{scope.row.storeNo}} - {{scope.row.platformName}}（{{scope.row.storeName}}）\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"120px\" prop=\"categoryName\" label=\"分类\"></el-table-column>\n        <el-table-column min-width=\"100px\" prop=\"platformName\" label=\"三方平台\"></el-table-column>\n        <el-table-column min-width=\"120px\" label=\"同步状态\">\n          <template slot-scope=\"scope\">\n            <div :class=\"scope.row.syncStatus === 2 || scope.row.syncStatu === 5 || scope.row.syncStatu === 8 ? 'status-err-wrap' : ''\">\n              {{scope.row.syncStatusName}}\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"120px\" label=\"失败原因\">\n          <template slot-scope=\"scope\">\n            <div v-if=\"scope.row.syncStatus === 2 || scope.row.syncStatus === 5 || scope.row.syncStatus === 8\">\n              {{scope.row.syncStatusDesc}}\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页条 -->\n      <el-pagination\n        v-if=\"tableData.length>0\"\n        class=\"tc mt20\"\n        background\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"\n        :current-page.sync=\"pageNum\"\n        :page-sizes=\"[20, 50, 100, 150, 200]\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  const reqUrls = {\n    // 获取三方平台店内分类\n    getCategoryTree: '/plateform/a/category/getCategoryTree',\n    // 获取门店列表接口\n    search: '/plateform/a/store/condition/search',\n    // 商品管理-获取平台列表\n    getPlatformList: '/plateform/a/product/getPlatformList',\n    // 查看平台门店分类同步状态\n    getCategorySyncList: '/plateform/a/category/getCategorySyncList',\n    // 获取分类同步状态枚举\n    getSyncStatus: '/plateform/a/category/getSyncStatus',\n    // 同步分类\n    syncCategory: '/plateform/a/category/syncCategory'\n  }\n  export default {\n    data() {\n      return {\n        loading: false,\n        pageNum: 1,\n        pageSize: 20,\n        total: 0,\n        searchContent: {\n          platformId: '', // 订单来源\n          storeNo: '', // 门店编码\n          syncStatus: '', // 同步状态 0-待创建,1-创建成功,2-创建失败,3-待更新,4-更新成功,5-更新失败,6-待删除,7-删除成功,8-删除失败\n          categoryIdList: [],\n          categoryId: '' // 分类id\n        },\n        storeOptions: [],\n        platformIdOptions: [],\n        categoryList: [],\n        syncStatusOptions: [],\n        tableData: [],\n        // 默认分类参数\n        cateDefaultProps: {\n          children: 'categoryVoList',\n          label: 'categoryName',\n          value: 'categoryId'\n        },\n        publishLoading: false\n\n      }\n    },\n    created() {\n\n    },\n    mounted() {\n      // 获取门店\n      this.getStoreList()\n      // 获取平台列表\n      this.getOrderOrigion()\n      // 三方平台店内分类\n      this.getCategoryId()\n      // 查看平台门店分类同步状态\n      this.getSyncStatus()\n\n      this.doSearchHandel(true)\n    },\n    methods: {\n      /**\n       * [getStoreList 获取门店列表]\n       * @return {[type]} [description]\n       */\n      getStoreList() {\n        this.$http.post(reqUrls.search).then(res => {\n          if(res.code === 0) {\n            if(res.data && res.data.length) {\n              let optionsArr = []\n              for(let item of res.data) {\n                let optionItem = {\n                  value: item.storeNo,\n                  label: item.storeNo +'-'+ item.storeName\n                }\n                optionsArr.push(optionItem)\n              }\n\n              this.storeOptions = optionsArr\n            }\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          console.log(\"提示(获取门店列表):\", e.message)\n        })\n      },\n      /**\n       * [getOrderOrigion 商品管理-获取平台列表]\n       * @return {[type]} [description]\n       */\n      getOrderOrigion() {\n        this.$http.get(reqUrls.getPlatformList).then(res => {\n          if(res.code === 0) {\n            if(res.data && res.data.length) {\n              let platformItem = {\n                \"name\": \"全部\",\n                \"platformId\": \"\"\n              }\n              res.data.unshift(platformItem)\n              this.platformIdOptions = res.data\n            } \n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          console.log(\"提示(手动补单-获取平台列表):\", e.message)\n        })\n      },\n      /**\n       * [getCategoryId 三方平台店内分类]\n       * @return {[type]} [description]\n       */\n      getCategoryId() {\n        this.$http.post(reqUrls.getCategoryTree).then(res => {\n          if(res.code === 0) {\n            if(res.data && res.data.length) {\n              for(let item of res.data) {\n                if(item.categoryVoList && item.categoryVoList.length === 0) {\n                  item.categoryVoList = null\n                }\n              }\n              this.categoryList = res.data\n            }else {\n              this.categoryList = []\n            }\n            return \n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          console.log(\"提示(三方平台店内分类):\", e.message)\n        })\n      },\n      /**\n       * [getSyncStatus 查看平台门店分类同步状态]\n       * @return {[type]} [description]\n       */\n      getSyncStatus() {\n        this.$http.post(reqUrls.getSyncStatus).then(res => {\n          if(res.code === 0) {\n            if(res.data && res.data.length) {\n              this.syncStatusOptions = res.data\n            } \n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          console.log(\"提示(获取分类同步状态枚举):\", e.message)\n        })\n      },\n      /**\n       * [changeSize description]\n       * @param    {[type]}                 value [description]\n       * @return   {[type]}                       [description]\n       */\n      changeSize (value) {\n        this.pageSize = value\n        this.doSearchHandel()\n      },\n      /**\n       * [changeCurrent 点击分页条]\n       * @param    {[type]}                 value [当前页]\n       * @return   {[type]}                       [description]\n       */\n      changeCurrent (value) {\n        this.pageNum = value\n        this.doSearchHandel()\n      },\n      /**\n       * [doSearchHandel 查询]\n       * @return {[type]} [description]\n       */\n      doSearchHandel(_param) {\n        let spliceLen = this.searchContent.categoryIdList.length - 1\n        this.searchContent.categoryId = this.searchContent.categoryIdList[spliceLen]\n        this.loading = true\n        if(_param === true) {\n          this.pageNum = 1\n        }\n        this.$http.post(reqUrls.getCategorySyncList, {...this.searchContent, pageNum: this.pageNum, pageSize: this.pageSize}).then(res => {\n          this.loading = false\n          if(res.code === 0) {\n            if(res.data && res.data.result && res.data.result.length) {\n              this.tableData = res.data.result\n            }else {\n              this.tableData = []\n            }\n            this.total = res.data.total\n            return \n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.loading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      /**\n       * [doPublishHandel 一键同步]\n       * @return {[type]} [description]\n       */\n      doPublishHandel() {\n        this.$confirm(`您确定要执行一键同步操作吗?`, '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.publishLoading = true\n          this.$http.post(reqUrls.syncCategory).then(res => {\n            this.publishLoading = false\n            if(res.code === 0) {\n              this.$message.success(\"一键同步成功\")\n              return \n            }\n            throw new Error(res.msg)\n          }).catch(e => {\n            this.publishLoading = false\n            this.$notify.error({\n              title: '提示',\n              message: e.message\n            })\n          })\n        }).catch(() => {})\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/GoodsMgt/CategoriesMgt/PubState.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"平台\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择平台\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.platformId),callback:function ($$v) {_vm.$set(_vm.searchContent, \"platformId\", $$v)},expression:\"searchContent.platformId\"}},_vm._l((_vm.platformIdOptions),function(item){return _c('el-option',{key:item.platformId,attrs:{\"label\":item.name,\"value\":item.platformId}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择门店\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.storeNo),callback:function ($$v) {_vm.$set(_vm.searchContent, \"storeNo\", $$v)},expression:\"searchContent.storeNo\"}},_vm._l((_vm.storeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类\"}},[_c('el-cascader',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请选择分类\",\"options\":_vm.categoryList,\"change-on-select\":\"\",\"size\":\"small\",\"clearable\":\"\",\"filterable\":\"\",\"props\":_vm.cateDefaultProps},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.categoryIdList),callback:function ($$v) {_vm.$set(_vm.searchContent, \"categoryIdList\", $$v)},expression:\"searchContent.categoryIdList\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"同步状态\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择同步状态\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.syncStatus),callback:function ($$v) {_vm.$set(_vm.searchContent, \"syncStatus\", $$v)},expression:\"searchContent.syncStatus\"}},_vm._l((_vm.syncStatusOptions),function(item){return _c('el-option',{key:item.syncStatus,attrs:{\"label\":item.desc,\"value\":item.syncStatus}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('div',{staticClass:\"sp-handel-w\"},[_c('el-button',{staticClass:\"sup-mini\",attrs:{\"size\":\"mini\",\"icon\":\"el-icon-upload\",\"loading\":_vm.publishLoading},on:{\"click\":_vm.doPublishHandel}},[_vm._v(\"一键同步\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"180px\",\"label\":\"门店信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.platformId === 2)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.platformName)+\"（所有门店）\\n          \")]):_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.storeNo)+\" - \"+_vm._s(scope.row.platformName)+\"（\"+_vm._s(scope.row.storeName)+\"）\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"categoryName\",\"label\":\"分类\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"platformName\",\"label\":\"三方平台\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"label\":\"同步状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{class:scope.row.syncStatus === 2 || scope.row.syncStatu === 5 || scope.row.syncStatu === 8 ? 'status-err-wrap' : ''},[_vm._v(\"\\n            \"+_vm._s(scope.row.syncStatusName)+\"\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"label\":\"失败原因\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.syncStatus === 2 || scope.row.syncStatus === 5 || scope.row.syncStatus === 8)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.syncStatusDesc)+\"\\n          \")]):_vm._e()]}}])})],1),_vm._v(\" \"),(_vm.tableData.length>0)?_c('el-pagination',{staticClass:\"tc mt20\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[20, 50, 100, 150, 200],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-21c446df\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoodsMgt/CategoriesMgt/PubState.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-21c446df\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PubState.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PubState.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PubState.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-21c446df\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PubState.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoodsMgt/CategoriesMgt/PubState.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}