{"version":3,"sources":["webpack:///src/components/GoodsMgt/QeReport/SetDialog.vue","webpack:///./src/components/GoodsMgt/QeReport/SetDialog.vue?c3a2","webpack:///./src/components/GoodsMgt/QeReport/SetDialog.vue","webpack:///src/components/GoodsMgt/QeReport/DownloadScanCode.vue","webpack:///./src/components/GoodsMgt/QeReport/DownloadScanCode.vue?5d11","webpack:///./src/components/GoodsMgt/QeReport/DownloadScanCode.vue","webpack:///src/components/GoodsMgt/QeReport/index.vue","webpack:///./src/components/GoodsMgt/QeReport/index.vue?54e7","webpack:///./src/components/GoodsMgt/QeReport/index.vue"],"names":["telReg","SetDialog","data","visible","disabled","loading","addParamMsg","DIFFCITY","regionCode","regionName","id","merchantName","merchantAddress","merchantPhone","qualificationImageUrl","rules","required","validator","rule","value","callback","Error","trigger","test","imageList","imgUrl","index","components","region","Region","image-upload","ImageUpload","methods","initHandel","_this","this","localStorage","get","$nextTick","$refs","ruleForm","resetFields","getUserAreaList","getDetail","_this2","$http","post","GoodsMgt","getRegionMerchant","then","res","code","msg","stringify_default","reportImageList","JSON","parse","map","url","initImageUpload","catch","e","$notify","error","title","message","_this3","params","imageUpload","setImageList","result","reportImageUrlList","length","item","doConfirmHandel","formName","_this4","validate","valid","saveRegionMerchant","extends_default","$message","success","QeReport_SetDialog","render","_vm","_h","$createElement","_c","_self","attrs","close-on-press-escape","close-on-click-modal","width","on","update:visible","$event","directives","name","rawName","expression","staticClass","ref","model","label-width","className","refresh","_v","label","prop","size","placeholder","$$v","$set","type","rows","imgSize","slot","click","icon","staticRenderFns","GoodsMgt_QeReport_SetDialog","__webpack_require__","normalizeComponent","ssrContext","DownloadScanCode","scanCodeUrl","createScanCode","Common","generateQRCode","posterUrl","downloadImage","imgsrc","image","Image","src","setAttribute","onload","canvas","document","createElement","height","getContext","drawImage","toDataURL","a","event","MouseEvent","download","Date","href","dispatchEvent","setTimeout","QeReport_DownloadScanCode","alt","GoodsMgt_QeReport_DownloadScanCode","DownloadScanCode_normalizeComponent","QeReport","pageNum","pageSize","pageSizes","config","pageSizes20","total","searchContent","defaultRange","checkStartTime","checkEndTime","checkMode","goodsCategory","checkModeOptions","goodsCategoryOptions","tableData","date-picker-range","DatePickerRange","set-dialog","scancode","created","searchContentMesg","$route","meta","keepAlive","remove","doSearchHandel","RegionChange","param","datePickerRangeChange","concat","toConsumableArray_default","addHandel","$router","push","changeSize","changeCurrent","selectQualityCheckReportList","list","goodsCategoryFormatter","row","column","cellValue","filterMsg","filter","checkModeFormatter","timeFormatter","utils","editItem","paramMesg","set","deleteItem","$confirm","confirmButtonText","cancelButtonText","deleteQualityCheckReport","settingDialog","setDialog","downLoadHandel","downloadScancodeDialog","GoodsMgt_QeReport","label-position","clearable","editable","filterable","change","_l","key","staticStyle","empty-text","min-width","formatter","fixed","scopedSlots","_u","fn","scope","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","_e","QeReport_Component","QeReport_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/38.3b5f258a4e1c93f08346.js","sourcesContent":["<style>\n  .add-form-wrap {\n    max-height: 400px;\n    overflow: auto;\n  }\n</style>\n<template>\n  <div>\n    <el-dialog \n      :close-on-press-escape=\"false\"\n      :close-on-click-modal=\"false\"\n      title=\"设置商户信息\" \n      :visible.sync=\"visible\" \n      width='700px'>\n      <div class=\"add-form-wrap\" v-loading=\"loading\">\n        <el-form :model=\"addParamMsg\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\">\n          <region \n            class=\"region-wrap\" \n            className=\"add-input\"\n            ref=\"region\"\n            :required=\"true\"\n            :refresh=\"false\"\n            :disabled=\"true\"></region>\n          <el-form-item label=\"商户名称\" prop=\"merchantName\">\n            <el-input v-model=\"addParamMsg.merchantName\" size=\"small\" class=\"add-input\" placeholder=\"商户名称\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"商户地址\" prop=\"merchantAddress\">\n            <el-input type=\"textarea\" :rows=\"2\" v-model=\"addParamMsg.merchantAddress\" size=\"small\" class=\"add-input\" placeholder=\"商户地址\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"联系电话\" prop=\"merchantPhone\">\n            <el-input v-model=\"addParamMsg.merchantPhone\" size=\"small\" class=\"add-input\" placeholder=\"联系电话\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"商户资质\" required>\n            <image-upload \n              ref=\"imageUpload\" \n              @setImageList=\"setImageList\"\n              :imgSize=\"1024\"/>\n            <span>建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M</span>\n          </el-form-item>\n        </el-form>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"visible = false\" size=\"mini\">取消</el-button>\n        <el-button type=\"primary\" @click=\"doConfirmHandel('ruleForm')\" size=\"mini\" :disabled=\"disabled\" :icon=\"disabled ? 'el-icon-loading' : null\">保存</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\n  import Storage from '@/utils/localStorage'\n  import Region from '@/components/Common/StoreCommon/Region'\n  import ImageUpload from '@/components/Common/File/ImageUpload'\n  import requestUrl from '@/api/GoodsMgt'\n  const telReg = /^1[3|4|5|6|7|8|9][0-9]{9}$/\n  export default {\n    data() {\n      const merchantNameValidator = (rule, value, callback) => {\n        if (!value) {\n          return callback(new Error('商户名称不能为空'))\n        }else {\n          callback()\n        }\n      }\n      const merchantAddressValidator = (rule, value, callback) => {\n        if (!value) {\n          return callback(new Error('商户地址不能为空'))\n        }else {\n          callback()\n        }\n      }\n      const merchantPhoneValidator = (rule, value, callback) => {\n        if (!value) {\n          return callback(new Error('联系电话不能为空'))\n        }else if(!telReg.test(value)) {\n          return callback(new Error('联系电话格式不正确'))\n        }else {\n          callback()\n        }\n      }\n      return {\n        visible: false,\n        disabled: false,\n        loading: false,\n        addParamMsg: {\n          DIFFCITY: true,\n          regionCode: '',\n          regionName: '',\n          id: '',\n          merchantName: '',\n          merchantAddress: '',\n          merchantPhone: '',\n          qualificationImageUrl: ''\n        },\n        rules: {\n          merchantName: [\n            {required: true, validator: merchantNameValidator, trigger: 'blur'}\n          ],\n          merchantAddress: [\n            {required: true, validator: merchantAddressValidator, trigger: 'blur'}\n          ],\n          merchantPhone: [\n            {required: true, validator: merchantPhoneValidator, trigger: 'blur'}\n          ]\n        },\n        imageList: [\n          {\n            imgUrl: '',\n            index: 0\n          }\n        ]\n      }\n    },\n    components: {\n      \"region\": Region,\n      \"image-upload\": ImageUpload\n    },\n    methods: {\n      initHandel() {\n        this.visible = true\n        this.addParamMsg.regionCode = Storage.get('regionCode')\n        this.$nextTick(() => {\n          this.$refs.ruleForm.resetFields();\n          this.$refs.region.getUserAreaList();\n        })\n        this.getDetail()\n      },\n      getDetail() {\n        this.loading = true\n        this.$http.post(requestUrl.getRegionMerchant, {DIFFCITY: true, regionCode: this.addParamMsg.regionCode}).then(res => {\n          this.loading = false\n          if(res.code === 0) {\n            if(res.data && JSON.stringify(res.data) !== '{}') {\n              this.addParamMsg.id = res.data.id\n              this.addParamMsg.regionCode = res.data.regionCode\n              this.addParamMsg.regionName = res.data.regionName\n              this.addParamMsg.merchantName = res.data.merchantName\n              this.addParamMsg.merchantAddress = res.data.merchantAddress\n              this.addParamMsg.merchantPhone = res.data.merchantPhone\n              this.addParamMsg.qualificationImageUrl = res.data.qualificationImageUrl\n            }else {\n              this.addParamMsg.id = ''\n              this.addParamMsg.regionCode = Storage.get('regionCode')\n              this.addParamMsg.regionName = ''\n              this.addParamMsg.merchantName = ''\n              this.addParamMsg.merchantAddress = ''\n              this.addParamMsg.merchantPhone = ''\n              this.addParamMsg.qualificationImageUrl = ''\n            }\n            if(this.addParamMsg.qualificationImageUrl) {\n              let reportImageList = JSON.parse(this.addParamMsg.qualificationImageUrl).map((url, index) => {\n                return {\n                  imgUrl: url,\n                  index\n                }\n              })\n              this.imageList = reportImageList\n            }else {\n              this.imageList = [\n                {\n                  imgUrl: '',\n                  index: 0\n                }\n              ]\n            }\n            this.initImageUpload()\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.loading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      initImageUpload() {\n        this.$nextTick(() => {\n          let params = {\n            imageList: this.imageList\n          }\n          this.$refs.imageUpload.initHandel(params) \n        })\n      },\n      setImageList(result) {\n        const reportImageUrlList = result.imageList && result.imageList.length ? result.imageList.map(item => {\n          return item.imgUrl\n        }) : \"\"\n        this.addParamMsg.qualificationImageUrl = JSON.stringify(reportImageUrlList)\n      },\n      doConfirmHandel(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            if(!this.addParamMsg.regionCode) {\n              this.$message('区域编码不能为空')\n              return\n            }\n            if(JSON.parse(this.addParamMsg.qualificationImageUrl).length === 0) {\n              this.$message('请上传商户资质')\n              return\n            }\n            this.disabled = true\n            this.$http.post(requestUrl.saveRegionMerchant, {...this.addParamMsg}).then(res => {\n              this.disabled = false\n              if(res.code === 0) {\n                this.visible = false\n                this.$message.success(\"设置商户信息成功\")\n                return\n              }\n              throw new Error(res.msg)\n            }).catch(e => {\n              this.disabled = false\n              this.$notify.error({\n                title: '提示',\n                message: e.message\n              })\n            })\n          } else {\n            return false;\n          }\n        })\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/GoodsMgt/QeReport/SetDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"close-on-press-escape\":false,\"close-on-click-modal\":false,\"title\":\"设置商户信息\",\"visible\":_vm.visible,\"width\":\"700px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"add-form-wrap\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.addParamMsg,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('region',{ref:\"region\",staticClass:\"region-wrap\",attrs:{\"className\":\"add-input\",\"required\":true,\"refresh\":false,\"disabled\":true}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商户名称\",\"prop\":\"merchantName\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"商户名称\"},model:{value:(_vm.addParamMsg.merchantName),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"merchantName\", $$v)},expression:\"addParamMsg.merchantName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商户地址\",\"prop\":\"merchantAddress\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"type\":\"textarea\",\"rows\":2,\"size\":\"small\",\"placeholder\":\"商户地址\"},model:{value:(_vm.addParamMsg.merchantAddress),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"merchantAddress\", $$v)},expression:\"addParamMsg.merchantAddress\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"prop\":\"merchantPhone\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"联系电话\"},model:{value:(_vm.addParamMsg.merchantPhone),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"merchantPhone\", $$v)},expression:\"addParamMsg.merchantPhone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商户资质\",\"required\":\"\"}},[_c('image-upload',{ref:\"imageUpload\",attrs:{\"imgSize\":1024},on:{\"setImageList\":_vm.setImageList}}),_vm._v(\" \"),_c('span',[_vm._v(\"建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.disabled,\"icon\":_vm.disabled ? 'el-icon-loading' : null},on:{\"click\":function($event){return _vm.doConfirmHandel('ruleForm')}}},[_vm._v(\"保存\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2f41e262\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoodsMgt/QeReport/SetDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2f41e262\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SetDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SetDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SetDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2f41e262\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SetDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoodsMgt/QeReport/SetDialog.vue\n// module id = null\n// module chunks = ","<style>\n  .pic-wrap {\n    width: 100%;\n    text-align: center;\n    padding-top: 10px;\n    min-height: 250px;\n  }\n</style>\n<template>\n  <div>\n    <el-dialog \n      :close-on-press-escape=\"false\"\n      :close-on-click-modal=\"false\"\n      title=\"设置商户信息\" \n      :visible.sync=\"visible\" \n      width='450px'>\n      <div class=\"pic-wrap\" v-loading=\"loading\">\n        <img width=\"300\" :src=\"scanCodeUrl\" alt=\"二维码\">\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"visible = false\" size=\"mini\">关闭</el-button>\n        <el-button type=\"primary\" @click=\"downloadImage(scanCodeUrl)\" size=\"mini\" :disabled=\"!scanCodeUrl\">保存到电脑</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\n  import commonUrl from '@/api/Common'\n  export default {\n    data() {\n      return {\n        visible: false,\n        loading: false,\n        scanCodeUrl: '',\n        regionCode: ''\n      }\n    },\n    methods: {\n      initHandel(params) {\n        this.visible = true\n        this.regionCode = params.regionCode || ''\n        this.createScanCode()\n      },\n      createScanCode() {\n        this.loading = true\n        this.$http.post(commonUrl.generateQRCode, {\n          \"posterUrl\": `pages/quality/index?regionCode=${this.regionCode}`,\n          \"width\": 800\n        }).then(res => {\n          this.loading = false\n          if(res.code === 0) {\n            this.scanCodeUrl = res.data ? res.data : ''\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.loading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      downloadImage(imgsrc, name) {\n        let image = new Image();\n        image.src = imgsrc\n        // 解决跨域 Canvas 污染问题\n        image.setAttribute(\"crossOrigin\", \"anonymous\")\n        image.onload = function() {\n          let canvas = document.createElement(\"canvas\")\n          canvas.width = image.width\n          canvas.height = image.height\n          let context = canvas.getContext(\"2d\")\n          context.drawImage(image, 0, 0, image.width, image.height)\n          let url = canvas.toDataURL(\"image/png\") //得到图片的base64编码数据\n          let a = document.createElement(\"a\") // 生成一个a元素\n          let event = new MouseEvent(\"click\") // 创建一个单击事件\n          a.download = `${Date.parse(new Date())}_${name || \"photo\"}` // 设置图片名称\n          a.href = url // 将生成的URL设置为a.href属性\n          a.dispatchEvent(event) // 触发a的单击事件\n        }\n        setTimeout(() => {\n          this.$message.success(\"图片保存到电脑成功\")\n          this.visible = false\n        }, 400);\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/GoodsMgt/QeReport/DownloadScanCode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"close-on-press-escape\":false,\"close-on-click-modal\":false,\"title\":\"设置商户信息\",\"visible\":_vm.visible,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"pic-wrap\"},[_c('img',{attrs:{\"width\":\"300\",\"src\":_vm.scanCodeUrl,\"alt\":\"二维码\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"关闭\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":!_vm.scanCodeUrl},on:{\"click\":function($event){return _vm.downloadImage(_vm.scanCodeUrl)}}},[_vm._v(\"保存到电脑\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-10cd46f8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoodsMgt/QeReport/DownloadScanCode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-10cd46f8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DownloadScanCode.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DownloadScanCode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./DownloadScanCode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10cd46f8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./DownloadScanCode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoodsMgt/QeReport/DownloadScanCode.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"handel-search-wraper\">\n      <div class=\"handel-wraper\">\n        <el-button type=\"primary\" @click=\"addHandel\" size=\"mini\" icon=\"el-icon-plus\">添加检测报告</el-button>\n        <el-button type=\"primary\" @click=\"settingDialog\" size=\"mini\" icon=\"el-icon-setting\">设置</el-button>\n        <el-button type=\"primary\" @click=\"downLoadHandel\" size=\"mini\" icon=\"el-icon-download\">下载二维码</el-button>\n      </div>\n      <hr class=\"s-slip\">\n      <div class=\"search-form-wraper\">\n        <el-form :model=\"searchContent\" label-position=\"top\">\n          <region @RegionChange=\"RegionChange\" class=\"region-wrap\" :refresh=\"false\"></region>\n          <el-form-item label=\"检测时间\">\n            <date-picker-range \n              :defaultRange=\"searchContent.defaultRange\"\n              :clearable=\"false\"\n              :editable=\"false\"\n              @datePickerRangeChange=\"datePickerRangeChange\">\n            </date-picker-range>\n          </el-form-item>\n          <el-form-item label=\"检测方式\">\n           <el-select class=\"search-input\" v-model=\"searchContent.checkMode\" filterable placeholder=\"状态\" clearable size=\"small\" @change=\"doSearchHandel(true)\">\n              <el-option\n                v-for=\"item in checkModeOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"品类\">\n           <el-select class=\"search-input\" v-model=\"searchContent.goodsCategory\" filterable placeholder=\"状态\" clearable size=\"small\" @change=\"doSearchHandel(true)\">\n              <el-option\n                v-for=\"item in goodsCategoryOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n    <div class=\"table-wraper\">\n      <el-table\n        class=\"fixed-height\"\n        v-loading=\"loading\"\n        :data=\"tableData\"\n        empty-text=\"没有查询到您想要的数据\"\n        style=\"width:100%;\"\n        size=\"small\">\n        <el-table-column min-width=\"60px\" prop=\"id\" label=\"ID\"></el-table-column>\n        <el-table-column min-width=\"210px\" prop=\"uploadTime\" label=\"上传时间\" :formatter=\"timeFormatter\"></el-table-column>\n        <el-table-column min-width=\"100px\" prop=\"regionName\" label=\"区域\"></el-table-column>\n        <el-table-column min-width=\"90px\" prop=\"goodsCategory\" label=\"品类\" :formatter=\"goodsCategoryFormatter\"></el-table-column>\n        <el-table-column min-width=\"90px\" prop=\"checkMode\" label=\"检测方式\" :formatter=\"checkModeFormatter\"></el-table-column>\n        <el-table-column min-width=\"210px\" prop=\"checkTime\" label=\"检测时间\" :formatter=\"timeFormatter\"></el-table-column>\n        <el-table-column\n          fixed=\"right\"\n          label=\"操作\"\n          width=\"140\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <div>\n              <el-button @click=\"editItem(scope.row)\" type=\"text\" size=\"mini\" icon=\"el-icon-edit\">编辑</el-button>\n              <el-button @click=\"deleteItem(scope.row)\" type=\"text\" size=\"mini\" icon=\"el-icon-delete\">删除</el-button>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页条 -->\n      <el-pagination\n        v-if=\"total>0\"\n        class=\"tc mt20\"\n        background\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"\n        :current-page.sync=\"pageNum\"\n        :page-sizes=\"pageSizes\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n    <set-dialog ref=\"setDialog\"/>\n    <scancode ref=\"downloadScancodeDialog\"/>\n  </div>\n</template>\n\n<script>\n  import Storage from '@/utils/localStorage'\n  import config from '@/utils/config'\n  import Region from '@/components/Common/StoreCommon/Region'\n  import * as utils from '@/utils/utils'\n  import exportSheet from '@/utils/exportExcel'\n  import DatePickerRange from '@/components/Common/DatePickerRange'\n  import requestUrl from '@/api/GoodsMgt'\n  import SetDialog from './SetDialog'\n  import ScancodeDialog from './DownloadScanCode'\n  export default {\n    data() {\n      return {\n        loading: false,\n        pageNum: 1,\n        pageSize: 20,\n        pageSizes: config.pageSizes20,\n        total: 0,\n        searchContent: {\n          DIFFCITY: true,\n          regionCode: Storage.get('regionCode') || '', // 区域ID\n          defaultRange: [],\n          checkStartTime: '',\n          checkEndTime: '',\n          checkMode: '',\n          goodsCategory: ''\n        },\n        checkModeOptions: [\n          {\n            label: '全部',\n            value: ''\n          },\n          {\n            label: '农残检测',\n            value: 1\n          },\n          {\n            label: '其他检测',\n            value: 0\n          }\n        ],\n        // 1-蔬菜，2-水果，3-水产，4-肉类\n        goodsCategoryOptions: [\n          {\n            label: '全部',\n            value: ''\n          },\n          {\n            label: '蔬菜',\n            value: 1\n          },\n          {\n            label: '水果',\n            value: 2\n          },\n          {\n            label: '水产',\n            value: 3\n          },\n          {\n            label: '肉类',\n            value: 4\n          }\n        ],\n        tableData: []\n      }\n    },\n    components: {\n      Region,\n      \"date-picker-range\": DatePickerRange,\n      \"set-dialog\": SetDialog,\n      \"scancode\": ScancodeDialog\n    },\n    created() {\n      let searchContentMesg = Storage.get(\"searchContent\")\n      if(this.$route.meta.keepAlive && searchContentMesg) {\n        this.pageNum = searchContentMesg.pageNum\n        this.searchContent = searchContentMesg.searchContent\n      }\n      Storage.remove('searchContent')\n      this.doSearchHandel()\n    },\n    methods: {\n      RegionChange(param) {\n        this.searchContent.regionCode = param.regionCode\n        this.doSearchHandel()\n      },\n      datePickerRangeChange(result) {\n        this.searchContent.defaultRange = result ? [...result] : result\n        this.searchContent.checkStartTime = result ? result[0] : ''\n        this.searchContent.checkEndTime = result ? result[1] : ''\n        this.doSearchHandel(true)\n      },\n      addHandel() {\n        this.$router.push(\"/qe/add\")\n      },\n      changeSize (value) {\n        this.pageSize = value\n        this.doSearchHandel()\n      },\n      changeCurrent (value) {\n        this.pageNum = value\n        this.doSearchHandel()\n      },\n      doSearchHandel(param) {\n        this.loading = true\n        if (param === true) {\n          this.pageNum = 1\n        }\n        this.$http.post(requestUrl.selectQualityCheckReportList, {\n          ...this.searchContent,\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }).then(res => {\n          this.loading = false\n          if (res.code === 0) {\n            this.tableData = res.data && res.data.list && res.data.list.length ? res.data.list : []\n            this.total = res.data.total\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.loading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      goodsCategoryFormatter(row, column, cellValue, index) {\n        let filterMsg = this.goodsCategoryOptions.filter(item => {\n          return item.value == cellValue\n        })[0]\n        if(filterMsg) {\n          return filterMsg.label\n        }else {\n          return '-'\n        }\n      },\n      checkModeFormatter(row, column, cellValue, index) {\n        let filterMsg = this.checkModeOptions.filter(item => {\n          return item.value == cellValue\n        })[0]\n        if(filterMsg) {\n          return filterMsg.label\n        }else {\n          return '-'\n        }\n      },\n      timeFormatter(row, column, cellValue, index) {\n        return typeof(cellValue) === \"number\" ? utils.dateFormat('yyyy-MM-dd HH:mm:ss', cellValue) : cellValue\n      },\n      editItem(row) {\n        let paramMesg = {\n          searchContent: this.searchContent,\n          pageNum: this.pageNum\n        }\n        Storage.set(\"searchContent\", paramMesg)\n        this.$router.push(`/qe/edit/${row.id}`)\n      },\n      deleteItem(row) {\n        this.$confirm('您确定要执行删除操作吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.get(requestUrl.deleteQualityCheckReport, {id: row.id}).then(res => {\n            if(res.code === 0) {\n              this.$message.success('删除成功')\n              this.doSearchHandel()\n              return \n            }\n            throw new Error(res.msg)\n          }).catch(e => {\n            this.$notify.error({\n              title: '提示',\n              message: e.message\n            })\n          })\n        }).catch(() => {})\n      },\n      settingDialog() {\n        this.$nextTick(() => {\n          this.$refs.setDialog.initHandel()\n        })\n      },\n      downLoadHandel() {\n        this.$nextTick(() => {\n          this.$refs.downloadScancodeDialog.initHandel({\n            regionCode: this.searchContent.regionCode\n          })\n        })\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/GoodsMgt/QeReport/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"handel-search-wraper\"},[_c('div',{staticClass:\"handel-wraper\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addHandel}},[_vm._v(\"添加检测报告\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-setting\"},on:{\"click\":_vm.settingDialog}},[_vm._v(\"设置\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-download\"},on:{\"click\":_vm.downLoadHandel}},[_vm._v(\"下载二维码\")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip\"}),_vm._v(\" \"),_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('region',{staticClass:\"region-wrap\",attrs:{\"refresh\":false},on:{\"RegionChange\":_vm.RegionChange}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"检测时间\"}},[_c('date-picker-range',{attrs:{\"defaultRange\":_vm.searchContent.defaultRange,\"clearable\":false,\"editable\":false},on:{\"datePickerRangeChange\":_vm.datePickerRangeChange}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"检测方式\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"状态\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.checkMode),callback:function ($$v) {_vm.$set(_vm.searchContent, \"checkMode\", $$v)},expression:\"searchContent.checkMode\"}},_vm._l((_vm.checkModeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"品类\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"状态\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.goodsCategory),callback:function ($$v) {_vm.$set(_vm.searchContent, \"goodsCategory\", $$v)},expression:\"searchContent.goodsCategory\"}},_vm._l((_vm.goodsCategoryOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")])],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"60px\",\"prop\":\"id\",\"label\":\"ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"210px\",\"prop\":\"uploadTime\",\"label\":\"上传时间\",\"formatter\":_vm.timeFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"regionName\",\"label\":\"区域\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"prop\":\"goodsCategory\",\"label\":\"品类\",\"formatter\":_vm.goodsCategoryFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"prop\":\"checkMode\",\"label\":\"检测方式\",\"formatter\":_vm.checkModeFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"210px\",\"prop\":\"checkTime\",\"label\":\"检测时间\",\"formatter\":_vm.timeFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editItem(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"删除\")])],1)]}}])})],1),_vm._v(\" \"),(_vm.total>0)?_c('el-pagination',{staticClass:\"tc mt20\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":_vm.pageSizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}}):_vm._e()],1),_vm._v(\" \"),_c('set-dialog',{ref:\"setDialog\"}),_vm._v(\" \"),_c('scancode',{ref:\"downloadScancodeDialog\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-66465710\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoodsMgt/QeReport/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-66465710\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoodsMgt/QeReport/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}