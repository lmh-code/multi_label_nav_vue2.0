{"version":3,"sources":["webpack:///src/components/Activity/StoreAct/StoreActivityGoods/MyTable.vue","webpack:///./src/components/Activity/StoreAct/StoreActivityGoods/MyTable.vue?4ae8","webpack:///./src/components/Activity/StoreAct/StoreActivityGoods/MyTable.vue","webpack:///src/components/Activity/StoreAct/StoreActivityGoods/index.vue","webpack:///./src/components/Activity/StoreAct/StoreActivityGoods/index.vue?9b5e","webpack:///./src/components/Activity/StoreAct/StoreActivityGoods/index.vue"],"names":["MyTable","data","tableData","checkedList","activityTypeOptions","label","value","activityStatusOptions","methods","setDefaultMsg","_val","this","shelfStatusFormatter","row","column","cellValue","index","activityTypeFormatter","matchItem","filter","item","activityStatusFormatter","activityType","updateShelfStatus","_row","_shelfStatus","_value","shelfStatus","$emit","deleteItem","handleSelect","val","hash","checkedListTemp","utils","id","push","checkedListTempArr","concat","toConsumableArray_default","reduceRight","next","handleSelectAll","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","done","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_item","checkedListArr","doBatchDelHandel","batchUpdateShelfStatus","StoreActivityGoods_MyTable","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","icon","disabled","on","click","$event","_v","staticStyle","width","empty-text","select","select-all","type","align","min-width","scopedSlots","_u","key","fn","scope","_s","activityId","activityPlatCityGoodsId","goodsNo","storeName","storeNo","preSaleImageUrl","src","alt","onerror","goodsName","skuNo","platformCityGoodsId","prop","formatter","activityStartDate","activityEndDate","substr","_e","fixed","staticRenderFns","requestUrl","StoreActivityGoods","pageSizes","config","pageSizes10","loading","pageNum","pageSize","total","activeName","searchContent","DIFFCITY","regionCode","localStorage","get","activitySearchVal","storeGroupTypeNo","storeGroupNo","categoryId","categoryIdList","activityStatus","goodsInfo","cateDefaultProps","children","categoryList","topCardCount","all","onShelfCount","offShelfCount","created","getCategoryId","mounted","doSearchHandel","components","my-table","__webpack_require__","normalizeComponent","ssrContext","region-city-store","StoreGroupChange","params","cityId","storeGroupTypeNoList","_this","$http","post","then","res","code","Error","msg","categoryVoList","catch","e","console","log","message","handleTabClick","name","changeSize","changeCurrent","_param","_this2","spliceLen","extends_default","goodsList","$refs","myTable","_value2","allCount","$notify","error","title","_this3","ids","shelfStatusName","$confirm","confirmButtonText","cancelButtonText","$message","success","_this4","idAndActivityTypeArr","idAndActivityTypeList","_this5","map","_this6","StoreAct_StoreActivityGoods","model","label-position","placeholder","options","change-on-select","clearable","filterable","props","change","callback","$$v","$set","expression","nativeOn","keyup","indexOf","_k","keyCode","trim","_l","directives","rawName","tab-click","slot","ref","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","StoreActivityGoods_Component","StoreActivityGoods_normalizeComponent","__webpack_exports__"],"mappings":"6MAyHAA,GACAC,KADA,WAEA,OACAC,aAEAC,eACAC,sBAEAC,MAAA,KACAC,MAAA,KAGAD,MAAA,KACAC,MAAA,KAGAD,MAAA,KACAC,MAAA,KAGAD,MAAA,OACAC,MAAA,KAGAD,MAAA,OACAC,MAAA,KAGAD,MAAA,KACAC,MAAA,KAGAD,MAAA,OACAC,MAAA,KAIAC,wBAEAF,MAAA,KACAC,MAAA,KAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,MAKAE,SAKAC,cALA,SAKAC,GACAC,KAAAT,UAAAQ,EAAAR,UACAS,KAAAR,gBAKAS,qBAZA,SAYAC,EAAAC,EAAAC,EAAAC,GACA,WAAAD,EACA,KACA,IAAAA,EACA,UADA,GAOAE,sBAtBA,SAsBAJ,EAAAC,EAAAC,EAAAC,GACA,IAAAE,EAAAP,KAAAP,oBAAAe,OAAA,SAAAC,GACA,OAAAA,EAAAd,QAAAS,IACA,GACA,OAAAG,EACAA,EAAAb,MAEA,MAMAgB,wBAnCA,SAmCAR,EAAAC,EAAAC,EAAAC,GACA,WAAAD,EACA,MACA,GAAAA,EACA,MACA,GAAAA,EACA,WACA,GAAAA,EACA,WACA,GAAAA,EACA,KAAAF,EAAAS,aACA,WAEA,MAEA,GAAAP,EACA,MACA,GAAAA,EACA,WADA,GAUAQ,kBA9DA,SA8DAC,EAAAC,GACA,IAAAC,GACAb,IAAAW,EACAG,YAAAF,GAGAd,KAAAiB,MAAA,oBAAAF,IAOAG,WA3EA,SA2EAL,GACA,IAAAE,GACAb,IAAAW,GAEAb,KAAAiB,MAAA,aAAAF,IAMAI,aArFA,SAqFAC,EAAAlB,GACA,IAAAmB,KACAC,KAEA,GAAAC,EAAA,EAAArB,EAAAsB,GAAA,KAAAxB,KAAAR,aACAQ,KAAAR,YAAA+B,EAAA,OAAArB,EAAAsB,GAAAxB,KAAAR,iBADA,CAIA8B,EAAAG,KAAAvB,GAGA,IAAAwB,KAAAC,OAAAL,EAAAM,IAAA5B,KAAAR,cACAQ,KAAAR,YAAAkC,EAAAG,YAAA,SAAApB,EAAAqB,GAEA,OADAT,EAAAS,EAAAN,MAAAH,EAAAS,EAAAN,IAAAf,EAAAgB,KAAAK,IACArB,SAOAsB,gBA1GA,SA0GAX,GACA,IAAAC,KACA,GAAAD,EAAAY,OAAA,OAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAEA,QAAAC,EAAAC,EAAAC,IAAAnB,KAAAa,GAAAI,EAAAC,EAAAR,QAAAU,MAAAP,GAAA,OAAAxB,EAAA4B,EAAA1C,MACAK,KAAAR,YAAAiC,KAAAhB,IAHA,MAAAgC,GAAAP,GAAA,EAAAC,EAAAM,EAAA,aAAAR,GAAAK,EAAAI,QAAAJ,EAAAI,SAAA,WAAAR,EAAA,MAAAC,GAMAnC,KAAAR,YAAAQ,KAAAR,YAAAqC,YAAA,SAAApB,EAAAqB,GAEA,OADAT,EAAAS,EAAAN,MAAAH,EAAAS,EAAAN,IAAAf,EAAAgB,KAAAK,IACArB,WAEA,CAGA,IAAAa,KAHAqB,GAAA,EAAAC,GAAA,EAAAC,OAAAT,EAAA,IAIA,QAAAU,EAAAC,EAAAR,IAAAvC,KAAAT,aAAAoD,GAAAG,EAAAC,EAAAjB,QAAAU,MAAAG,GAAA,OAAAK,EAAAF,EAAAnD,MACA2B,EAAAG,KAAAuB,IALA,MAAAP,GAAAG,GAAA,EAAAC,EAAAJ,EAAA,aAAAE,GAAAI,EAAAL,QAAAK,EAAAL,SAAA,WAAAE,EAAA,MAAAC,GAQA,IAAAI,EAAA1B,EAAA,EAAAvB,KAAAR,YAAA8B,EAAA,MACAtB,KAAAR,YAAAyD,KAAAjB,OAAA,EAAAiB,OAOAC,iBAtIA,WAuIA,IAAAnC,GACAvB,YAAAQ,KAAAR,aAGAQ,KAAAiB,MAAA,mBAAAF,IAOAoC,uBAlJA,SAkJArC,GACA,IAAAC,GACAC,YAAAF,EACAtB,YAAAQ,KAAAR,aAEAQ,KAAAiB,MAAA,yBAAAF,MC9UeqC,GADEC,OAFjB,WAA0B,IAAAC,EAAAtD,KAAauD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,mBAA6BF,EAAA,aAAkBE,YAAA,WAAAC,OAA8BC,KAAA,OAAAC,KAAA,kBAAAC,SAAA,IAAAT,EAAA9D,YAAAwC,QAA+EgC,IAAKC,MAAA,SAAAC,GAAyB,OAAAZ,EAAAH,uBAAA,OAAuCG,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,aAA6CE,YAAA,WAAAC,OAA8BC,KAAA,OAAAC,KAAA,mBAAAC,SAAA,IAAAT,EAAA9D,YAAAwC,QAAgFgC,IAAKC,MAAA,SAAAC,GAAyB,OAAAZ,EAAAH,uBAAA,OAAuCG,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAV,EAAA,aAA6CE,YAAA,WAAAC,OAA8BC,KAAA,OAAAC,KAAA,iBAAAC,SAAA,IAAAT,EAAA9D,YAAAwC,QAA8EgC,IAAKC,MAAAX,EAAAJ,oBAA8BI,EAAAa,GAAA,YAAAb,EAAAa,GAAA,KAAAV,EAAA,YAAgDW,aAAaC,MAAA,QAAeT,OAAQtE,KAAAgE,EAAA/D,UAAA+E,aAAA,cAAAT,KAAA,SAA+DG,IAAKO,OAAAjB,EAAAnC,aAAAqD,aAAAlB,EAAAvB,mBAA4D0B,EAAA,mBAAwBG,OAAOa,KAAA,YAAAC,MAAA,YAAqCpB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOe,YAAA,QAAAjF,MAAA,MAAiCkF,YAAAtB,EAAAuB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAvB,EAAA,OAAkBE,YAAA,gBAA0BL,EAAAa,GAAA,SAAAb,EAAA2B,GAAAD,EAAA9E,IAAAgF,eAAA5B,EAAAa,GAAA,KAAAV,EAAA,OAAwEE,YAAA,gBAA0BL,EAAAa,GAAA,WAAAb,EAAA2B,GAAAD,EAAA9E,IAAAiF,4BAAA7B,EAAAa,GAAA,KAAAV,EAAA,OAAuFE,YAAA,gBAA0BL,EAAAa,GAAA,SAAAb,EAAA2B,GAAAD,EAAA9E,IAAAkF,mBAAoD9B,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOlE,MAAA,OAAAiF,YAAA,SAAmCC,YAAAtB,EAAAuB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAvB,EAAA,OAAAA,EAAA,KAAAH,EAAAa,GAAAb,EAAA2B,GAAAD,EAAA9E,IAAAmF,cAAA/B,EAAAa,GAAA,KAAAV,EAAA,KAAoFE,YAAA,aAAuBL,EAAAa,GAAA,SAAAb,EAAA2B,GAAAD,EAAA9E,IAAAoF,qBAAsDhC,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOe,YAAA,QAAAjF,MAAA,QAAmCkF,YAAAtB,EAAAuB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAvB,EAAA,OAAkBE,YAAA,UAAoBF,EAAA,OAAYE,YAAA,gBAA0BqB,EAAA9E,IAAAqF,iBAAA,IAAAP,EAAA9E,IAAAqF,gBAAA9B,EAAA,OAA2EG,OAAO4B,IAAAR,EAAA9E,IAAAqF,gBAAAE,IAAA,GAAAC,QAAA,mDAAoGjC,EAAA,OAAYG,OAAO4B,IAAA,6BAAAC,IAAA,QAA6CnC,EAAAa,GAAA,KAAAV,EAAA,OAA0BE,YAAA,YAAsBF,EAAA,OAAAH,EAAAa,GAAA,mBAAAb,EAAA2B,GAAAD,EAAA9E,IAAAyF,WAAA,yBAAArC,EAAAa,GAAA,KAAAV,EAAA,OAAmHE,YAAA,gBAA0BL,EAAAa,GAAA,QAAAb,EAAA2B,GAAAD,EAAA9E,IAAA0F,OAAA,SAAAtC,EAAAa,GAAA,KAAAV,EAAA,OAA0EE,YAAA,gBAA0BL,EAAAa,GAAA,UAAAb,EAAA2B,GAAAD,EAAA9E,IAAA2F,qBAAA,oBAA6EvC,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOkC,KAAA,OAAApG,MAAA,KAAAiF,YAAA,UAA+CrB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOkC,KAAA,QAAApG,MAAA,KAAAiF,YAAA,UAAgDrB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOkC,KAAA,eAAApG,MAAA,MAAAiF,YAAA,UAAwDrB,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOe,YAAA,OAAAmB,KAAA,eAAApG,MAAA,OAAAqG,UAAAzC,EAAAhD,yBAA+FgD,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOe,YAAA,QAAAmB,KAAA,eAAApG,MAAA,UAA0D4D,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOe,YAAA,QAAAjF,MAAA,QAAmCkF,YAAAtB,EAAAuB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAA,EAAA9E,IAAA8F,mBAAAhB,EAAA9E,IAAA+F,gBAAAxC,EAAA,OAA6EE,YAAA,qBAA+BF,EAAA,OAAAA,EAAA,KAAAH,EAAAa,GAAAb,EAAA2B,GAAAD,EAAA9E,IAAA8F,kBAAAE,OAAA,UAAA5C,EAAAa,GAAA,KAAAV,EAAA,KAAAH,EAAAa,GAAAb,EAAA2B,GAAAD,EAAA9E,IAAA8F,kBAAAE,OAAA,YAAA5C,EAAAa,GAAA,KAAAV,EAAA,OAAAH,EAAAa,GAAA,SAAAb,EAAAa,GAAA,KAAAV,EAAA,OAAAA,EAAA,KAAAH,EAAAa,GAAAb,EAAA2B,GAAAD,EAAA9E,IAAA+F,gBAAAC,OAAA,UAAA5C,EAAAa,GAAA,KAAAV,EAAA,KAAAH,EAAAa,GAAAb,EAAA2B,GAAAD,EAAA9E,IAAA+F,gBAAAC,OAAA,cAAA5C,EAAA6C,YAAgY7C,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOe,YAAA,QAAAmB,KAAA,sBAAApG,MAAA,UAAiE4D,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOe,YAAA,QAAAmB,KAAA,iBAAApG,MAAA,OAAAqG,UAAAzC,EAAA5C,2BAAoG4C,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOe,YAAA,OAAAmB,KAAA,cAAApG,MAAA,KAAAqG,UAAAzC,EAAArD,wBAA2FqD,EAAAa,GAAA,KAAAV,EAAA,mBAAoCG,OAAOwC,MAAA,QAAA1G,MAAA,KAAA2E,MAAA,OAA2CO,YAAAtB,EAAAuB,KAAsBC,IAAA,UAAAC,GAAA,SAAAC,GAAiC,OAAAvB,EAAA,WAAAuB,EAAA9E,IAAAc,YAAAyC,EAAA,aAAgEG,OAAOa,KAAA,OAAAZ,KAAA,OAAAC,KAAA,mBAAqDE,IAAKC,MAAA,SAAAC,GAAyB,OAAAZ,EAAA1C,kBAAAoE,EAAA9E,IAAA,SAA+CoD,EAAAa,GAAA,YAAAa,EAAA9E,IAAAc,YAAAyC,EAAA,aAA+DG,OAAOa,KAAA,OAAAZ,KAAA,OAAAC,KAAA,oBAAsDE,IAAKC,MAAA,SAAAC,GAAyB,OAAAZ,EAAA1C,kBAAAoE,EAAA9E,IAAA,SAA+CoD,EAAAa,GAAA,QAAAb,EAAA6C,MAAA,GAAA7C,EAAAa,GAAA,KAAAV,EAAA,OAAAA,EAAA,aAAoEG,OAAOa,KAAA,OAAAZ,KAAA,OAAAC,KAAA,kBAAoDE,IAAKC,MAAA,SAAAC,GAAyB,OAAAZ,EAAApC,WAAA8D,EAAA9E,SAAmCoD,EAAAa,GAAA,oBAA0B,QAE3vJkC,oBCCjB,IC+FAC,EAEA,wCAFAA,EAIA,2CAJAA,EAMA,0CANAA,EAQA,sCAEAC,GACAjH,KADA,WAEA,OACAkH,UAAAC,EAAA,EAAAC,YACAC,SAAA,EACAC,QAAA,EACAC,SAAA,GACAC,MAAA,EACAC,WAAA,MACAC,eACAC,UAAA,EACAC,WAAAC,EAAA,EAAAC,IAAA,kBACAC,kBAAA,GACArG,aAAA,EACAsG,iBAAA,GACAC,aAAA,GACAjC,QAAA,GACAkC,WAAA,GACAC,kBACA9G,aAAA,GACA+G,eAAA,GACAC,UAAA,IAGAC,kBACAC,SAAA,iBACAnI,MAAA,eACAC,MAAA,cAEAF,sBAEAC,MAAA,KACAC,MAAA,KAGAD,MAAA,KACAC,MAAA,KAGAD,MAAA,KACAC,MAAA,KAGAD,MAAA,OACAC,MAAA,KAGAD,MAAA,OACAC,MAAA,KAIAC,wBAEAF,MAAA,KACAC,MAAA,KAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAmI,gBACAvI,aAEAC,eAEAuI,cACAC,IAAA,EACAC,aAAA,EACAC,cAAA,KAKAC,QA3FA,WA6FAnI,KAAAoI,iBAEAC,QA/FA,WAiGArI,KAAAsI,gBAAA,IAEAC,YACAC,WD7MyBC,EAAQ,OAcjCC,CACErJ,EACA+D,GATF,EAVA,SAAAuF,GACEF,EAAQ,SAaV,KAEA,MAUgC,QCuLhCG,8BAAA,GAEA/I,SACAgJ,iBADA,SACAC,GACA9I,KAAAgH,cAAAE,WAAA4B,EAAA5B,WACAlH,KAAAgH,cAAA+B,OAAAD,EAAAC,OACA/I,KAAAgH,cAAA1B,QAAAwD,EAAAxD,QACAtF,KAAAgH,cAAAM,iBAAAwB,EAAAE,qBAAA,GACAhJ,KAAAgH,cAAAO,aAAAuB,EAAAE,qBAAA,GACAhJ,KAAAsI,gBAAA,IAMAF,cAbA,WAaA,IAAAa,EAAAjJ,KACAA,KAAAkJ,MAAAC,KAAA7C,GAAAW,UAAA,IAAAmC,KAAA,SAAAC,GACA,OAAAA,EAAAC,KAaA,UAAAC,MAAAF,EAAAG,KAZA,GAAAH,EAAA/J,MAAA+J,EAAA/J,KAAA0C,OAAA,KAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IACA,QAAAC,EAAAC,EAAAC,IAAA8G,EAAA/J,QAAA2C,GAAAI,EAAAC,EAAAR,QAAAU,MAAAP,GAAA,OAAAxB,EAAA4B,EAAA1C,MACAc,EAAAgJ,gBAAA,IAAAhJ,EAAAgJ,eAAAzH,SACAvB,EAAAgJ,eAAA,OAHA,MAAAhH,GAAAP,GAAA,EAAAC,EAAAM,EAAA,aAAAR,GAAAK,EAAAI,QAAAJ,EAAAI,SAAA,WAAAR,EAAA,MAAAC,GAMA8G,EAAAnB,aAAAuB,EAAA/J,UAEA2J,EAAAnB,kBAKA4B,MAAA,SAAAC,GACAC,QAAAC,IAAA,gBAAAF,EAAAG,YAOAC,eArCA,SAqCAhK,GACA,OAAAA,EAAAiK,KACAhK,KAAAgH,cAAAhG,aAAA,EACA,WAAAjB,EAAAiK,KACAhK,KAAAgH,cAAAhG,YAAA,EACA,aAAAjB,EAAAiK,OACAhK,KAAAgH,cAAAhG,YAAA,GAEAhB,KAAA+G,WAAAhH,EAAAiK,KACAhK,KAAAsI,gBAAA,IAOA2B,WArDA,SAqDAtK,GACAK,KAAA6G,SAAAlH,EACAK,KAAAsI,kBAEA4B,cAzDA,SAyDAvK,GACAK,KAAA4G,QAAAjH,EACAK,KAAAsI,kBAOAA,eAlEA,SAkEA6B,GAAA,IAAAC,EAAApK,KACAqK,EAAArK,KAAAgH,cAAAS,eAAAzF,OAAA,EACAhC,KAAAgH,cAAAQ,WAAAxH,KAAAgH,cAAAS,eAAA4C,GACArK,KAAA2G,SAAA,GACA,IAAAwD,IACAnK,KAAA4G,QAAA,GAEA5G,KAAAkJ,MAAAC,KAAA7C,EAAAgE,OAAAtK,KAAAgH,eAAAH,SAAA7G,KAAA6G,SAAAD,QAAA5G,KAAA4G,WAAAwC,KAAA,SAAAC,GAEA,GADAe,EAAAzD,SAAA,EACA,IAAA0C,EAAAC,KAAA,CACA,GAAAD,EAAA/J,MAAA+J,EAAA/J,KAAAiL,WAAAlB,EAAA/J,KAAAiL,UAAAvI,OAAA,CACAoI,EAAA7K,UAAA8J,EAAA/J,KAAAiL,UACA,IAAAxJ,GACAxB,UAAA6K,EAAA7K,WAEA6K,EAAAI,MAAAC,SACAL,EAAAI,MAAAC,QAAA3K,cAAAiB,OAEA,CACAqJ,EAAA7K,aACA,IAAAmL,GACAnL,UAAA6K,EAAA7K,WAEA6K,EAAAI,MAAAC,SACAL,EAAAI,MAAAC,QAAA3K,cAAA4K,GAOA,OAJAN,EAAArC,aAAAC,IAAAqB,EAAA/J,KAAAqL,UAAA,EACAP,EAAArC,aAAAE,aAAAoB,EAAA/J,KAAA2I,cAAA,EACAmC,EAAArC,aAAAG,cAAAmB,EAAA/J,KAAA4I,eAAA,OACAkC,EAAAtD,MAAAuC,EAAA/J,KAAAwH,OAAA,GAGA,UAAAyC,MAAAF,EAAAG,OACAE,MAAA,SAAAC,GACAS,EAAAzD,SAAA,EACAyD,EAAAQ,QAAAC,OACAC,MAAA,KACAhB,QAAAH,EAAAG,aASAlJ,kBAjHA,SAiHAG,GAAA,IAAAgK,EAAA/K,KAEAgL,KACAA,EAAAvJ,KAAAV,EAAAb,IAAAsB,IAGA,IAAAR,GAAA,EACAiK,EAAA,GACA,GAAAlK,EAAAC,aACAA,EAAA,EACAiK,EAAA,MACA,GAAAlK,EAAAC,cACAA,EAAA,EACAiK,EAAA,MAGAjL,KAAAkL,SAAA,SAAAD,EAAA,cACAE,kBAAA,KACAC,iBAAA,KACA3G,KAAA,YACA2E,KAAA,WACQ7H,EAAA,IACRwJ,EAAA7B,MAAAC,KAAA7C,GAAA0E,MAAAhK,cAAAiG,UAAA,IAAAmC,KAAA,SAAAC,GAEA,GADU9H,EAAA,IACV,IAAA8H,EAAAC,KAOA,OANA,IAAAtI,EACA+J,EAAAM,SAAAC,QAAA,QACA,IAAAtK,GACA+J,EAAAM,SAAAC,QAAA,aAEAP,EAAAzC,iBAGA,UAAAiB,MAAAF,EAAAG,OACAE,MAAA,SAAAC,GACUpI,EAAA,IACVwJ,EAAAH,QAAAC,OACAC,MAAA,KACAhB,QAAAH,EAAAG,cAGAJ,MAAA,eAOAxI,WAjKA,SAiKAH,GAAA,IAAAwK,EAAAvL,KACAwL,KACA/K,GACAe,GAAAT,EAAAb,IAAAsB,GACAb,aAAAI,EAAAb,IAAAS,cAEA6K,EAAA/J,KAAAhB,GACAT,KAAAkL,SAAA,oBACAC,kBAAA,KACAC,iBAAA,KACA3G,KAAA,YACA2E,KAAA,WACQ7H,EAAA,IACRgK,EAAArC,MAAAC,KAAA7C,GAAAmF,sBAAAD,EAAAvE,UAAA,IAAAmC,KAAA,SAAAC,GAEA,GADU9H,EAAA,IACV,IAAA8H,EAAAC,KAGA,OAFAiC,EAAAF,SAAAC,QAAA,aACAC,EAAAjD,gBAAA,GAGA,UAAAiB,MAAAF,EAAAG,OACAE,MAAA,SAAAC,GACUpI,EAAA,IACVgK,EAAAX,QAAAC,OACAC,MAAA,KACAhB,QAAAH,EAAAG,cAGAJ,MAAA,eAMAxG,iBAnMA,SAmMAnC,GAAA,IAAA2K,EAAA1L,KAIA,GAHAe,EAAAvB,cACAQ,KAAAR,YAAAuB,EAAAvB,aAEA,IAAAQ,KAAAR,YAAAwC,OAAA,CAKA,IAAAwJ,EAAAxL,KAAAR,YAAAmM,IAAA,SAAAlL,GACA,OACAe,GAAAf,EAAAe,GACAb,aAAAF,EAAAE,gBAGAX,KAAAkL,SAAA,sBACAC,kBAAA,KACAC,iBAAA,KACA3G,KAAA,YACA2E,KAAA,WACQ7H,EAAA,IACRmK,EAAAxC,MAAAC,KAAA7C,GAAAmF,sBAAAD,EAAAvE,UAAA,IAAAmC,KAAA,SAAAC,GAEA,GADU9H,EAAA,IACV,IAAA8H,EAAAC,KAGA,OAFAoC,EAAAL,SAAAC,QAAA,eACAI,EAAApD,gBAAA,GAGA,UAAAiB,MAAAF,EAAAG,OACAE,MAAA,SAAAC,GACUpI,EAAA,IACVmK,EAAAd,QAAAC,OACAC,MAAA,KACAhB,QAAAH,EAAAG,cAGAJ,MAAA,mBA/BA1J,KAAAqL,SAAA,UAsCAlI,uBA9OA,SA8OApC,GAAA,IAAA6K,EAAA5L,KAIA,GAHAe,EAAAvB,cACAQ,KAAAR,YAAAuB,EAAAvB,aAEA,IAAAQ,KAAAR,YAAAwC,OAAA,CAKA,IAAAgJ,EAAAhL,KAAAR,YAAAmM,IAAA,SAAAlL,GACA,OAAAA,EAAAe,KAGAR,GAAA,EACAiK,EAAA,GACA,GAAAlK,EAAAC,aACAA,EAAA,EACAiK,EAAA,MACA,GAAAlK,EAAAC,cACAA,EAAA,EACAiK,EAAA,MAGAjL,KAAAkL,SAAA,WAAAD,EAAA,cACAE,kBAAA,KACAC,iBAAA,KACA3G,KAAA,YACA2E,KAAA,WACQ7H,EAAA,IACRqK,EAAA1C,MAAAC,KAAA7C,GAAA0E,MAAAhK,cAAAiG,UAAA,IAAAmC,KAAA,SAAAC,GAEA,GADU9H,EAAA,IACV,IAAA8H,EAAAC,KAOA,OANA,IAAAtI,EACA4K,EAAAP,SAAAC,QAAA,UACA,IAAAtK,GACA4K,EAAAP,SAAAC,QAAA,eAEAM,EAAAtD,iBAGA,UAAAiB,MAAAF,EAAAG,OACAE,MAAA,SAAAC,GACUpI,EAAA,IACVqK,EAAAhB,QAAAC,OACAC,MAAA,KACAhB,QAAAH,EAAAG,cAGAJ,MAAA,mBA3CA1J,KAAAqL,SAAA,YCnceQ,GADExI,OAFP,WAAgB,IAAAC,EAAAtD,KAAauD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,uBAAiCF,EAAA,WAAgBG,OAAOkI,MAAAxI,EAAA0D,cAAA+E,iBAAA,SAAkDtI,EAAA,qBAA0BO,IAAI6E,iBAAAvF,EAAAuF,oBAAyCvF,EAAAa,GAAA,KAAAV,EAAA,gBAAiCG,OAAOlE,MAAA,UAAgB+D,EAAA,eAAoBE,YAAA,eAAAC,OAAkCoI,YAAA,QAAAC,QAAA3I,EAAAwE,aAAAoE,mBAAA,GAAArI,KAAA,QAAAsI,UAAA,GAAAC,WAAA,GAAAC,MAAA/I,EAAAsE,kBAAkJ5D,IAAKsI,OAAA,SAAApI,GAA0B,OAAAZ,EAAAgF,gBAAA,KAAiCwD,OAAQnM,MAAA2D,EAAA0D,cAAA,eAAAuF,SAAA,SAAAC,GAAkElJ,EAAAmJ,KAAAnJ,EAAA0D,cAAA,iBAAAwF,IAAmDE,WAAA,mCAA4C,GAAApJ,EAAAa,GAAA,KAAAV,EAAA,gBAAqCG,OAAOlE,MAAA,gBAAsB+D,EAAA,YAAiBE,YAAA,eAAAC,OAAkCoI,YAAA,aAAAnI,KAAA,QAAAsI,UAAA,IAAyDQ,UAAWC,MAAA,SAAA1I,GAAyB,OAAAA,EAAAO,KAAAoI,QAAA,QAAAvJ,EAAAwJ,GAAA5I,EAAA6I,QAAA,WAAA7I,EAAAY,IAAA,SAAsF,KAAexB,EAAAgF,gBAAA,KAAiCwD,OAAQnM,MAAA2D,EAAA0D,cAAA,UAAAuF,SAAA,SAAAC,GAA6DlJ,EAAAmJ,KAAAnJ,EAAA0D,cAAA,6BAAAwF,IAAAQ,OAAAR,IAAqFE,WAAA,8BAAuC,GAAApJ,EAAAa,GAAA,KAAAV,EAAA,gBAAqCG,OAAOlE,MAAA,aAAmB+D,EAAA,YAAiBE,YAAA,eAAAC,OAAkCoI,YAAA,UAAAnI,KAAA,QAAAsI,UAAA,IAAsDQ,UAAWC,MAAA,SAAA1I,GAAyB,OAAAA,EAAAO,KAAAoI,QAAA,QAAAvJ,EAAAwJ,GAAA5I,EAAA6I,QAAA,WAAA7I,EAAAY,IAAA,SAAsF,KAAexB,EAAAgF,gBAAA,KAAiCwD,OAAQnM,MAAA2D,EAAA0D,cAAA,kBAAAuF,SAAA,SAAAC,GAAqElJ,EAAAmJ,KAAAnJ,EAAA0D,cAAA,qCAAAwF,IAAAQ,OAAAR,IAA6FE,WAAA,sCAA+C,GAAApJ,EAAAa,GAAA,KAAAV,EAAA,gBAAqCG,OAAOlE,MAAA,UAAgB+D,EAAA,aAAkBE,YAAA,eAAAC,OAAkCwI,WAAA,GAAAJ,YAAA,UAAAnI,KAAA,QAAAsI,UAAA,IAAsEnI,IAAKsI,OAAA,SAAApI,GAA0B,OAAAZ,EAAAgF,gBAAA,KAAiCwD,OAAQnM,MAAA2D,EAAA0D,cAAA,aAAAuF,SAAA,SAAAC,GAAgElJ,EAAAmJ,KAAAnJ,EAAA0D,cAAA,eAAAwF,IAAiDE,WAAA,+BAA0CpJ,EAAA2J,GAAA3J,EAAA,6BAAA7C,GAAiD,OAAAgD,EAAA,aAAuBqB,IAAArE,EAAAd,MAAAiE,OAAsBlE,MAAAe,EAAAf,MAAAC,MAAAc,EAAAd,WAAyC,OAAA2D,EAAAa,GAAA,KAAAV,EAAA,gBAAwCG,OAAOlE,MAAA,QAAc+D,EAAA,aAAkBE,YAAA,eAAAC,OAAkCwI,WAAA,GAAAJ,YAAA,QAAAnI,KAAA,QAAAsI,UAAA,IAAoEnI,IAAKsI,OAAA,SAAApI,GAA0B,OAAAZ,EAAAgF,gBAAA,KAAiCwD,OAAQnM,MAAA2D,EAAA0D,cAAA,eAAAuF,SAAA,SAAAC,GAAkElJ,EAAAmJ,KAAAnJ,EAAA0D,cAAA,iBAAAwF,IAAmDE,WAAA,iCAA4CpJ,EAAA2J,GAAA3J,EAAA,+BAAA7C,GAAmD,OAAAgD,EAAA,aAAuBqB,IAAArE,EAAAd,MAAAiE,OAAsBlE,MAAAe,EAAAf,MAAAC,MAAAc,EAAAd,WAAyC,OAAA2D,EAAAa,GAAA,KAAAV,EAAA,gBAAAA,EAAA,aAAwDG,OAAOa,KAAA,UAAAZ,KAAA,QAA+BG,IAAKC,MAAA,SAAAC,GAAyB,OAAAZ,EAAAgF,gBAAA,OAAkChF,EAAAa,GAAA,oBAAAb,EAAAa,GAAA,KAAAV,EAAA,OAAmDyJ,aAAalD,KAAA,UAAAmD,QAAA,YAAAxN,MAAA2D,EAAA,QAAAoJ,WAAA,YAA4E/I,YAAA,4BAAwCF,EAAA,WAAgBO,IAAIoJ,YAAA9J,EAAAyG,gBAA+B+B,OAAQnM,MAAA2D,EAAA,WAAAiJ,SAAA,SAAAC,GAAgDlJ,EAAAyD,WAAAyF,GAAmBE,WAAA,gBAA0BjJ,EAAA,eAAoBG,OAAOoG,KAAA,SAAcvG,EAAA,QAAaG,OAAOyJ,KAAA,SAAeA,KAAA,UAAc/J,EAAAa,GAAA,MAAAb,EAAA2B,GAAAjF,KAAA+H,aAAAC,UAAA1E,EAAAa,GAAA,KAAAV,EAAA,eAAgFG,OAAOoG,KAAA,aAAkBvG,EAAA,QAAaG,OAAOyJ,KAAA,SAAeA,KAAA,UAAc/J,EAAAa,GAAA,OAAAb,EAAA2B,GAAAjF,KAAA+H,aAAAE,mBAAA3E,EAAAa,GAAA,KAAAV,EAAA,eAA0FG,OAAOoG,KAAA,eAAoBvG,EAAA,QAAaG,OAAOyJ,KAAA,SAAeA,KAAA,UAAc/J,EAAAa,GAAA,OAAAb,EAAA2B,GAAAjF,KAAA+H,aAAAG,oBAAA5E,EAAAa,GAAA,KAAAV,EAAA,YAAwF6J,IAAA,UAAAtJ,IAAkBpD,kBAAA0C,EAAA1C,kBAAAM,WAAAoC,EAAApC,WAAAgC,iBAAAI,EAAAJ,iBAAAC,uBAAAG,EAAAH,2BAAmK,OAAAG,EAAAa,GAAA,KAAAV,EAAA,OAAgCyJ,aAAalD,KAAA,OAAAmD,QAAA,SAAAxN,MAAA2D,EAAA/D,UAAAyC,OAAA,EAAA0K,WAAA,yBAAgG/I,YAAA,eAA2BF,EAAA,iBAAsBG,OAAO2J,WAAA,GAAAC,eAAAlK,EAAAsD,QAAA6G,aAAAnK,EAAAkD,UAAAkH,OAAA,0CAAA5G,MAAAxD,EAAAwD,OAA2I9C,IAAK2J,cAAArK,EAAA2G,WAAA2D,iBAAAtK,EAAA4G,cAAA2D,qBAAA,SAAA3J,GAAsGZ,EAAAsD,QAAA1C,GAAmB4J,sBAAA,SAAA5J,GAAwCZ,EAAAsD,QAAA1C,OAAqB,MAErhJmC,oBCChC,IAcI0H,EAdqBtF,EAAQ,OAcjBuF,CACdzH,EACAsF,GAT6B,EAV/B,SAAoBlD,GAClBF,EAAQ,SAaS,KAEU,MAUdwF,EAAA,QAAAF,EAAiB","file":"static/js/36.827581677faa4c905893.js","sourcesContent":["<style>\n  .p-m-w {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n  }\n  .img-w {\n    width: 80px;\n    height: 80px;\n  }\n  .img-w>img {\n    width: 80px;\n  }\n  .p-m-c-r {\n    padding: 0 10px;\n  }\n  .erp-p-no {\n    color: #666;\n    font-size: 12px;\n  }\n\n  .date-wrap-inline {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: center;\n  }\n\n</style>\n<template>\n  <div>\n    <div class=\"batch-handel-w\">\n      <el-button class=\"sup-mini\" size=\"mini\" icon=\"el-icon-upload2\" @click=\"batchUpdateShelfStatus(0)\" :disabled=\"checkedList.length === 0\">上架</el-button>\n      <el-button class=\"sup-mini\" size=\"mini\" icon=\"el-icon-download\" @click=\"batchUpdateShelfStatus(1)\" :disabled=\"checkedList.length === 0\">下架</el-button>\n      <el-button class=\"sup-mini\" size=\"mini\" icon=\"el-icon-delete\" @click=\"doBatchDelHandel\" :disabled=\"checkedList.length === 0\">删除</el-button>\n    </div>\n    <el-table\n      :data=\"tableData\"\n      empty-text=\"没有查询到您想要的数据\"\n      style=\"width:100%;\"\n      size=\"small\"\n      @select=\"handleSelect\"\n      @select-all=\"handleSelectAll\">\n      <el-table-column\n        type=\"selection\"\n        align=\"center\">\n      </el-table-column>\n      <el-table-column min-width=\"160px\" label=\"ID\">\n        <template slot-scope=\"scope\">\n          <div class=\"ll-erp-p-no\">活动ID: {{scope.row.activityId}}</div>\n          <div class=\"ll-erp-p-no\">活动商品ID: {{scope.row.activityPlatCityGoodsId}}</div>\n          <div class=\"ll-erp-p-no\">SKU编码：{{scope.row.goodsNo}}</div>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"门店信息\" min-width=\"130px\">\n        <template slot-scope=\"scope\">\n          <div>\n            <p>{{scope.row.storeName}}</p>\n            <p class=\"erp-p-no\">ERP编码：{{scope.row.storeNo}}</p>\n          </div>\n        </template>  \n      </el-table-column>\n      <el-table-column min-width=\"250px\" label=\"商品信息\">\n        <template slot-scope=\"scope\">\n          <div class=\"p-m-w\">\n            <div class=\"img-w g-m-r\">\n              <img v-if=\"scope.row.preSaleImageUrl && scope.row.preSaleImageUrl != ''\" :src=\"scope.row.preSaleImageUrl\" alt=\"\" onerror=\"onerror=null;src='/shop/static/img_error.png'\">\n              <img v-else src=\"/shop/static/img_error.png\" alt=\"\">\n            </div>\n            <div class=\"p-m-c-r\">\n              <div>\n                {{scope.row.goodsName || '-'}}\n              </div>\n              <div class=\"ll-erp-p-no\">商品编码：{{scope.row.skuNo || '--'}}</div>\n              <div class=\"ll-erp-p-no\">区域商品ID：{{scope.row.platformCityGoodsId || '--'}}</div>\n            </div>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"spec\" label=\"规格\" min-width=\"90px\"></el-table-column>\n      <el-table-column prop=\"price\" label=\"原价\" min-width=\"90px\"></el-table-column>\n      <el-table-column prop=\"preSalePrice\" label=\"活动价\" min-width=\"90px\"></el-table-column>\n      <el-table-column min-width=\"90px\" prop=\"activityType\" label=\"活动类型\" :formatter=\"activityTypeFormatter\"></el-table-column>\n      <el-table-column min-width=\"120px\" prop=\"activityName\" label=\"活动名称\"></el-table-column>\n      <el-table-column min-width=\"210px\" label=\"活动时间\">\n        <template slot-scope=\"scope\">\n          <div class=\"date-wrap-inline\" v-if=\"scope.row.activityStartDate && scope.row.activityEndDate\">\n            <div>\n              <p>{{scope.row.activityStartDate.substr(0, 10)}}</p>\n              <p>{{scope.row.activityStartDate.substr(11, 8)}}</p>\n            </div>\n            <div>&nbsp;-&nbsp;</div>\n            <div>\n              <p>{{scope.row.activityEndDate.substr(0, 10)}}</p>\n              <p>{{scope.row.activityEndDate.substr(11, 8)}}</p>\n            </div>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column min-width=\"110px\" prop=\"pickUpStartDatetime\" label=\"履约时间\"></el-table-column>\n      <el-table-column min-width=\"120px\" prop=\"activityStatus\" label=\"活动状态\" :formatter=\"activityStatusFormatter\"></el-table-column>\n      <el-table-column min-width=\"60px\" prop=\"shelfStatus\" label=\"状态\" :formatter=\"shelfStatusFormatter\"></el-table-column>\n      <el-table-column\n        fixed=\"right\"\n        label=\"操作\"\n        width=\"100\">\n        <template slot-scope=\"scope\" size=\"small\">\n          <div>\n            <el-button type=\"text\" size=\"mini\" v-if=\"scope.row.shelfStatus === 1\" @click=\"updateShelfStatus(scope.row, '0')\" icon=\"el-icon-upload2\">上架</el-button>\n            <el-button type=\"text\" size=\"mini\" v-else-if=\"scope.row.shelfStatus === 0\" @click=\"updateShelfStatus(scope.row, '1')\" icon=\"el-icon-download\">下架</el-button>\n          </div>\n          <div>\n            <el-button type=\"text\" size=\"mini\" icon=\"el-icon-delete\" @click=\"deleteItem(scope.row)\">删除</el-button>\n          </div>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n<script>\nimport * as utils from '@/utils/utils'\nexport default {\n  data() {\n    return {\n      tableData: [],\n      // 选中的商品\n      checkedList: [],\n      activityTypeOptions: [\n        {\n          label: '全部',\n          value: ''\n        },\n        {\n          label: '拼团',\n          value: 11\n        },\n        {\n          label: '秒杀',\n          value: 21\n        },\n        {\n          label: '包装折扣',\n          value: 31\n        },\n        {\n          label: '新人专享',\n          value: 41\n        },\n        {\n          label: '预售',\n          value: 51\n        },\n        {\n          label: '每日爆款',\n          value: 61\n        }\n      ],\n      // 活动状态 0：未发布，1 ：已发布 ，2：未开始，3：进行中，4：已结束，5：已终止，6：已失效\"\n      activityStatusOptions: [\n        {\n          label: '全部',\n          value: ''\n        },\n        {\n          label: '进行中',\n          value: 3\n        },\n        {\n          label: '未发布',\n          value: 0\n        },\n        {\n          label: '未开始',\n          value: 2\n        },\n        {\n          label: '已结束',\n          value: 4\n        },\n        {\n          label: '已终止',\n          value: 5\n        }\n      ]\n    }\n  },\n  methods: {\n    /**\n     * [setDefaultMsg 设置信息]\n     * @param {[type]} _val [description]\n     */\n    setDefaultMsg(_val) {\n      this.tableData = _val.tableData\n      this.checkedList = []\n    },\n    /**\n     * [shelfStatusFormatter 格式化状态]\n     */\n     shelfStatusFormatter(row, column, cellValue, index) {\n      if(cellValue === 0) {\n        return '上架'\n      }else if(cellValue === 1) {\n        return '下架'\n      } \n    },\n    /**\n     * [activityTypeFormatter 格式化活动类型]\n     */\n     activityTypeFormatter(row, column, cellValue, index) {\n      let matchItem = this.activityTypeOptions.filter(item => {\n        return item.value === cellValue\n      })[0]\n      if(matchItem) {\n        return matchItem.label\n      }else {\n        return '--'\n      }\n    },\n    /**\n     * [activityStatusFormatter 格式化状态]\n    */\n    activityStatusFormatter(row, column, cellValue, index) {\n      if(cellValue === 0) {\n        return \"未发布\"\n      }else if(cellValue == 1) {\n        return \"已发布\"\n      }else if(cellValue == 2) {\n        return \"未开始[发布中]\"\n      }else if(cellValue == 3) {\n        return \"进行中[发布中]\"\n      }else if(cellValue == 4) {\n        if(row.activityType === 11) {\n          return \"已结束[发布中]\"\n        }else {\n          return \"已结束\"\n        }\n      }else if(cellValue == 5) {\n        return \"已终止\"\n      }else if(cellValue == 6) {\n        return \"已失效\"\n      }\n    },\n    /**\n     * [updateShelfStatus 上下架]\n     * @param  {[type]} _row    [当前行信息]\n     * @param  {[type]} _shelfStatus [状态  0  上架  1  下架]\n     * @return {[type]}         [description]\n     */\n    updateShelfStatus(_row, _shelfStatus) {\n      let _value = {\n        row: _row,\n        shelfStatus: _shelfStatus\n      }\n\n      this.$emit('updateShelfStatus', _value)\n    },\n    /**\n     * [deleteItem 删除操作]\n     * @param  {[type]} _row [description]\n     * @return {[type]}      [description]\n     */\n    deleteItem(_row) {\n      let _value = {\n        row: _row\n      }\n      this.$emit('deleteItem', _value)\n    },\n    /**\n     * [handleSelect 选择某一个]\n     * @return {[type]} [description]\n     */\n    handleSelect(val, row) {\n      let hash = {}\n      let checkedListTemp = []\n\n      if(utils.isKeyInArrayBykey(row.id, 'id', this.checkedList)) {\n        this.checkedList = utils.removeItemByKeyVal('id', row.id, this.checkedList)\n        return\n      }else {\n        checkedListTemp.push(row)\n      }\n\n      let checkedListTempArr = [...checkedListTemp, ...this.checkedList]\n      this.checkedList = checkedListTempArr.reduceRight((item, next) => {\n        hash[next.id] ? '' : hash[next.id] = true && item.push(next)\n        return item\n      }, [])\n    },\n    /**\n     * [handleSelectAll 选择多个]\n     * @return {[type]} [description]\n     */\n    handleSelectAll(val) {\n      let hash = {}\n      if(val.length > 0) {\n        // 全选\n        for(let item of val) {\n          this.checkedList.push(item)\n        }\n        // 去重\n        this.checkedList = this.checkedList.reduceRight((item, next) => {\n          hash[next.id] ? '' : hash[next.id] = true && item.push(next)\n          return item\n        }, [])\n      }else { \n        // 全不选 此时val.length<=0\n        // 1.获取当前table中每一条的id\n        let checkedListTemp = []\n        for(let item of this.tableData) {\n          checkedListTemp.push(item)\n        }\n        // 2.从要传递的参数中去掉这些重复的\n        let checkedListArr = utils.getSubtract(this.checkedList, checkedListTemp, 'id')\n        this.checkedList = checkedListArr && checkedListArr.length > 0 ? checkedListArr : [] \n      }\n    },\n    /**\n     * [doBatchDelHandel 批量删除]\n     * @return {[type]} [description]\n     */\n    doBatchDelHandel() {\n      let _value = {\n        checkedList: this.checkedList\n      }\n\n      this.$emit('doBatchDelHandel', _value)\n    },\n    /**\n     * [batchUpdateShelfStatus 批量上下架]\n     * @param  {[type]} _shelfStatus [description]\n     * @return {[type]}              [description]\n     */\n    batchUpdateShelfStatus(_shelfStatus) {\n      let _value = {\n        shelfStatus: _shelfStatus,\n        checkedList: this.checkedList\n      }\n      this.$emit('batchUpdateShelfStatus', _value)\n    }\n\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/StoreAct/StoreActivityGoods/MyTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"batch-handel-w\"},[_c('el-button',{staticClass:\"sup-mini\",attrs:{\"size\":\"mini\",\"icon\":\"el-icon-upload2\",\"disabled\":_vm.checkedList.length === 0},on:{\"click\":function($event){return _vm.batchUpdateShelfStatus(0)}}},[_vm._v(\"上架\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"sup-mini\",attrs:{\"size\":\"mini\",\"icon\":\"el-icon-download\",\"disabled\":_vm.checkedList.length === 0},on:{\"click\":function($event){return _vm.batchUpdateShelfStatus(1)}}},[_vm._v(\"下架\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"sup-mini\",attrs:{\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"disabled\":_vm.checkedList.length === 0},on:{\"click\":_vm.doBatchDelHandel}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\"},on:{\"select\":_vm.handleSelect,\"select-all\":_vm.handleSelectAll}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"160px\",\"label\":\"ID\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"活动ID: \"+_vm._s(scope.row.activityId))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"活动商品ID: \"+_vm._s(scope.row.activityPlatCityGoodsId))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"门店信息\",\"min-width\":\"130px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('p',[_vm._v(_vm._s(scope.row.storeName))]),_vm._v(\" \"),_c('p',{staticClass:\"erp-p-no\"},[_vm._v(\"ERP编码：\"+_vm._s(scope.row.storeNo))])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"250px\",\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"p-m-w\"},[_c('div',{staticClass:\"img-w g-m-r\"},[(scope.row.preSaleImageUrl && scope.row.preSaleImageUrl != '')?_c('img',{attrs:{\"src\":scope.row.preSaleImageUrl,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}}):_c('img',{attrs:{\"src\":\"/shop/static/img_error.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"p-m-c-r\"},[_c('div',[_vm._v(\"\\n              \"+_vm._s(scope.row.goodsName || '-')+\"\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"商品编码：\"+_vm._s(scope.row.skuNo || '--'))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"区域商品ID：\"+_vm._s(scope.row.platformCityGoodsId || '--'))])])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"spec\",\"label\":\"规格\",\"min-width\":\"90px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"原价\",\"min-width\":\"90px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"preSalePrice\",\"label\":\"活动价\",\"min-width\":\"90px\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"prop\":\"activityType\",\"label\":\"活动类型\",\"formatter\":_vm.activityTypeFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"activityName\",\"label\":\"活动名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"210px\",\"label\":\"活动时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.activityStartDate && scope.row.activityEndDate)?_c('div',{staticClass:\"date-wrap-inline\"},[_c('div',[_c('p',[_vm._v(_vm._s(scope.row.activityStartDate.substr(0, 10)))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(scope.row.activityStartDate.substr(11, 8)))])]),_vm._v(\" \"),_c('div',[_vm._v(\" - \")]),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(_vm._s(scope.row.activityEndDate.substr(0, 10)))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(scope.row.activityEndDate.substr(11, 8)))])])]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"110px\",\"prop\":\"pickUpStartDatetime\",\"label\":\"履约时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"activityStatus\",\"label\":\"活动状态\",\"formatter\":_vm.activityStatusFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"60px\",\"prop\":\"shelfStatus\",\"label\":\"状态\",\"formatter\":_vm.shelfStatusFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(scope.row.shelfStatus === 1)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-upload2\"},on:{\"click\":function($event){return _vm.updateShelfStatus(scope.row, '0')}}},[_vm._v(\"上架\")]):(scope.row.shelfStatus === 0)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-download\"},on:{\"click\":function($event){return _vm.updateShelfStatus(scope.row, '1')}}},[_vm._v(\"下架\")]):_vm._e()],1),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"删除\")])],1)]}}])})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e928b5a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/StoreAct/StoreActivityGoods/MyTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e928b5a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MyTable.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./MyTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e928b5a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./MyTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/StoreAct/StoreActivityGoods/MyTable.vue\n// module id = null\n// module chunks = ","<style>\r\n  .tab-wraper>.el-tabs>.el-tabs__header {\r\n    margin: 0;\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <!-- 搜索框 -->\r\n    <div class=\"search-form-wraper\">\r\n      <el-form :model=\"searchContent\" label-position=\"top\">\r\n        <region-city-store @StoreGroupChange=\"StoreGroupChange\"></region-city-store>\r\n        <el-form-item label=\"商品分类\">\r\n          <el-cascader\r\n            placeholder=\"请选择分类\"\r\n            class=\"search-input\"\r\n            :options=\"categoryList\"\r\n            change-on-select\r\n            size=\"small\"\r\n            clearable\r\n            filterable\r\n            @change=\"doSearchHandel(true)\"\r\n            :props=\"cateDefaultProps\"\r\n            v-model=\"searchContent.categoryIdList\">\r\n          </el-cascader>\r\n        </el-form-item>\r\n        <el-form-item label=\"SKU编码/商品名称\">\r\n          <el-input class=\"search-input\" v-model.trim=\"searchContent.goodsInfo\" placeholder=\"SKU编码/商品名称\" size=\"small\" @keyup.enter.native=\"doSearchHandel(true)\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动ID/名称\">\r\n          <el-input class=\"search-input\" v-model.trim=\"searchContent.activitySearchVal\" placeholder=\"活动ID/名称\" size=\"small\" @keyup.enter.native=\"doSearchHandel(true)\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动类型\">\r\n          <el-select class=\"search-input\" v-model=\"searchContent.activityType\" filterable placeholder=\"请选择活动类型\" size=\"small\" @change=\"doSearchHandel(true)\" clearable>\r\n             <el-option\r\n               v-for=\"item in activityTypeOptions\"\r\n               :key=\"item.value\"\r\n               :label=\"item.label\"\r\n               :value=\"item.value\">\r\n             </el-option>\r\n           </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\">\r\n          <el-select class=\"search-input\" v-model=\"searchContent.activityStatus\" filterable placeholder=\"请选择状态\" size=\"small\" @change=\"doSearchHandel(true)\" clearable>\r\n             <el-option\r\n               v-for=\"item in activityStatusOptions\"\r\n               :key=\"item.value\"\r\n               :label=\"item.label\"\r\n               :value=\"item.value\">\r\n             </el-option>\r\n           </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    \r\n    <!-- 搜索结果 -->\r\n    <!-- 表格 -->\r\n    <div class=\"table-wraper tab-wraper\" v-loading = \"loading\">\r\n      <el-tabs v-model=\"activeName\"  @tab-click=\"handleTabClick\">\r\n        <el-tab-pane name=\"all\">\r\n          <span slot=\"label\">全部 {{this.topCardCount.all}}</span>\r\n        </el-tab-pane>\r\n        <el-tab-pane name=\"onShelf\">\r\n          <span slot=\"label\">上架中 {{this.topCardCount.onShelfCount}}</span>\r\n        </el-tab-pane>\r\n        <el-tab-pane name=\"downShelf\">\r\n          <span slot=\"label\">已下架 {{this.topCardCount.offShelfCount}}</span>\r\n        </el-tab-pane>\r\n        <my-table ref=\"myTable\" \r\n        @updateShelfStatus = \"updateShelfStatus\" \r\n        @deleteItem=\"deleteItem\"\r\n        @doBatchDelHandel=\"doBatchDelHandel\" @batchUpdateShelfStatus=\"batchUpdateShelfStatus\"></my-table>\r\n      </el-tabs>\r\n    </div>\r\n    <!-- 分页条 -->\r\n    <div class=\"pagination\" v-show=\"tableData.length > 0\">\r\n      <el-pagination\r\n        background\r\n        @size-change=\"changeSize\"\r\n        @current-change=\"changeCurrent\"\r\n        :current-page.sync=\"pageNum\"\r\n        :page-sizes=\"pageSizes\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Storage from '@/utils/localStorage'\r\n  import * as utils from '@/utils/utils'\r\n  import config from \"@/utils/config\"\r\n  import MyTable from \"./MyTable\"\r\n  import RegionCityStore from '@/components/Common/StoreCommon/RegionCityStore'\r\n  const requestUrl = {\r\n    // 获取三方平台店内分类\r\n    getCategoryTree: '/plateform/a/category/getCategoryTree',\r\n    // 预售商品列表\r\n    listPage: '/plateform/a/preSale/storeGoods/listPage',\r\n    // 上下架操作\r\n    batchOffShelf: '/plateform/a/preSale/storeGoods/onShelf',\r\n    // 批量删除\r\n    batchDel: '/plateform/a/preSale/storeGoods/del'\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        pageSizes: config.pageSizes10,\r\n        loading: false,\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n        activeName: 'all',\r\n        searchContent: {\r\n          DIFFCITY: true,\r\n          regionCode: Storage.get('regionCode') || '', // 区域ID\r\n          activitySearchVal: '',\r\n          shelfStatus: -1, // 上下架状态\r\n          storeGroupTypeNo: '',\r\n          storeGroupNo: '',\r\n          storeNo: '', // 门店编号\r\n          categoryId: '',\r\n          categoryIdList: [],\r\n          activityType: '',\r\n          activityStatus: '',\r\n          goodsInfo: '' // 商品编码或者名称\r\n        },\r\n        // 默认分类参数\r\n        cateDefaultProps: {\r\n          children: 'categoryVoList',\r\n          label: 'categoryName',\r\n          value: 'categoryId'\r\n        },\r\n        activityTypeOptions: [\r\n          {\r\n            label: '全部',\r\n            value: ''\r\n          },\r\n          {\r\n            label: '拼团',\r\n            value: 11\r\n          },\r\n          {\r\n            label: '秒杀',\r\n            value: 21\r\n          },\r\n          {\r\n            label: '新人专享',\r\n            value: 41\r\n          },\r\n          {\r\n            label: '每日爆款',\r\n            value: 61\r\n          }\r\n        ],\r\n        // 活动状态 0：未发布，1 ：已发布 ，2：未开始，3：进行中，4：已结束，5：已终止，6：已失效\"\r\n        activityStatusOptions: [\r\n          {\r\n            label: '全部',\r\n            value: ''\r\n          },\r\n          {\r\n            label: '进行中',\r\n            value: 3\r\n          },\r\n          {\r\n            label: '未发布',\r\n            value: 0\r\n          },\r\n          {\r\n            label: '未开始',\r\n            value: 2\r\n          },\r\n          {\r\n            label: '已结束',\r\n            value: 4\r\n          },\r\n          {\r\n            label: '已终止',\r\n            value: 5\r\n          }\r\n        ],\r\n        categoryList: [], // 商品分类id\r\n        tableData: [],\r\n        // 选中的门店预售商品\r\n        checkedList: [],\r\n        // 选项卡顶部内容\r\n        topCardCount: {\r\n          all: 0,\r\n          onShelfCount: 0, // 上架\r\n          offShelfCount: 0 // 下架\r\n        }\r\n\r\n      }\r\n    },\r\n    created() {\r\n      // 获取三方平台店内分类\r\n      this.getCategoryId()\r\n    },\r\n    mounted() {\r\n      // 根据用户选择的城市获取数据\r\n      this.doSearchHandel(true)\r\n    },\r\n    components: {\r\n      \"my-table\": MyTable,\r\n      \"region-city-store\": RegionCityStore\r\n    },\r\n    methods: {\r\n      StoreGroupChange(params) {\r\n        this.searchContent.regionCode = params.regionCode\r\n        this.searchContent.cityId = params.cityId\r\n        this.searchContent.storeNo = params.storeNo\r\n        this.searchContent.storeGroupTypeNo = params.storeGroupTypeNoList[0]\r\n        this.searchContent.storeGroupNo = params.storeGroupTypeNoList[1]\r\n        this.doSearchHandel(true)\r\n      },\r\n      /**\r\n       * [getCategoryId 三方平台店内分类]\r\n       * @return {[type]} [description]\r\n       */\r\n      getCategoryId() {\r\n        this.$http.post(requestUrl.getCategoryTree, {DIFFCITY: true}).then(res => {\r\n          if(res.code === 0) {\r\n            if(res.data && res.data.length) {\r\n              for(let item of res.data) {\r\n                if(item.categoryVoList && item.categoryVoList.length === 0) {\r\n                  item.categoryVoList = null\r\n                }\r\n              }\r\n              this.categoryList = res.data\r\n            }else {\r\n              this.categoryList = []\r\n            }\r\n            return \r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示(三方平台店内分类):\", e.message)\r\n        })\r\n      },\r\n      /**\r\n       * [handleTabClick tab点击切换]\r\n       * @return {[type]} [description]\r\n       */\r\n      handleTabClick(_val) {\r\n        if(_val.name == 'all') {\r\n          this.searchContent.shelfStatus = -1\r\n        }else if(_val.name == 'onShelf') {\r\n          this.searchContent.shelfStatus = 0\r\n        }else if(_val.name == 'downShelf') {\r\n          this.searchContent.shelfStatus = 1\r\n        }\r\n        this.activeName = _val.name\r\n        this.doSearchHandel(true)\r\n      },\r\n      /**\r\n       * [changeSize 分页]\r\n       * @param  {[type]} _val [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      changeSize(value) {\r\n        this.pageSize = value\r\n        this.doSearchHandel()\r\n      },\r\n      changeCurrent(value) {\r\n        this.pageNum = value\r\n        this.doSearchHandel()\r\n      },\r\n      /**\r\n       * [doSearchHandel 搜索]\r\n       * @param  {[type]} _param [description]\r\n       * @return {[type]}        [description]\r\n       */\r\n      doSearchHandel(_param) {\r\n        let spliceLen = this.searchContent.categoryIdList.length - 1\r\n        this.searchContent.categoryId = this.searchContent.categoryIdList[spliceLen]\r\n        this.loading = true\r\n        if(_param === true) {\r\n          this.pageNum = 1\r\n        }\r\n        this.$http.post(requestUrl.listPage, {...this.searchContent, pageSize: this.pageSize, pageNum: this.pageNum}).then(res => {\r\n          this.loading = false\r\n          if(res.code === 0) {\r\n            if(res.data && res.data.goodsList && res.data.goodsList.length) {\r\n              this.tableData = res.data.goodsList\r\n              let _value = {\r\n                tableData: this.tableData\r\n              }\r\n              if(this.$refs.myTable) {\r\n                this.$refs.myTable.setDefaultMsg(_value)\r\n              }\r\n            }else {\r\n              this.tableData = []\r\n              let _value = {\r\n                tableData: this.tableData\r\n              }\r\n              if(this.$refs.myTable) {\r\n                this.$refs.myTable.setDefaultMsg(_value)\r\n              }\r\n            }\r\n            this.topCardCount.all = res.data.allCount || 0\r\n            this.topCardCount.onShelfCount = res.data.onShelfCount || 0\r\n            this.topCardCount.offShelfCount = res.data.offShelfCount || 0\r\n            this.total = res.data.total || 0\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.loading = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [updateShelfStatus 更新上下架]\r\n       * @param  {[type]} _value [description]\r\n       * @return {[type]}        [description]\r\n       */\r\n      updateShelfStatus(_value) {\r\n        // 预售商品ID集合\r\n        let ids = []\r\n        ids.push(_value.row.id)\r\n\r\n        // shelfStatus 上下架状态：0-上架；1-下架\r\n        let shelfStatus = -1\r\n        let shelfStatusName = ''\r\n        if(_value.shelfStatus == 0) {\r\n          shelfStatus = 0\r\n          shelfStatusName = '上架'\r\n        }else if(_value.shelfStatus == 1) {\r\n          shelfStatus = 1\r\n          shelfStatusName = '下架'\r\n        }\r\n\r\n        this.$confirm('确定要执行(' + `${shelfStatusName}` + ')操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          utils.showLoading()\r\n          this.$http.post(requestUrl.batchOffShelf, {'ids': ids, 'shelfStatus': shelfStatus, DIFFCITY: true}).then(res => {\r\n            utils.clearLoading()\r\n            if(res.code === 0) {\r\n              if(shelfStatus === 0) {\r\n                this.$message.success(\"上架成功\")\r\n              }else if(shelfStatus === 1) {\r\n                this.$message.success(\"下架成功\")\r\n              }\r\n              this.doSearchHandel()\r\n              return\r\n            }\r\n            throw new Error(res.msg)\r\n          }).catch(e => {\r\n            utils.clearLoading()\r\n            this.$notify.error({\r\n              title: '提示',\r\n              message: e.message\r\n            })\r\n          })\r\n        }).catch(() => {})\r\n      },\r\n      /**\r\n       * [deleteItem 删除]\r\n       * @param  {[type]} _value [description]\r\n       * @return {[type]}        [description]\r\n       */\r\n      deleteItem(_value) {\r\n        let idAndActivityTypeArr = []\r\n        let item = {\r\n          id: _value.row.id,\r\n          activityType: _value.row.activityType\r\n        }\r\n        idAndActivityTypeArr.push(item)\r\n        this.$confirm('确定要执行删除操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          utils.showLoading()\r\n          this.$http.post(requestUrl.batchDel, {idAndActivityTypeList: idAndActivityTypeArr, DIFFCITY: true}).then(res => {\r\n            utils.clearLoading()\r\n            if(res.code === 0) {\r\n              this.$message.success(\"删除成功\")\r\n              this.doSearchHandel(true)\r\n              return\r\n            }\r\n            throw new Error(res.msg)\r\n          }).catch(e => {\r\n            utils.clearLoading()\r\n            this.$notify.error({\r\n              title: '提示',\r\n              message: e.message\r\n            })\r\n          })\r\n        }).catch(() => {})\r\n      },\r\n      /**\r\n       * [doBatchDelHandel 批量删除]\r\n       * @return {[type]} [description]\r\n       */\r\n      doBatchDelHandel(_value) {\r\n        if(_value.checkedList) {\r\n          this.checkedList = _value.checkedList\r\n        } \r\n        if(this.checkedList.length === 0) {\r\n          this.$message(\"请选择商品\")\r\n          return \r\n        }\r\n        // 预售商品ID集合\r\n        let idAndActivityTypeArr = this.checkedList.map(item => {\r\n          return {\r\n            id: item.id,\r\n            activityType: item.activityType\r\n          }\r\n        })\r\n        this.$confirm('确定要执行批量删除操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          utils.showLoading()\r\n          this.$http.post(requestUrl.batchDel, {idAndActivityTypeList: idAndActivityTypeArr, DIFFCITY: true}).then(res => {\r\n            utils.clearLoading()\r\n            if(res.code === 0) {\r\n              this.$message.success(\"批量删除成功\")\r\n              this.doSearchHandel(true)\r\n              return\r\n            }\r\n            throw new Error(res.msg)\r\n          }).catch(e => {\r\n            utils.clearLoading()\r\n            this.$notify.error({\r\n              title: '提示',\r\n              message: e.message\r\n            })\r\n          })\r\n        }).catch(() => {})\r\n      },\r\n      /**\r\n       * [batchUpdateShelfStatus 批量上下架]\r\n       * @param  {[type]} _value [description]\r\n       * @return {[type]}        [description]\r\n       */\r\n      batchUpdateShelfStatus(_value) {\r\n        if(_value.checkedList) {\r\n          this.checkedList = _value.checkedList\r\n        } \r\n        if(this.checkedList.length === 0) {\r\n          this.$message(\"请选择商品\")\r\n          return \r\n        }\r\n        // 预售商品ID集合\r\n        let ids = this.checkedList.map(item => {\r\n          return item.id\r\n        })\r\n        // shelfStatus 上下架状态：0-上架；1-下架\r\n        let shelfStatus = -1\r\n        let shelfStatusName = ''\r\n        if(_value.shelfStatus == 0) {\r\n          shelfStatus = 0\r\n          shelfStatusName = '上架'\r\n        }else if(_value.shelfStatus == 1) {\r\n          shelfStatus = 1\r\n          shelfStatusName = '下架'\r\n        }\r\n\r\n        this.$confirm('确定要执行批量(' + `${shelfStatusName}` + ')操作吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          utils.showLoading()\r\n          this.$http.post(requestUrl.batchOffShelf, {'ids': ids, 'shelfStatus': shelfStatus, DIFFCITY: true}).then(res => {\r\n            utils.clearLoading()\r\n            if(res.code === 0) {\r\n              if(shelfStatus === 0) {\r\n                this.$message.success(\"批量上架成功\")\r\n              }else if(shelfStatus === 1) {\r\n                this.$message.success(\"批量下架成功\")\r\n              }\r\n              this.doSearchHandel()\r\n              return\r\n            }\r\n            throw new Error(res.msg)\r\n          }).catch(e => {\r\n            utils.clearLoading()\r\n            this.$notify.error({\r\n              title: '提示',\r\n              message: e.message\r\n            })\r\n          })\r\n        }).catch(() => {})\r\n      }\r\n      \r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/StoreAct/StoreActivityGoods/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('region-city-store',{on:{\"StoreGroupChange\":_vm.StoreGroupChange}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品分类\"}},[_c('el-cascader',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请选择分类\",\"options\":_vm.categoryList,\"change-on-select\":\"\",\"size\":\"small\",\"clearable\":\"\",\"filterable\":\"\",\"props\":_vm.cateDefaultProps},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.categoryIdList),callback:function ($$v) {_vm.$set(_vm.searchContent, \"categoryIdList\", $$v)},expression:\"searchContent.categoryIdList\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"SKU编码/商品名称\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"SKU编码/商品名称\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.goodsInfo),callback:function ($$v) {_vm.$set(_vm.searchContent, \"goodsInfo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.goodsInfo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动ID/名称\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"活动ID/名称\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.activitySearchVal),callback:function ($$v) {_vm.$set(_vm.searchContent, \"activitySearchVal\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.activitySearchVal\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动类型\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择活动类型\",\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.activityType),callback:function ($$v) {_vm.$set(_vm.searchContent, \"activityType\", $$v)},expression:\"searchContent.activityType\"}},_vm._l((_vm.activityTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择状态\",\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.activityStatus),callback:function ($$v) {_vm.$set(_vm.searchContent, \"activityStatus\", $$v)},expression:\"searchContent.activityStatus\"}},_vm._l((_vm.activityStatusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")])],1)],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"table-wraper tab-wraper\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"name\":\"all\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"全部 \"+_vm._s(this.topCardCount.all))])]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"name\":\"onShelf\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"上架中 \"+_vm._s(this.topCardCount.onShelfCount))])]),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"name\":\"downShelf\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"已下架 \"+_vm._s(this.topCardCount.offShelfCount))])]),_vm._v(\" \"),_c('my-table',{ref:\"myTable\",on:{\"updateShelfStatus\":_vm.updateShelfStatus,\"deleteItem\":_vm.deleteItem,\"doBatchDelHandel\":_vm.doBatchDelHandel,\"batchUpdateShelfStatus\":_vm.batchUpdateShelfStatus}})],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tableData.length > 0),expression:\"tableData.length > 0\"}],staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":_vm.pageSizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14abafc4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/StoreAct/StoreActivityGoods/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14abafc4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14abafc4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/StoreAct/StoreActivityGoods/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}