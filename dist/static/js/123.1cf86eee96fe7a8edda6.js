webpackJsonp([123],{Uwrn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Gu7T"),s=a.n(i),o=a("ifoU"),r=a.n(o),l=a("BO1k"),n=a.n(l),c=a("d7EF"),d=a.n(c),v=a("3rb3"),g=a("u4Bf"),u=a.n(g),m=(a("ssT3"),a("oAV5")),h=a("8uth"),p=a("GWBc"),f={data:function(){return{title:"开启区域分类热销榜",loading:!1,isDisabled:!1,visible:!1,msg:{},checkAll:!1,checkedCities:[],cities:[],isIndeterminate:!1}},methods:{setDefaultMsg:function(e){this.visible=e.visible||!1,this.msg=e.msg||{},this.categoryId=e&&e.msg?e.msg.categoryId:"";var t=e&&e.msg?e.msg.categoryName:"";this.title="["+t+"] 开启区域分类热销榜",this.cities=e.cities||[],this.getHotSaleRegion()},handleCheckAllChange:function(e){this.checkedCities=e?this.cities.map(function(e){return e.storeGroupNo}):[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){this.checkedCities=e||[];var t=e.length;this.checkAll=t===this.cities.length,this.isIndeterminate=t>0&&t<this.cities.length},getHotSaleRegion:function(){var e=this;this.loading=!0,this.$http.post(p.a.regionCategoryRankingDetail,{DIFFCITY:!0,categoryId:this.categoryId}).then(function(t){if(e.loading=!1,0!==t.code)throw new Error(t.msg);var a=t.data&&t.data.length?t.data.map(function(e){return e.regionCode}):[];e.handleCheckedCitiesChange(a)}).catch(function(t){e.loading=!1,e.$notify.error({title:"提示",message:t.message})})},doSetHotSaleHandel:function(){var e=this,t=[];this.checkedCities.forEach(function(a){e.cities.forEach(function(e){a===e.storeGroupNo&&t.push(e)})}),this.isDisabled=!0,this.$http.post(p.a.openCityCategoryRanking,{DIFFCITY:!0,categoryId:this.categoryId,regionList:t.map(function(e){return{regionCode:e.storeGroupNo,regionName:e.storeGroupName}})}).then(function(t){if(e.isDisabled=!1,0===t.code)return e.$message.success("开启区域热销榜成功"),void(e.visible=!1);throw new Error(t.msg)}).catch(function(t){e.isDisabled=!1,e.visible=!1,e.$notify.error({title:"提示",message:t.message})})}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.visible,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.visible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),a("el-checkbox-group",{staticClass:"mt10",on:{change:e.handleCheckedCitiesChange},model:{value:e.checkedCities,callback:function(t){e.checkedCities=t},expression:"checkedCities"}},e._l(e.cities,function(t){return a("el-checkbox",{key:t.storeGroupNo,attrs:{label:t.storeGroupNo}},[e._v("\n        "+e._s(t.storeGroupName)+"\n      ")])}),1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:e.doSetHotSaleHandel}},[e._v("确定")])],1)])},staticRenderFns:[]},_=a("VU/8")(f,y,!1,null,null,null).exports,b="/plateform/a/product/getPlatformList",C="/plateform/a/category/insertCategory",w="/plateform/a/category/getCategoryList",L="/plateform/a/category/sortCategory",N="/plateform/a/category/updateCategory",k="/plateform/a/category/pushCategory",M="/plateform/a/category/delCategory",I="/plateform/a/category/exportCategory",P={data:function(){return{exportLoading:!1,isShowTip:!0,loading:!1,isDisabled:!1,activeId:-1,canMove:!1,firstLevelList:[],secondLevelList:[],dialogFormVisible:!1,updateDialogFormVisible:!1,publishDialogFormVisible:!1,isFirstLevelAdd:!0,isFirstLevelUpdate:!0,formLabelWidth:"80",dialogTitle:"添加一级分类",updateDialogTitle:"修改一级分类",addParamMesg:{parentId:"",categoryName:""},updateParamMesg:{parentId:"",categoryId:"",level:"",categoryName:""},platformList:[],publishParamMesg:{checkedPlatform:[]},regionOptions:[]}},created:function(){this.getPlatformList(),this.doSearchHandel(),this.getUserAreaList()},components:{draggable:u.a,"hot-sale":_},methods:{getPlatformList:function(){var e=this;this.$http.get(b).then(function(t){if(0!==t.code)throw new Error(t.msg);t.data&&t.data.length?e.platformList=t.data:e.platformList=[]}).catch(function(e){console.log("提示(获取平台列表):",e.message)})},goAddFirstLevel:function(){this.dialogTitle="添加一级分类",this.dialogFormVisible=!0,this.isFirstLevelAdd=!0,this.addParamMesg.parentId="",this.addParamMesg.categoryName=""},goAddSecondLevel:function(e){this.dialogTitle="添加二级分类",this.dialogFormVisible=!0,this.isFirstLevelAdd=!1,this.addParamMesg.parentId=e,this.addParamMesg.categoryName=""},updateFirstLevel:function(e){this.updateDialogFormVisible=!0,this.isFirstLevelUpdate=!0,this.updateDialogTitle="编辑一级分类",this.updateParamMesg.categoryId=e.categoryId,this.updateParamMesg.categoryName=e.categoryName,this.updateParamMesg.level=e.level},updateSecondLevel:function(e){this.updateDialogFormVisible=!0,this.isFirstLevelUpdate=!1,this.updateDialogTitle="编辑二级分类",this.updateParamMesg.categoryId=e.categoryId,this.updateParamMesg.categoryName=e.categoryName,this.updateParamMesg.level=e.level,this.updateParamMesg.parentId=e.parentId},doSearchHandel:function(){var e=this;this.loading=!0,this.$http.post(w).then(function(t){if(e.loading=!1,0!==t.code)throw new Error(t.msg);t.data&&t.data.length?(e.firstLevelList=t.data.sort(m.e("level")),-1!=e.activeId&&e.chooseCategory(e.activeId)):e.firstLevelList=[]}).catch(function(t){e.loading=!1,e.$notify.error({title:"提示",message:t.message})})},showDetail:function(e){this.$router.push("/categories_mgt/edit/"+e.categoryId)},getdata:function(e){},datadragEnd:function(e){var t=!0,a=!1,i=void 0;try{for(var s,o=n()(new r.a(this.firstLevelList.map(function(e,t){return[t,e]})));!(t=(s=o.next()).done);t=!0){var l=s.value,c=d()(l,2),v=c[0];c[1].level=v}}catch(e){a=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw i}}},getSLevelData:function(e){},sLevelDatadragEnd:function(e){var t=!0,a=!1,i=void 0;try{for(var s,o=n()(new r.a(this.secondLevelList.map(function(e,t){return[t,e]})));!(t=(s=o.next()).done);t=!0){var l=s.value,c=d()(l,2),v=c[0];c[1].level=v}}catch(e){a=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw i}}},chooseCategory:function(e){var t=this;this.activeId=e,this.$http.post(w,{parentId:this.activeId}).then(function(e){if(0!==e.code)throw new Error(e.msg);e.data&&e.data.length?t.secondLevelList=e.data.sort(m.e("level")):t.secondLevelList=[]}).catch(function(e){t.$notify.error({title:"提示",message:e.message}),console.log("提示(分类变化获取二级分类):",e.message)})},doAddHandelFirstLevel:function(){var e=this;if(!0!==this.isDisabled){var t=this.addParamMesg.categoryName.replace(/\s+/g,"");this.addParamMesg.categoryName=t,""!=this.addParamMesg.categoryName?this.addParamMesg.categoryName.length>8?this.$message("分类名称限制不超过8个字"):(this.isDisabled=!0,this.$http.post(C,{categoryName:this.addParamMesg.categoryName,categoryLevel:1}).then(function(t){var a=e;if(setTimeout(function(){a.isDisabled=!1},800),0===t.code)return e.$message.success("添加一级分类成功"),e.dialogFormVisible=!1,void e.doSearchHandel();throw new Error(t.msg)}).catch(function(t){var a=e;setTimeout(function(){a.isDisabled=!1},800),e.$notify.error({title:"提示",message:t.message})})):this.$message("请输入分类名称")}},doAddHandelSecondLevel:function(){var e=this;if(!0!==this.isDisabled){var t=this.addParamMesg.categoryName.replace(/\s+/g,"");if(this.addParamMesg.categoryName=t,""!=this.addParamMesg.categoryName)if(this.addParamMesg.categoryName.length>8)this.$message("分类名称限制不超过8个字");else{var a="",i=!0,s=!1,o=void 0;try{for(var r,l=n()(this.firstLevelList);!(i=(r=l.next()).done);i=!0){var c=r.value;c.categoryId==this.addParamMesg.parentId&&(a=c.categoryName)}}catch(e){s=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(s)throw o}}this.isDisabled=!0,this.$http.post(C,{secondaryCategoryName:this.addParamMesg.categoryName,categoryLevel:2,parentId:this.addParamMesg.parentId,categoryName:a}).then(function(t){var a=e;if(setTimeout(function(){a.isDisabled=!1},800),0===t.code)return e.$message.success("添加二级分类成功"),e.dialogFormVisible=!1,void e.doSearchHandel();throw new Error(t.msg)}).catch(function(t){var a=e;setTimeout(function(){a.isDisabled=!1},800),e.$notify.error({title:"提示",message:t.message})})}else this.$message("请输入分类名称")}},doUpdateHandel:function(e){var t=this;if(!0!==this.isDisabled){var a=this.updateParamMesg.categoryName.replace(/\s+/g,"");if(this.updateParamMesg.categoryName=a,""!=this.updateParamMesg.categoryName)if(this.updateParamMesg.categoryName.length>8)this.$message("分类名称限制不超过8个字");else{var i={};if(!0===e)i.categoryId=this.updateParamMesg.categoryId,i.categoryName=this.updateParamMesg.categoryName,i.level=this.updateParamMesg.level,i.categoryLevel=1;else{var s="",o=!0,r=!1,l=void 0;try{for(var c,d=n()(this.firstLevelList);!(o=(c=d.next()).done);o=!0){var v=c.value;v.categoryId==this.updateParamMesg.parentId&&(s=v.categoryName)}}catch(e){r=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(r)throw l}}i.categoryId=this.updateParamMesg.categoryId,i.categoryName=s,i.secondaryCategoryName=this.updateParamMesg.categoryName,i.level=this.updateParamMesg.level,i.categoryLevel=2}this.isDisabled=!0,this.$http.post(N,i).then(function(a){var i=t;if(setTimeout(function(){i.isDisabled=!1},800),0===a.code)return!0===e?t.$message.success("编辑一级分类成功"):t.$message.success("编辑二级分类成功"),t.updateDialogFormVisible=!1,void t.doSearchHandel();throw new Error(a.msg)}).catch(function(e){var a=t;setTimeout(function(){a.isDisabled=!1},800),t.$notify.error({title:"提示",message:e.message})})}else this.$message("请输入分类名称")}},doSortOnceHandel:function(){this.canMove=!0},doSaveSortHandel:function(){var e=this;if(!0!==this.isDisabled){var t=[],a=[].concat(s()(this.firstLevelList),s()(this.secondLevelList)),i=!0,o=!1,r=void 0;try{for(var l,c=n()(a);!(i=(l=c.next()).done);i=!0){var d=l.value,v={categoryId:d.categoryId,categoryName:d.categoryName,level:d.level};t.push(v)}}catch(e){o=!0,r=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw r}}this.isDisabled=!0,m.r(),this.$http.post(L,{categoryReqList:t}).then(function(t){var a=e;if(setTimeout(function(){a.isDisabled=!1},800),m.c(),0===t.code)return e.$message.success("重新排序成功"),e.canMove=!1,void e.doSearchHandel();throw new Error(t.msg)}).catch(function(t){var a=e;setTimeout(function(){a.isDisabled=!1},800),m.c(),e.$notify.error({title:"提示",message:t.message})})}},deleteCategory:function(e){var t=this,a=e.categoryId,i=e.categoryName;this.$confirm("确定要删除该分类吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post(M,{categoryId:a,categoryName:i}).then(function(e){if(0===e.code)return t.$message.success("删除分类成功！"),void t.doSearchHandel();throw new Error(e.msg)}).catch(function(e){t.$notify.error({title:"提示",message:e.message})})}).catch(function(){})},doPublishPlatformHandel:function(){var e=this;if(!0!==this.isDisabled){var t=this.publishParamMesg.checkedPlatform.join(",");this.isDisabled=!0,this.$http.post(k,{platformId:t}).then(function(t){var a=e;if(setTimeout(function(){a.isDisabled=!1},800),0===t.code)return e.$message.success("发布成功"),void(e.publishDialogFormVisible=!1);throw new Error(t.msg)}).catch(function(t){var a=e;setTimeout(function(){a.isDisabled=!1},800),e.$notify.error({title:"提示",message:t.message})})}},isShowTipHandel:function(){this.isShowTip=!1},goCategoryPublishStatePage:function(){this.$router.push("/categories_mgt/pub_state")},doExportDataHandel:function(){var e=this;this.exportLoading=!0,this.$http.post(I).then(function(t){if(0===t.code){e.exportLoading=!1;var a=t.data&&t.data.length?t.data:[],i={categoryId:"一级分类id",categoryName:"一级分类名称",secondaryCategoryId:"二级分类id",secondaryCategoryName:"二级分类名称"},s=m.o(i,!1),o=m.o(i,!0);return h.a.ExportJsonToExcel({header:s,filterVal:o,data:a,filename:"分类"}),void e.$message.success("分类导出成功")}throw new Error(t.msg)}).catch(function(t){e.exportLoading=!1,e.$notify.error({title:"提示",message:t.message})})},openRegionHotSale:function(e){var t={msg:e,visible:!0,cities:this.regionOptions};this.$refs.setRegionHotSale.setDefaultMsg(t)},getUserAreaList:function(){var e=this;this.$http.get(v.a.userAreaStoreGroupList).then(function(t){if(0!==t.code)throw new Error(t.msg);e.regionOptions=t.data&&t.data.length?t.data:[]}).catch(function(e){console.log("【提示】查询用户区域店组一级列表失败："+e.message)})}}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowTip,expression:"isShowTip"}],staticClass:"error-t-w"},[a("i",{staticClass:"el-icon-warning"}),e._v("注意：所有区域、所有平台共用一套分类，且变动后会立即同步三方平台，请谨慎操作！!\n    "),a("span",{staticClass:"c-btn-w"},[a("i",{staticClass:"el-icon-close",on:{click:e.isShowTipHandel}})])]),e._v(" "),a("div",{staticClass:"handel-search-wraper"},[a("div",{staticClass:"handel-wraper"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.goAddFirstLevel}},[e._v("添加一级分类")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-view"},on:{click:e.goCategoryPublishStatePage}},[e._v("查看分类同步状态")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-download",loading:e.exportLoading},on:{click:e.doExportDataHandel}},[e._v("导出")]),e._v(" "),e.canMove?a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",disabled:e.isDisabled,size:"mini"},on:{click:e.doSaveSortHandel}},[e._v("保存排序")]):a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:e.doSortOnceHandel}},[e._v("编辑排序")])],1)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"l-r-2-table-wraper"},[a("div",{staticClass:"l-list-wraper"},[a("div",{staticClass:"l-t-t"},[e._v("一级分类")]),e._v(" "),a("div",{staticClass:"l-item-th-wraper"},[a("div",{staticClass:"l-i-t-1"},[e._v("分类ID")]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[e._v("分类名称")]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[e._v("操作")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.canMove,expression:"canMove"}],staticClass:"l-i-t-3"})]),e._v(" "),e.canMove?a("draggable",{attrs:{move:e.getdata},on:{update:e.datadragEnd},model:{value:e.firstLevelList,callback:function(t){e.firstLevelList=t},expression:"firstLevelList"}},[a("transition-group",e._l(e.firstLevelList,function(t){return a("div",{key:t.categoryId,staticClass:"l-item-td-wraper",class:{"l-i-active":t.categoryId==e.activeId},on:{click:function(a){return e.chooseCategory(t.categoryId)}}},[a("div",{staticClass:"l-i-t-1"},[e._v(e._s(t.categoryId))]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[a("p",[e._v(e._s(t.categoryName))]),e._v(" "),t.childCategoryNum?a("p",{staticClass:"c-wrap"},[e._v("("+e._s(t.childCategoryNum)+"个二级分类)")]):t.productNum?a("p",{staticClass:"c-wrap"},[e._v("("+e._s(t.productNum)+"个商品)")]):a("p",{staticClass:"c-wrap"},[e._v("(0个二级分类)")])]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.updateFirstLevel(t)}}},[e._v("编辑")]),e._v(" "),t.productNum||t.childCategoryNum||!t.childCategoryNum&&!t.productNum?a("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.deleteCategory(t)}}},[e._v("删除")]):e._e()],1),e._v(" "),a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-open",size:"mini"},on:{click:function(a){return e.openRegionHotSale(t)}}},[e._v("开启区域热销榜")])],1),e._v(" "),t.childCategoryNum||!t.childCategoryNum&&!t.productNum?a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-plus",size:"mini"},on:{click:function(a){return e.goAddSecondLevel(t.categoryId)}}},[e._v("添加二级分类")])],1):e._e()]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.canMove,expression:"canMove"}],staticClass:"l-i-t-3"},[a("img",{attrs:{src:"/shop/static/imgs/move.png",alt:""}}),e._v(" "),a("span",[e._v("按住拖拽")])])])}),0)],1):e._l(e.firstLevelList,function(t){return a("div",{key:t.categoryId,staticClass:"l-item-td-wraper",class:{"l-i-active":t.categoryId==e.activeId},on:{click:function(a){return e.chooseCategory(t.categoryId)}}},[a("div",{staticClass:"l-i-t-1"},[e._v(e._s(t.categoryId))]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[a("p",[e._v(e._s(t.categoryName))]),e._v(" "),t.childCategoryNum?a("p",{staticClass:"c-wrap"},[e._v("("+e._s(t.childCategoryNum)+"个二级分类)")]):t.productNum?a("p",{staticClass:"c-wrap"},[e._v("("+e._s(t.productNum)+"个商品)")]):a("p",{staticClass:"c-wrap"},[e._v("(0个二级分类)")])]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.updateFirstLevel(t)}}},[e._v("编辑")]),e._v(" "),t.productNum||t.childCategoryNum||!t.childCategoryNum&&!t.productNum?a("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.deleteCategory(t)}}},[e._v("删除")]):e._e()],1),e._v(" "),a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-open",size:"mini"},on:{click:function(a){return e.openRegionHotSale(t)}}},[e._v("开启区域热销榜")])],1),e._v(" "),t.childCategoryNum||!t.childCategoryNum&&!t.productNum?a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-plus",size:"mini"},on:{click:function(a){return e.goAddSecondLevel(t.categoryId)}}},[e._v("添加二级分类")])],1):e._e()]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.canMove,expression:"canMove"}],staticClass:"l-i-t-3"},[a("img",{attrs:{src:"/shop/static/imgs/move.png",alt:""}}),e._v(" "),a("span",[e._v("按住拖拽")])])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.firstLevelList.length<=0,expression:"firstLevelList.length <= 0"}],staticClass:"no-data-wrap"},[e._v("暂无数据")])],2),e._v(" "),a("div",{staticClass:"r-list-wraper"},[a("div",{staticClass:"r-t-t"},[e._v("二级分类")]),e._v(" "),a("div",{staticClass:"l-item-th-wraper"},[a("div",{staticClass:"l-i-t-1"},[e._v("分类ID")]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[e._v("分类名称")]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[e._v("操作")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.canMove,expression:"canMove"}],staticClass:"l-i-t-3"})]),e._v(" "),e.canMove?a("draggable",{attrs:{move:e.getSLevelData},on:{update:e.sLevelDatadragEnd},model:{value:e.secondLevelList,callback:function(t){e.secondLevelList=t},expression:"secondLevelList"}},[a("transition-group",e._l(e.secondLevelList,function(t){return a("div",{key:t.categoryId,staticClass:"l-item-td-wraper"},[a("div",{staticClass:"l-i-t-1"},[e._v(e._s(t.categoryId))]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[a("p",[e._v(e._s(t.categoryName))]),e._v(" "),t.productNum&&""!=t.productNum?a("p",{staticClass:"c-wrap"},[e._v("("+e._s(t.productNum)+"个商品)")]):a("p",{staticClass:"c-wrap"},[e._v("(0个商品)")])]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.updateSecondLevel(t)}}},[e._v("编辑")])],1),e._v(" "),a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.deleteCategory(t)}}},[e._v("删除")])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.canMove,expression:"canMove"}],staticClass:"l-i-t-3"},[a("img",{attrs:{src:"/shop/static/imgs/move.png",alt:""}}),e._v(" "),a("span",[e._v("按住拖拽")])])])}),0)],1):e._l(e.secondLevelList,function(t){return a("div",{key:t.categoryId,staticClass:"l-item-td-wraper"},[a("div",{staticClass:"l-i-t-1"},[e._v(e._s(t.categoryId))]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[a("p",[e._v(e._s(t.categoryName))]),e._v(" "),t.productNum&&""!=t.productNum?a("p",{staticClass:"c-wrap"},[e._v("("+e._s(t.productNum)+"个商品)")]):a("p",{staticClass:"c-wrap"},[e._v("(0个商品)")])]),e._v(" "),a("div",{staticClass:"l-i-t-2"},[a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.updateSecondLevel(t)}}},[e._v("编辑")])],1),e._v(" "),a("p",[a("el-button",{attrs:{type:"text",icon:"el-icon-delete",size:"mini"},on:{click:function(a){return e.deleteCategory(t)}}},[e._v("删除")])],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.canMove,expression:"canMove"}],staticClass:"l-i-t-3"},[a("img",{attrs:{src:"/shop/static/imgs/move.png",alt:""}}),e._v(" "),a("span",[e._v("按住拖拽")])])])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.secondLevelList.length<=0,expression:"secondLevelList.length <= 0"}],staticClass:"no-data-wrap"},[e._v("暂无数据")])],2)]),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.addParamMesg}},[a("el-form-item",{attrs:{label:"分类名称","label-width":e.formLabelWidth,required:""}},[a("el-input",{staticClass:"search-input",attrs:{autocomplete:"off",placeholder:"请输入分类名称",size:"small"},model:{value:e.addParamMesg.categoryName,callback:function(t){e.$set(e.addParamMesg,"categoryName",t)},expression:"addParamMesg.categoryName"}}),e._v(" "),a("span",[e._v("限制不超过8个字")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),e.isFirstLevelAdd?a("el-button",{attrs:{type:"primary",disabled:e.isDisabled,size:"mini"},on:{click:e.doAddHandelFirstLevel}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary",disabled:e.isDisabled,size:"mini"},on:{click:e.doAddHandelSecondLevel}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.updateDialogTitle,visible:e.updateDialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.updateDialogFormVisible=t}}},[a("el-form",{attrs:{model:e.updateParamMesg}},[a("el-form-item",{attrs:{label:"分类名称","label-width":e.formLabelWidth,required:""}},[a("el-input",{staticClass:"search-input",attrs:{autocomplete:"off",placeholder:"请输入分类名称",size:"small"},model:{value:e.updateParamMesg.categoryName,callback:function(t){e.$set(e.updateParamMesg,"categoryName",t)},expression:"updateParamMesg.categoryName"}}),e._v(" "),a("span",[e._v("限制不超过8个字")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.updateDialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),e.isFirstLevelUpdate?a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:function(t){return e.doUpdateHandel(!0)}}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:e.doUpdateHandel}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"发布",visible:e.publishDialogFormVisible,width:"500px"},on:{"update:visible":function(t){e.publishDialogFormVisible=t}}},[a("el-form",{attrs:{model:e.publishParamMesg}},[a("el-form-item",{attrs:{label:"发布平台","label-width":e.formLabelWidth,required:""}},[a("el-checkbox-group",{model:{value:e.publishParamMesg.checkedPlatform,callback:function(t){e.$set(e.publishParamMesg,"checkedPlatform",t)},expression:"publishParamMesg.checkedPlatform"}},e._l(e.platformList,function(t){return a("el-checkbox",{key:t.platformId,attrs:{label:t.platformId}},[e._v(e._s(t.name))])}),1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.publishDialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:e.doPublishPlatformHandel}},[e._v("确 定")])],1)],1),e._v(" "),a("hot-sale",{ref:"setRegionHotSale"})],1)},staticRenderFns:[]};var x=a("VU/8")(P,D,!1,function(e){a("lHVv")},null,null);t.default=x.exports},lHVv:function(e,t){}});
//# sourceMappingURL=123.1cf86eee96fe7a8edda6.js.map