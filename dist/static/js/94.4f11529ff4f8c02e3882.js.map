{"version":3,"sources":["webpack:///src/components/Activity/StoreAct/BK/ShowBKPage.vue","webpack:///./src/components/Activity/StoreAct/BK/ShowBKPage.vue?80bb","webpack:///./src/components/Activity/StoreAct/BK/ShowBKPage.vue"],"names":["reqUrl","ShowBKPage","data","isDisabled","addParamMesg","activityId","regionCode","regionName","activityType","activityTypeName","activityName","activityStartDate","activityEndDate","activityCode","limitDelivery","limitDeliveryStr","activityStoreList","platCityGoodsInfos","activityStoresCheckedList","activityGoodsCheckedList","checkedList","discount","activityStoreGroupList","created","this","$route","params","getDetail","mounted","methods","_this","utils","$http","post","then","res","code","Error","msg","createGoodsMesg","id","limitGoodsCount","groupprice","curstock","storeGroupVos","length","map","item","performanceDate","performanceDatetime","substr","storeVos","platCityGoodsVos","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","value","copyUrl","platformCityGoodsId","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_item","uniqueId","goodsId","goodsNo","catch","e","$notify","error","title","message","limitGroupTypeFormater","row","column","cellValue","sfInStockHeader","h","$createElement","attrs","placement","width","trigger","slot","class","onCopySuc","$message","success","onCopyError","doCancelHandel","$router","push","beforeRouteLeave","to","from","meta","keepAlive","BK_ShowBKPage","render","_vm","_h","_c","_self","staticClass","ref","model","label-width","label","staticStyle","color","font-size","font-weight","_v","_s","required","_l","index","key","empty-text","max-height","size","min-width","scopedSlots","_u","fn","scope","erpStoreNo","erpStoreName","prop","_e","preSaleImageUrl","src","alt","onerror","goodsName","curStock","sortNum","render-header","sfInStock","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/94.4f11529ff4f8c02e3882.js","sourcesContent":["<style>\n.avatar-sf-goods,\n.sf-pre-goods-img-w img {\n  width: 110px;\n  height: 60px;\n  display: block;\n}\n.check-store-item:hover {\n  border: 1px solid #3080fe;\n}\n\n.ll-p-m-w {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n.ll-img-w {\n  width: 60px;\n  height: 60px;\n}\n.ll-img-w > img {\n  width: 60px;\n}\n.ll-p-m-c-r {\n  padding: 0 10px;\n}\n.ll-erp-p-no {\n  color: #666;\n  font-size: 12px;\n}\n.del-store-icon-w {\n  position: absolute;\n  top: -8px;\n  right: 2px;\n  cursor: pointer;\n}\n.store-pre-time-item-wrap {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: center;\n}\n.store-pre-time-item-wrap>.item-left {\n  flex: 0 0 90px;\n  width: 90px;\n  text-align: left;\n  margin-left: 20px\n}\n.store-pre-time-item-wrap>.item-right {\n  border: 1px solid #ececec;\n  border-radius: 8px;\n  padding: 8px;\n  width: 550px;\n  box-sizing: border-box;\n}\n</style>\n<template>\n  <div>\n    <div class=\"add-form-wraper\">\n      <el-form ref=\"form\" :model=\"addParamMesg\" label-width=\"140px\">\n        <el-form-item label=\"活动类型\">\n          <p\n            style=\"color: #222;font-size: 16px; font-weight: bold;\"\n          >{{addParamMesg.activityTypeName}}</p>\n        </el-form-item>\n\n        <el-form-item label=\"选择区域\">\n          <p>{{addParamMesg.regionName}}</p>\n        </el-form-item>\n        <el-form-item label=\"活动编码\">\n          <p>{{addParamMesg.activityCode}}</p>\n        </el-form-item>\n        <el-form-item label=\"活动名称\">\n          <p>{{addParamMesg.activityName}}</p>\n        </el-form-item>\n        <el-form-item label=\"开始时间\">{{addParamMesg.activityStartDate}}</el-form-item>\n        <el-form-item label=\"结束时间\">{{addParamMesg.activityEndDate}}</el-form-item>\n        <el-form-item label=\"门店/履约时间\" required>\n          <div\n            class=\"store-pre-time-item-wrap\"\n            :class=\"index > 0 ? 'mt10' : null\"\n            v-for=\"(item, index) of activityStoreGroupList\"\n            :key=\"index\"\n          >\n            <div class=\"item-right\">\n              <div>\n                <span>参与门店</span>\n                <div v-if=\"item.activityStoresCheckedList.length > 0\">\n                  <el-table\n                    class=\"fixed-height\"\n                    :data=\"item.activityStoresCheckedList\"\n                    empty-text=\"暂无选中任何门店\"\n                    max-height=\"250\"\n                    size=\"small\"\n                  >\n                    <el-table-column min-width=\"226px\" label=\"门店编码/名称\">\n                      <template slot-scope=\"scope\">\n                        <div>{{scope.row.erpStoreNo}}_{{scope.row.erpStoreName}}</div>\n                      </template>\n                    </el-table-column>\n                    <el-table-column min-width=\"100\" prop=\"saleTypeName\" label=\"门店类型\"></el-table-column>\n                  </el-table>\n                </div>\n              </div>\n              <div class=\"mt10\">\n                <span>履约时间</span>\n                <span>{{item.performanceDate || '--'}}</span>\n              </div>\n            </div>\n          </div>\n        </el-form-item>\n        <el-form-item label=\"设置活动商品\" required>\n          <el-table\n            class=\"fixed-height choose-goods-wrap\"\n            :data=\"checkedList\"\n            empty-text=\"暂无选中任何商品\"\n            style=\"width:100%;\"\n            max-height=\"560\"\n            size=\"small\"\n          >\n            <el-table-column min-width=\"300px\" label=\"商品信息\">\n              <template slot-scope=\"scope\">\n                <div class=\"ll-p-m-w\">\n                  <div class=\"sf-pre-goods-img-w\">\n                    <img\n                      v-if=\"scope.row.preSaleImageUrl && scope.row.preSaleImageUrl != ''\"\n                      :src=\"scope.row.preSaleImageUrl\"\n                      alt\n                      onerror=\"onerror=null;src='/shop/static/img_error.png'\"\n                    />\n                    <img v-else src=\"/shop/static/img_error.png\" alt />\n                  </div>\n                  <div class=\"ll-p-m-c-r\">\n                    <div>{{scope.row.goodsName}}</div>\n                    <div class=\"ll-erp-p-no\">SKU编码：{{scope.row.goodsNo || '--'}}</div>\n                    <div\n                      class=\"ll-erp-p-no\"\n                      v-if=\"scope.row.platformCityGoodsId\"\n                    >商品ID：{{scope.row.platformCityGoodsId || '--'}}</div>\n                  </div>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"100px\" prop=\"spec\" label=\"规格\"></el-table-column>\n            <el-table-column min-width=\"130px\" prop=\"activityGoodsName\" label=\"活动商品名称\"></el-table-column>\n            <el-table-column min-width=\"130px\" prop=\"price\" label=\"原价(必填)\"></el-table-column>\n            <el-table-column min-width=\"130px\" prop=\"groupPrice\" label=\"活动价(必填)\"></el-table-column>\n            <el-table-column min-width=\"130px\" label=\"活动库存(选填)\">\n              <template slot-scope=\"scope\">\n                <div>{{scope.row.curStock}}</div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"140px\" label=\"每人限购\">\n              <template slot-scope=\"scope\">\n                <div>{{scope.row.limitGoodsCount}}</div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"140px\" label=\"排序权重\">\n              <template slot-scope=\"scope\">\n                <div>{{scope.row.sortNum}}</div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"190px\" :render-header=\"sfInStockHeader\">\n              <template slot-scope=\"scope\">\n                <div>\n                  {{scope.row.sfInStock ? '是' : '否'}}\n                </div>\n              </template>\n            </el-table-column>\n          </el-table>\n          <p>\n            <span style=\"color:red;\">*</span>活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；\n          </p>\n          <p>\n            <span style=\"color:red;\">*</span>活动进行中时新上门店，请在活动商品中发布至门店；\n          </p>\n        </el-form-item>\n\n        <hr class=\"s-slip-tb\" />\n        <el-form-item>\n          <el-button size=\"small\" @click=\"doCancelHandel\">返回</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n<script>\nimport * as utils from '@/utils/utils'\nconst reqUrl = {\n  // 活动规则编辑跳转\n  edit: \"/plateform/a/activityRule/edit\",\n  // 新增活动规则\n  add: \"/plateform/a/activityRule/add\"\n}\nexport default {\n  data () {\n    return {\n      isDisabled: false,\n      addParamMesg: {\n        activityId: '', // 活动id\n        regionCode: '',\n        regionName: '',\n        activityType: '', // 活动类型\n        activityTypeName: '', // 活动类型名称\n        activityName: '', // 活动名称\n        activityStartDate: '', // 活动开始时间\n        activityEndDate: '', // 活动结束时间\n        activityCode: '', // 活动编码\n        limitDelivery: 0, // 活动限制: 0：全部；1：新用户；2：老用户；\n        limitDeliveryStr: '',\n        // 参与门店\n        activityStoreList: [],\n        // 活动商品集合\n        platCityGoodsInfos: []\n      },\n      // 参与门店选中的\n      activityStoresCheckedList: [],\n      // 参与的选中的商品\n      activityGoodsCheckedList: [],\n      // 当前选中的商品用于批量设置价格\n      checkedList: [],\n      // 批量修改折扣\n      discount: '',\n\n      // 活动门店分组集合\n      activityStoreGroupList: [],\n\n    }\n  },\n  created () {\n    let activityId = this.$route.params.activityId\n    this.addParamMesg.activityId = activityId\n    this.getDetail()\n  },\n  mounted () {\n\n  },\n  methods: {\n    /**\n     * [getDetail 获取拼团活动详情]\n     * @return {[type]} [description]\n     */\n    getDetail () {\n      let activityId = this.addParamMesg.activityId || ''\n      utils.showLoading()\n      this.$http.post(reqUrl.edit, { activityId: activityId }).then(res => {\n        utils.clearLoading()\n        if (res.code === 0) {\n          if (res.data) {\n            let createGoodsMesg = res.data\n            this.addParamMesg.activityId = createGoodsMesg.id\n            this.addParamMesg.activityType = createGoodsMesg.activityType || ''\n            this.addParamMesg.regionCode = createGoodsMesg.regionCode || ''\n            this.addParamMesg.regionName = createGoodsMesg.regionName || ''\n            this.addParamMesg.activityTypeName = createGoodsMesg.activityTypeName || ''\n            this.addParamMesg.activityName = createGoodsMesg.activityName || ''\n            this.addParamMesg.activityStartDate = createGoodsMesg.activityStartDate || ''\n            this.addParamMesg.activityEndDate = createGoodsMesg.activityEndDate || ''\n            this.addParamMesg.activityCode = createGoodsMesg.activityCode || ''\n            this.addParamMesg.limitDelivery = createGoodsMesg.limitDelivery ? createGoodsMesg.limitDelivery : 0\n            this.addParamMesg.limitDeliveryStr = createGoodsMesg.limitDelivery === 1 ? '是' : '否'\n            this.addParamMesg.limitGoodsCount = createGoodsMesg.limitGoodsCount || \"\",\n              this.addParamMesg.groupprice = createGoodsMesg.groupprice || \"\",\n              this.addParamMesg.curstock = createGoodsMesg.curstock || \"\"\n            if (createGoodsMesg.storeGroupVos && createGoodsMesg.storeGroupVos.length) {\n              this.activityStoresCheckedList = createGoodsMesg.storeGroupVos\n            }\n            // 处理选中的门店\n            this.activityStoreGroupList = createGoodsMesg.storeGroupVos.map(item => {\n              return {\n                performanceDate: item.performanceDatetime ? item.performanceDatetime.substr(0, 10) : '',\n                activityStoresCheckedList: item.storeVos\n              }\n            })\n            if (createGoodsMesg.platCityGoodsVos && createGoodsMesg.platCityGoodsVos.length) {\n              for (let item of createGoodsMesg.platCityGoodsVos) {\n                item.copyUrl = `pages/product/ptdetail?id=${item.platformCityGoodsId}&type=5`\n              }\n              this.activityGoodsCheckedList = createGoodsMesg.platCityGoodsVos\n            }\n            if (res.data.platCityGoodsVos && res.data.platCityGoodsVos.length > 0) {\n              for (let item of res.data.platCityGoodsVos) {\n                item.uniqueId = `${item.goodsId}` + `${item.goodsNo}`\n                item.copyUrl = `pages/product/detail?id=${item.platformCityGoodsId}&type=3`\n              }\n              this.checkedList = res.data.platCityGoodsVos\n            } else {\n              this.checkedList = []\n            }\n          }\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        utils.clearLoading()\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    },\n    limitGroupTypeFormater (row, column, cellValue) {\n      if (cellValue === 0) {\n        return \"全部\"\n      } else if (cellValue === 1) {\n        return \"新会员\"\n      } else if (cellValue === 2) {\n        return \"老会员\"\n      }\n    },\n    sfInStockHeader() {\n      return (\n        <el-popover\n          placement=\"top-start\"\n          width=\"260\"\n          trigger=\"hover\">\n          <div>\n            <p>1、顺丰标品设为顺丰仓现货时，下单会校验仓库库存；</p>\n            <p>2、本来鲜生鲜品无需设置；</p>\n          </div>\n          <span slot=\"reference\">是否为顺丰仓现货<i class=\"el-icon-question\"></i></span>\n        </el-popover>\n      )\n    },\n    /**\n     * [copyUrl 复制链接成功]\n     * @return {[type]}      [description]\n     */\n    onCopySuc () {\n      this.$message.success(\"链接已复制至剪切板，仅限微信公众号中使用\")\n    },\n    /**\n     * [onCopyError 复制链接失败]\n     * @return {[type]} [description]\n     */\n    onCopyError () {\n      this.$message.error(\"复制链接失败,请手动复制\")\n    },\n    /**\n     * [doCancelHandel 返回]\n     * @return {[type]} [description]\n     */\n    doCancelHandel () {\n      this.$router.push('/store_act')\n    }\n\n  },\n  /**\n   * [beforeRouteLeave 页面离开]\n   * @param  {[type]}   to   [description]\n   * @param  {[type]}   from [description]\n   * @param  {Function} next [description]\n   * @return {[type]}        [description]\n   */\n  beforeRouteLeave (to, from, next) {\n    to.meta.keepAlive = true;\n    next();\n  }\n}\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/StoreAct/BK/ShowBKPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMesg,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动类型\"}},[_c('p',{staticStyle:{\"color\":\"#222\",\"font-size\":\"16px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.addParamMesg.activityTypeName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择区域\"}},[_c('p',[_vm._v(_vm._s(_vm.addParamMesg.regionName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动编码\"}},[_c('p',[_vm._v(_vm._s(_vm.addParamMesg.activityCode))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动名称\"}},[_c('p',[_vm._v(_vm._s(_vm.addParamMesg.activityName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\"}},[_vm._v(_vm._s(_vm.addParamMesg.activityStartDate))]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\"}},[_vm._v(_vm._s(_vm.addParamMesg.activityEndDate))]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店/履约时间\",\"required\":\"\"}},_vm._l((_vm.activityStoreGroupList),function(item,index){return _c('div',{key:index,staticClass:\"store-pre-time-item-wrap\",class:index > 0 ? 'mt10' : null},[_c('div',{staticClass:\"item-right\"},[_c('div',[_c('span',[_vm._v(\"参与门店\")]),_vm._v(\" \"),(item.activityStoresCheckedList.length > 0)?_c('div',[_c('el-table',{staticClass:\"fixed-height\",attrs:{\"data\":item.activityStoresCheckedList,\"empty-text\":\"暂无选中任何门店\",\"max-height\":\"250\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"226px\",\"label\":\"门店编码/名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.erpStoreNo)+\"_\"+_vm._s(scope.row.erpStoreName))])]}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100\",\"prop\":\"saleTypeName\",\"label\":\"门店类型\"}})],1)],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"mt10\"},[_c('span',[_vm._v(\"履约时间\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.performanceDate || '--'))])])])])}),0),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设置活动商品\",\"required\":\"\"}},[_c('el-table',{staticClass:\"fixed-height choose-goods-wrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.checkedList,\"empty-text\":\"暂无选中任何商品\",\"max-height\":\"560\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"300px\",\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ll-p-m-w\"},[_c('div',{staticClass:\"sf-pre-goods-img-w\"},[(scope.row.preSaleImageUrl && scope.row.preSaleImageUrl != '')?_c('img',{attrs:{\"src\":scope.row.preSaleImageUrl,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}}):_c('img',{attrs:{\"src\":\"/shop/static/img_error.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"ll-p-m-c-r\"},[_c('div',[_vm._v(_vm._s(scope.row.goodsName))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo || '--'))]),_vm._v(\" \"),(scope.row.platformCityGoodsId)?_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"商品ID：\"+_vm._s(scope.row.platformCityGoodsId || '--'))]):_vm._e()])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"spec\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"prop\":\"activityGoodsName\",\"label\":\"活动商品名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"prop\":\"price\",\"label\":\"原价(必填)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"prop\":\"groupPrice\",\"label\":\"活动价(必填)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"活动库存(选填)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.curStock))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"label\":\"每人限购\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.limitGoodsCount))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"label\":\"排序权重\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.sortNum))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"190px\",\"render-header\":_vm.sfInStockHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n                \"+_vm._s(scope.row.sfInStock ? '是' : '否')+\"\\n              \")])]}}])})],1),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；\\n        \")]),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"活动进行中时新上门店，请在活动商品中发布至门店；\\n        \")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"返回\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-520feec0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/StoreAct/BK/ShowBKPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-520feec0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShowBKPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShowBKPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShowBKPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-520feec0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShowBKPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/StoreAct/BK/ShowBKPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}