{"version":3,"sources":["webpack:///src/components/MallConfig/Ad/index.vue","webpack:///./src/components/MallConfig/Ad/index.vue?9549","webpack:///./src/components/MallConfig/Ad/index.vue"],"names":["requestUrl","Ad","data","loading","pageNum","pageSize","pageSizes","config","pageSizes10","total","searchContent","DIFFCITY","regionCode","localStorage","get","adIdOrAdName","adStatus","adType","adTypeOptions","constant","adStatusOptions","tableData","components","Region","created","searchContentMesg","this","$route","meta","keepAlive","remove","doSearchHandel","methods","RegionChange","param","addHandel","$router","push","changeSize","value","changeCurrent","_this","$http","post","extends_default","then","res","code","result","length","Error","msg","catch","e","$notify","error","title","message","adStatusFormatter","row","column","cellValue","index","filterMsg","filter","item","label","updatePopupAdStatus","upStatus","_this2","statusStr","$confirm","confirmButtonText","cancelButtonText","type","adId","id","$message","success","editItem","paramMesg","set","beforeRouteLeave","to","from","next","MallConfig_Ad","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","icon","on","click","_v","model","label-position","refresh","placeholder","callback","$$v","$set","expression","filterable","clearable","change","$event","_l","key","directives","name","rawName","staticStyle","width","empty-text","min-width","prop","scopedSlots","_u","fn","scope","adImgUrl","src","alt","onerror","_s","adName","startDateTime","endDateTime","substr","_e","formatter","fixed","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"mKAwJAA,EACA,2CADAA,EAEA,wDAEAC,GACAC,KADA,WAEA,OACAC,SAAA,EACAC,QAAA,EACAC,SAAA,GACAC,UAAAC,EAAA,EAAAC,YACAC,MAAA,EACAC,eACAC,UAAA,EACAC,WAAAC,EAAA,EAAAC,IAAA,kBACAC,aAAA,GACAC,SAAA,GAEAC,OAAA,IAEAC,cAAAC,EAAA,EAAAD,cACAE,gBAAAD,EAAA,EAAAC,gBACAC,eAGAC,YACAC,iBAAA,GAEAC,QAxBA,WAyBA,IAAAC,EAAAZ,EAAA,EAAAC,IAAA,iBACAY,KAAAC,OAAAC,KAAAC,WAAAJ,IACAC,KAAAtB,QAAAqB,EAAArB,QACAsB,KAAAhB,cAAAe,EAAAf,eAEIG,EAAA,EAAJiB,OAAA,iBACAJ,KAAAK,kBAEAC,SACAC,aADA,SACAC,GACAR,KAAAhB,cAAAE,WAAAsB,EAAAtB,WACAc,KAAAK,kBAEAI,UALA,WAMAT,KAAAU,QAAAC,KAAA,YAEAC,WARA,SAQAC,GACAb,KAAArB,SAAAkC,EACAb,KAAAK,kBAEAS,cAZA,SAYAD,GACAb,KAAAtB,QAAAmC,EACAb,KAAAK,kBAEAA,eAhBA,SAgBAG,GAAA,IAAAO,EAAAf,KACAA,KAAAvB,SAAA,GACA,IAAA+B,IACAR,KAAAtB,QAAA,GAEAsB,KAAAgB,MAAAC,KAAA3C,EAAA4C,OAAAlB,KAAAhB,eAAAN,QAAAsB,KAAAtB,QAAAC,SAAAqB,KAAArB,YAAAwC,KAAA,SAAAC,GAEA,GADAL,EAAAtC,SAAA,EACA,IAAA2C,EAAAC,KAIA,OAFAN,EAAApB,UAAAyB,EAAA5C,MAAA4C,EAAA5C,KAAA8C,QAAAF,EAAA5C,KAAA8C,OAAAC,OAAAH,EAAA5C,KAAA8C,eACAP,EAAAhC,MAAAqC,EAAA5C,KAAAO,OAGA,UAAAyC,MAAAJ,EAAAK,OACAC,MAAA,SAAAC,GACAZ,EAAAtC,SAAA,EACAsC,EAAAa,QAAAC,OACAC,MAAA,KACAC,QAAAJ,EAAAI,aAIAC,kBAtCA,SAsCAC,EAAAC,EAAAC,EAAAC,GACA,IAAAC,EAAArC,KAAAN,gBAAA4C,OAAA,SAAAC,GACA,OAAAA,EAAA1B,QAAAsB,IACA,GACA,OAAAE,EACAA,EAAAG,MAEA,KAGAC,oBAhDA,SAgDAR,EAAAS,GAAA,IAAAC,EAAA3C,KACA4C,EAAA,GACA,IAAAF,EACAE,EAAA,KACA,IAAAF,EACAE,EAAA,KACA,IAAAF,IACAE,EAAA,MAEA5C,KAAA6C,SAAA,SAAAD,EAAA,aACAE,kBAAA,KACAC,iBAAA,KACAC,KAAA,YACA7B,KAAA,WACAwB,EAAA3B,MAAAC,KAAA3C,GAAA2E,KAAAhB,EAAAiB,GAAA5D,SAAAoD,EAAAzD,UAAA,IAAAkC,KAAA,SAAAC,GACA,OAAAA,EAAAC,KAGA,OAFAsB,EAAAQ,SAAAC,QAAAR,EAAA,WACAD,EAAAtC,iBAGA,UAAAmB,MAAAJ,EAAAK,OACAC,MAAA,SAAAC,GACAgB,EAAAf,QAAAC,OACAC,MAAA,KACAC,QAAAJ,EAAAI,cAGAL,MAAA,eAEA2B,SA7EA,SA6EApB,EAAAe,GACA,IAAAM,GACAtE,cAAAgB,KAAAhB,cACAN,QAAAsB,KAAAtB,SAEMS,EAAA,EAANoE,IAAA,gBAAAD,GACA,SAAAN,EACAhD,KAAAU,QAAAC,KAAA,YAAAsB,EAAAiB,IAEAlD,KAAAU,QAAAC,KAAA,YAAAsB,EAAAiB,GAAA,IAAAF,EAAA,WAAAf,EAAA3C,YAWAkE,iBAlIA,SAkIAC,EAAAC,EAAAC,GACAD,EAAAxD,KAAAC,WAAA,EACAwD,MC7ReC,GADEC,OAFjB,WAA0B,IAAAC,EAAA9D,KAAa+D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,yBAAmCF,EAAA,OAAYE,YAAA,kBAA4BF,EAAA,aAAkBG,OAAOpB,KAAA,UAAAqB,KAAA,OAAAC,KAAA,gBAAqDC,IAAKC,MAAAV,EAAArD,aAAuBqD,EAAAW,GAAA,gBAAAX,EAAAW,GAAA,KAAAR,EAAA,MAA8CE,YAAA,WAAqBL,EAAAW,GAAA,KAAAR,EAAA,OAAwBE,YAAA,uBAAiCF,EAAA,WAAgBG,OAAOM,MAAAZ,EAAA9E,cAAA2F,iBAAA,SAAkDV,EAAA,UAAeE,YAAA,cAAAC,OAAiCQ,SAAA,GAAgBL,IAAKhE,aAAAuD,EAAAvD,gBAAiCuD,EAAAW,GAAA,KAAAR,EAAA,gBAAiCG,OAAO5B,MAAA,eAAqByB,EAAA,YAAiBE,YAAA,eAAAC,OAAkCC,KAAA,QAAAQ,YAAA,aAAyCH,OAAQ7D,MAAAiD,EAAA9E,cAAA,aAAA8F,SAAA,SAAAC,GAAgEjB,EAAAkB,KAAAlB,EAAA9E,cAAA,eAAA+F,IAAiDE,WAAA,iCAA0C,GAAAnB,EAAAW,GAAA,KAAAR,EAAA,gBAAqCG,OAAO5B,MAAA,UAAgByB,EAAA,aAAkBE,YAAA,eAAAC,OAAkCc,WAAA,GAAAL,YAAA,OAAAM,UAAA,GAAAd,KAAA,SAAmEE,IAAKa,OAAA,SAAAC,GAA0B,OAAAvB,EAAAzD,gBAAA,KAAiCqE,OAAQ7D,MAAAiD,EAAA9E,cAAA,OAAA8F,SAAA,SAAAC,GAA0DjB,EAAAkB,KAAAlB,EAAA9E,cAAA,SAAA+F,IAA2CE,WAAA,yBAAoCnB,EAAAwB,GAAAxB,EAAA,uBAAAvB,GAA2C,OAAA0B,EAAA,aAAuBsB,IAAAhD,EAAA1B,MAAAuD,OAAsB5B,MAAAD,EAAAC,MAAA3B,MAAA0B,EAAA1B,WAAyC,OAAAiD,EAAAW,GAAA,KAAAR,EAAA,gBAAwCG,OAAO5B,MAAA,QAAcyB,EAAA,aAAkBE,YAAA,eAAAC,OAAkCc,WAAA,GAAAL,YAAA,KAAAM,UAAA,GAAAd,KAAA,SAAiEE,IAAKa,OAAA,SAAAC,GAA0B,OAAAvB,EAAAzD,gBAAA,KAAiCqE,OAAQ7D,MAAAiD,EAAA9E,cAAA,SAAA8F,SAAA,SAAAC,GAA4DjB,EAAAkB,KAAAlB,EAAA9E,cAAA,WAAA+F,IAA6CE,WAAA,2BAAsCnB,EAAAwB,GAAAxB,EAAA,yBAAAvB,GAA6C,OAAA0B,EAAA,aAAuBsB,IAAAhD,EAAA1B,MAAAuD,OAAsB5B,MAAAD,EAAAC,MAAA3B,MAAA0B,EAAA1B,WAAyC,OAAAiD,EAAAW,GAAA,KAAAR,EAAA,gBAAAA,EAAA,aAAwDG,OAAOpB,KAAA,UAAAqB,KAAA,QAA+BE,IAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAAzD,gBAAA,OAAkCyD,EAAAW,GAAA,sBAAAX,EAAAW,GAAA,KAAAR,EAAA,OAAqDE,YAAA,iBAA2BF,EAAA,YAAiBuB,aAAaC,KAAA,UAAAC,QAAA,YAAA7E,MAAAiD,EAAA,QAAAmB,WAAA,YAA4Ed,YAAA,eAAAwB,aAA0CC,MAAA,QAAexB,OAAQ5F,KAAAsF,EAAAnE,UAAAkG,aAAA,cAAAxB,KAAA,WAAgEJ,EAAA,mBAAwBG,OAAO0B,YAAA,OAAAC,KAAA,KAAAvD,MAAA,QAA6CsB,EAAAW,GAAA,KAAAR,EAAA,mBAAoCG,OAAO0B,YAAA,QAAAtD,MAAA,QAAmCwD,YAAAlC,EAAAmC,KAAsBV,IAAA,UAAAW,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,OAAkBE,YAAA,UAAoBF,EAAA,OAAYE,YAAA,mBAA6BgC,EAAAlE,IAAAmE,UAAA,IAAAD,EAAAlE,IAAAmE,SAAAnC,EAAA,OAA6DG,OAAOiC,IAAAF,EAAAlE,IAAAmE,SAAAE,IAAA,GAAAC,QAAA,mDAA6FtC,EAAA,OAAYG,OAAOiC,IAAA,6BAAAC,IAAA,QAA6CxC,EAAAW,GAAA,KAAAR,EAAA,OAA0BE,YAAA,YAAsBF,EAAA,OAAAH,EAAAW,GAAAX,EAAA0C,GAAAL,EAAAlE,IAAAwE,QAAA,oBAAgE3C,EAAAW,GAAA,KAAAR,EAAA,mBAAoCG,OAAO0B,YAAA,QAAAC,KAAA,aAAAvD,MAAA,UAAwDsB,EAAAW,GAAA,KAAAR,EAAA,mBAAoCG,OAAO0B,YAAA,QAAAC,KAAA,aAAAvD,MAAA,UAAwDsB,EAAAW,GAAA,KAAAR,EAAA,mBAAoCG,OAAO0B,YAAA,QAAAC,KAAA,aAAAvD,MAAA,WAAyDsB,EAAAW,GAAA,KAAAR,EAAA,mBAAoCG,OAAO0B,YAAA,QAAAtD,MAAA,OAAkCwD,YAAAlC,EAAAmC,KAAsBV,IAAA,UAAAW,GAAA,SAAAC,GAAiC,OAAAA,EAAAlE,IAAAyE,eAAAP,EAAAlE,IAAA0E,YAAA1C,EAAA,OAAqEE,YAAA,qBAA+BF,EAAA,OAAAA,EAAA,KAAAH,EAAAW,GAAAX,EAAA0C,GAAAL,EAAAlE,IAAAyE,cAAAE,OAAA,UAAA9C,EAAAW,GAAA,KAAAR,EAAA,KAAAH,EAAAW,GAAAX,EAAA0C,GAAAL,EAAAlE,IAAAyE,cAAAE,OAAA,YAAA9C,EAAAW,GAAA,KAAAR,EAAA,OAAAH,EAAAW,GAAA,SAAAX,EAAAW,GAAA,KAAAR,EAAA,OAAAA,EAAA,KAAAH,EAAAW,GAAAX,EAAA0C,GAAAL,EAAAlE,IAAA0E,YAAAC,OAAA,UAAA9C,EAAAW,GAAA,KAAAR,EAAA,KAAAH,EAAAW,GAAAX,EAAA0C,GAAAL,EAAAlE,IAAA0E,YAAAC,OAAA,cAAA9C,EAAA+C,YAAgX/C,EAAAW,GAAA,KAAAR,EAAA,mBAAoCG,OAAO0B,YAAA,QAAAC,KAAA,WAAAvD,MAAA,KAAAsE,UAAAhD,EAAA9B,qBAAsF8B,EAAAW,GAAA,KAAAR,EAAA,mBAAoCG,OAAO2C,MAAA,QAAAvE,MAAA,KAAAoD,MAAA,OAA2CI,YAAAlC,EAAAmC,KAAsBV,IAAA,UAAAW,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,WAAAkC,EAAAlE,IAAA3C,UAAA,IAAA6G,EAAAlE,IAAA3C,SAAA2E,EAAA,aAAyFG,OAAOpB,KAAA,OAAAqB,KAAA,OAAAC,KAAA,gBAAkDC,IAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAAT,SAAA8C,EAAAlE,IAAA,YAAyC6B,EAAAW,GAAA,QAAAX,EAAA+C,KAAA/C,EAAAW,GAAA,SAAA0B,EAAAlE,IAAA3C,UAAA,IAAA6G,EAAAlE,IAAA3C,SAAA2E,EAAA,aAA6GG,OAAOpB,KAAA,OAAAqB,KAAA,OAAAC,KAAA,gBAAkDC,IAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAAT,SAAA8C,EAAAlE,IAAA,YAAyC6B,EAAAW,GAAA,QAAAX,EAAA+C,KAAA/C,EAAAW,GAAA,KAAAR,EAAA,aAAsDG,OAAOpB,KAAA,OAAAqB,KAAA,OAAAC,KAAA,mBAAqDC,IAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAAT,SAAA8C,EAAAlE,IAAA,YAAyC6B,EAAAW,GAAA,YAAAX,EAAAW,GAAA,KAAAR,EAAA,WAAAkC,EAAAlE,IAAA3C,SAAA2E,EAAA,aAAsFG,OAAOpB,KAAA,OAAAqB,KAAA,OAAAC,KAAA,kBAAoDC,IAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAArB,oBAAA0D,EAAAlE,IAAA,OAA+C6B,EAAAW,GAAA,QAAAX,EAAA+C,KAAA/C,EAAAW,GAAA,SAAA0B,EAAAlE,IAAA3C,UAAA,IAAA6G,EAAAlE,IAAA3C,SAAA2E,EAAA,aAA6GG,OAAOpB,KAAA,OAAAqB,KAAA,OAAAC,KAAA,mBAAqDC,IAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAArB,oBAAA0D,EAAAlE,IAAA,OAA+C6B,EAAAW,GAAA,QAAAX,EAAA+C,KAAA/C,EAAAW,GAAA,SAAA0B,EAAAlE,IAAA3C,SAAA2E,EAAA,aAAiFG,OAAOpB,KAAA,OAAAqB,KAAA,OAAAC,KAAA,mBAAqDC,IAAKC,MAAA,SAAAa,GAAyB,OAAAvB,EAAArB,oBAAA0D,EAAAlE,IAAA,OAA+C6B,EAAAW,GAAA,QAAAX,EAAA+C,MAAA,WAAmC,GAAA/C,EAAAW,GAAA,KAAAX,EAAA/E,MAAA,EAAAkF,EAAA,iBAAoDE,YAAA,UAAAC,OAA6B4C,WAAA,GAAAC,eAAAnD,EAAApF,QAAAwI,aAAApD,EAAAlF,UAAAuI,OAAA,0CAAApI,MAAA+E,EAAA/E,OAA2IwF,IAAK6C,cAAAtD,EAAAlD,WAAAyG,iBAAAvD,EAAAhD,cAAAwG,qBAAA,SAAAjC,GAAsGvB,EAAApF,QAAA2G,GAAmBkC,sBAAA,SAAAlC,GAAwCvB,EAAApF,QAAA2G,MAAqBvB,EAAA+C,MAAA,MAEj1LW,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEpJ,EACAqF,GATF,EAVA,SAAAgE,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/82.02174a30949ee0f24502.js","sourcesContent":["<style>\r\n  .p-m-w {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n  }\r\n  .img-w-34 {\r\n    width: 60px;\r\n    height: 80px;\r\n  }\r\n  .img-w-34>img {\r\n     width: 60px;\r\n    height: 80px;\r\n  }\r\n  .p-m-c-r {\r\n    padding: 0 10px;\r\n  }\r\n  .erp-p-no {\r\n    color: #666;\r\n    font-size: 12px;\r\n  }\r\n  .g-m-r {\r\n    position: relative;\r\n  }\r\n\r\n  .date-wrap-inline {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    align-items: center;\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"handel-search-wraper\">\r\n      <div class=\"handel-wraper\">\r\n        <el-button type=\"primary\" @click=\"addHandel\" size=\"mini\" icon=\"el-icon-plus\">添加弹窗广告</el-button>\r\n      </div>\r\n      <hr class=\"s-slip\">\r\n      <div class=\"search-form-wraper\">\r\n        <el-form :model=\"searchContent\" label-position=\"top\">\r\n          <region @RegionChange=\"RegionChange\" class=\"region-wrap\" :refresh=\"false\"></region>\r\n          <el-form-item label=\"ID/弹窗广告名称\">\r\n            <el-input v-model=\"searchContent.adIdOrAdName\" size=\"small\" class=\"search-input\" placeholder=\"ID/弹窗广告名称\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"跳转路径\">\r\n           <el-select class=\"search-input\" v-model=\"searchContent.adType\" filterable placeholder=\"跳转路径\" clearable size=\"small\" @change=\"doSearchHandel(true)\">\r\n              <el-option\r\n                v-for=\"item in adTypeOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\">\r\n           <el-select class=\"search-input\" v-model=\"searchContent.adStatus\" filterable placeholder=\"状态\" clearable size=\"small\" @change=\"doSearchHandel(true)\">\r\n              <el-option\r\n                v-for=\"item in adStatusOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n    <div class=\"table-wraper\">\r\n      <el-table\r\n        class=\"fixed-height\"\r\n        v-loading=\"loading\"\r\n        :data=\"tableData\"\r\n        empty-text=\"没有查询到您想要的数据\"\r\n        style=\"width:100%;\"\r\n        size=\"small\">\r\n        <el-table-column min-width=\"60px\" prop=\"id\" label=\"ID\"></el-table-column>\r\n        <el-table-column min-width=\"200px\" label=\"广告信息\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"p-m-w\">\r\n              <div class=\"img-w-34 g-m-r\">\r\n                <img v-if=\"scope.row.adImgUrl && scope.row.adImgUrl != ''\" :src=\"scope.row.adImgUrl\" alt=\"\" onerror=\"onerror=null;src='/shop/static/img_error.png'\">\r\n                <img v-else src=\"/shop/static/img_error.png\" alt=\"\">\r\n              </div>\r\n              <div class=\"p-m-c-r\">\r\n                <div>{{scope.row.adName || '--'}}</div>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column min-width=\"100px\" prop=\"adTypeDesc\" label=\"跳转路径\"></el-table-column>\r\n        <el-table-column min-width=\"140px\" prop=\"adLinkName\" label=\"跳转内容\"></el-table-column>\r\n        <el-table-column min-width=\"100px\" prop=\"adStoreNum\" label=\"应用门店数\"></el-table-column>\r\n        <el-table-column min-width=\"210px\" label=\"有效期\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"date-wrap-inline\" v-if=\"scope.row.startDateTime && scope.row.endDateTime\">\r\n              <div>\r\n                <p>{{scope.row.startDateTime.substr(0, 10)}}</p>\r\n                <p>{{scope.row.startDateTime.substr(11, 8)}}</p>\r\n              </div>\r\n              <div>&nbsp;-&nbsp;</div>\r\n              <div>\r\n                <p>{{scope.row.endDateTime.substr(0, 10)}}</p>\r\n                <p>{{scope.row.endDateTime.substr(11, 8)}}</p>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column min-width=\"100px\" prop=\"adStatus\" label=\"状态\" :formatter=\"adStatusFormatter\"></el-table-column>\r\n        <el-table-column\r\n          fixed=\"right\"\r\n          label=\"操作\"\r\n          width=\"140\">\r\n          <template slot-scope=\"scope\" size=\"small\">\r\n            <div>\r\n              <el-button @click=\"editItem(scope.row, 'show')\" type=\"text\" size=\"mini\" icon=\"el-icon-view\" v-if=\"scope.row.adStatus !== 0 && scope.row.adStatus !== 2\">查看</el-button>\r\n              <el-button @click=\"editItem(scope.row, 'edit')\" type=\"text\" size=\"mini\" icon=\"el-icon-edit\" v-if=\"scope.row.adStatus === 0 || scope.row.adStatus === 2\">编辑</el-button>\r\n              <el-button @click=\"editItem(scope.row, 'copy')\" type=\"text\" size=\"mini\" icon=\"el-icon-tickets\">复制</el-button>\r\n            </div>\r\n            <div>\r\n              <el-button @click=\"updatePopupAdStatus(scope.row, 9)\" type=\"text\" size=\"mini\" icon=\"el-icon-delete\" v-if=\"scope.row.adStatus === 0\">删除</el-button>\r\n              <el-button @click=\"updatePopupAdStatus(scope.row, 5)\" type=\"text\" size=\"mini\" icon=\"el-icon-warning\" v-if=\"scope.row.adStatus === 2 || scope.row.adStatus === 3\">终止</el-button>\r\n              <el-button @click=\"updatePopupAdStatus(scope.row, 1)\" type=\"text\" size=\"mini\" icon=\"el-icon-upload2\" v-if=\"scope.row.adStatus === 0\">发布</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页条 -->\r\n      <el-pagination\r\n        v-if=\"total>0\"\r\n        class=\"tc mt20\"\r\n        background\r\n        @size-change=\"changeSize\"\r\n        @current-change=\"changeCurrent\"\r\n        :current-page.sync=\"pageNum\"\r\n        :page-sizes=\"pageSizes\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Storage from '@/utils/localStorage'\r\n  import config from '@/utils/config'\r\n  import constant from \"./constant\"\r\n  import Region from '@/components/Common/StoreCommon/Region'\r\n  const requestUrl = {\r\n    adList: '/plateform/p/client/mall/popup/ad/adList',\r\n    updatePopupAdStatus: '/plateform/p/client/mall/popup/ad/updatePopupAdStatus'\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        loading: false,\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        pageSizes: config.pageSizes10,\r\n        total: 0,\r\n        searchContent: {\r\n          DIFFCITY: true,\r\n          regionCode: Storage.get('regionCode') || '', // 区域ID\r\n          adIdOrAdName: '',\r\n          adStatus: '', \r\n          // 广告跳转类型（CATEGORY-专题，GOODS-预售商品详情;HOME-首页;URL-跳转URL;APPLET-小程序;SECKILLGOODS-秒杀商品详情;BESTSELLERGOODS-爆款商品详情;SAVEPACKAGE-省钱礼包;SECKILLAREA-秒杀专区;APPLYLEADER-申请团长;MEMBERWALLET-会员充值;POINTPROM-积分换券）\r\n          adType: ''\r\n        },\r\n        adTypeOptions: constant.adTypeOptions,\r\n        adStatusOptions: constant.adStatusOptions,\r\n        tableData: []\r\n      }\r\n    },\r\n    components: {\r\n      Region\r\n    },\r\n    created() {\r\n      let searchContentMesg = Storage.get(\"searchContent\")\r\n      if(this.$route.meta.keepAlive && searchContentMesg) {\r\n        this.pageNum = searchContentMesg.pageNum\r\n        this.searchContent = searchContentMesg.searchContent\r\n      }\r\n      Storage.remove('searchContent')\r\n      this.doSearchHandel()\r\n    },\r\n    methods: {\r\n      RegionChange(param) {\r\n        this.searchContent.regionCode = param.regionCode\r\n        this.doSearchHandel()\r\n      },\r\n      addHandel() {\r\n        this.$router.push(\"/ad/add\")\r\n      },\r\n      changeSize (value) {\r\n        this.pageSize = value\r\n        this.doSearchHandel()\r\n      },\r\n      changeCurrent (value) {\r\n        this.pageNum = value\r\n        this.doSearchHandel()\r\n      },\r\n      doSearchHandel(param) {\r\n        this.loading = true\r\n        if(param === true) {\r\n          this.pageNum = 1\r\n        }\r\n        this.$http.post(requestUrl.adList, { ...this.searchContent, pageNum: this.pageNum, pageSize: this.pageSize }).then(res => {\r\n          this.loading = false\r\n          if(res.code === 0) {\r\n            // 获取表格数据\r\n            this.tableData = res.data && res.data.result && res.data.result.length ? res.data.result : []\r\n            this.total = res.data.total\r\n            return \r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.loading = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      adStatusFormatter(row, column, cellValue, index) {\r\n        let filterMsg = this.adStatusOptions.filter(item => {\r\n          return item.value === cellValue\r\n        })[0]\r\n        if(filterMsg) {\r\n          return filterMsg.label\r\n        }else {\r\n          return '-'\r\n        }\r\n      },\r\n      updatePopupAdStatus(row, upStatus) {\r\n        let statusStr = ''\r\n        if(upStatus === 1) {\r\n          statusStr = '发布'\r\n        }else if(upStatus === 5) {\r\n          statusStr = '终止'\r\n        }else if(upStatus === 9) {\r\n          statusStr = '删除'\r\n        }\r\n        this.$confirm(`您确定要执行${statusStr}操作吗?`, '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$http.post(requestUrl.updatePopupAdStatus, {adId: row.id, adStatus: upStatus, DIFFCITY: true}).then(res => {\r\n            if(res.code === 0) {\r\n              this.$message.success(`${statusStr}成功`)\r\n              this.doSearchHandel()\r\n              return \r\n            }\r\n            throw new Error(res.msg)\r\n          }).catch(e => {\r\n            this.$notify.error({\r\n              title: '提示',\r\n              message: e.message\r\n            })\r\n          })\r\n        }).catch(() => {})\r\n      },\r\n      editItem(row, type) {\r\n        let paramMesg = {\r\n          searchContent: this.searchContent,\r\n          pageNum: this.pageNum\r\n        }\r\n        Storage.set(\"searchContent\", paramMesg)\r\n        if(type === 'show') {\r\n          this.$router.push(`/ad/show/${row.id}`)\r\n        }else {\r\n          this.$router.push(`/ad/edit/${row.id}/${type}?status=${row.adStatus}`)\r\n        } \r\n      }\r\n    },\r\n    /**\r\n     * [beforeRouteLeave 页面离开]\r\n     * @param  {[type]}   to   [description]\r\n     * @param  {[type]}   from [description]\r\n     * @param  {Function} next [description]\r\n     * @return {[type]}        [description]\r\n     */\r\n    beforeRouteLeave (to, from, next){\r\n      from.meta.keepAlive = false;\r\n      next();\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/MallConfig/Ad/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"handel-search-wraper\"},[_c('div',{staticClass:\"handel-wraper\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.addHandel}},[_vm._v(\"添加弹窗广告\")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip\"}),_vm._v(\" \"),_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('region',{staticClass:\"region-wrap\",attrs:{\"refresh\":false},on:{\"RegionChange\":_vm.RegionChange}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"ID/弹窗广告名称\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"ID/弹窗广告名称\"},model:{value:(_vm.searchContent.adIdOrAdName),callback:function ($$v) {_vm.$set(_vm.searchContent, \"adIdOrAdName\", $$v)},expression:\"searchContent.adIdOrAdName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"跳转路径\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"跳转路径\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.adType),callback:function ($$v) {_vm.$set(_vm.searchContent, \"adType\", $$v)},expression:\"searchContent.adType\"}},_vm._l((_vm.adTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"状态\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.adStatus),callback:function ($$v) {_vm.$set(_vm.searchContent, \"adStatus\", $$v)},expression:\"searchContent.adStatus\"}},_vm._l((_vm.adStatusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")])],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"60px\",\"prop\":\"id\",\"label\":\"ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"200px\",\"label\":\"广告信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"p-m-w\"},[_c('div',{staticClass:\"img-w-34 g-m-r\"},[(scope.row.adImgUrl && scope.row.adImgUrl != '')?_c('img',{attrs:{\"src\":scope.row.adImgUrl,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}}):_c('img',{attrs:{\"src\":\"/shop/static/img_error.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"p-m-c-r\"},[_c('div',[_vm._v(_vm._s(scope.row.adName || '--'))])])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"adTypeDesc\",\"label\":\"跳转路径\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"prop\":\"adLinkName\",\"label\":\"跳转内容\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"adStoreNum\",\"label\":\"应用门店数\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"210px\",\"label\":\"有效期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.startDateTime && scope.row.endDateTime)?_c('div',{staticClass:\"date-wrap-inline\"},[_c('div',[_c('p',[_vm._v(_vm._s(scope.row.startDateTime.substr(0, 10)))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(scope.row.startDateTime.substr(11, 8)))])]),_vm._v(\" \"),_c('div',[_vm._v(\" - \")]),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(_vm._s(scope.row.endDateTime.substr(0, 10)))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(scope.row.endDateTime.substr(11, 8)))])])]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"adStatus\",\"label\":\"状态\",\"formatter\":_vm.adStatusFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(scope.row.adStatus !== 0 && scope.row.adStatus !== 2)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.editItem(scope.row, 'show')}}},[_vm._v(\"查看\")]):_vm._e(),_vm._v(\" \"),(scope.row.adStatus === 0 || scope.row.adStatus === 2)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editItem(scope.row, 'edit')}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-tickets\"},on:{\"click\":function($event){return _vm.editItem(scope.row, 'copy')}}},[_vm._v(\"复制\")])],1),_vm._v(\" \"),_c('div',[(scope.row.adStatus === 0)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.updatePopupAdStatus(scope.row, 9)}}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),(scope.row.adStatus === 2 || scope.row.adStatus === 3)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-warning\"},on:{\"click\":function($event){return _vm.updatePopupAdStatus(scope.row, 5)}}},[_vm._v(\"终止\")]):_vm._e(),_vm._v(\" \"),(scope.row.adStatus === 0)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-upload2\"},on:{\"click\":function($event){return _vm.updatePopupAdStatus(scope.row, 1)}}},[_vm._v(\"发布\")]):_vm._e()],1)]}}])})],1),_vm._v(\" \"),(_vm.total>0)?_c('el-pagination',{staticClass:\"tc mt20\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":_vm.pageSizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-649282b8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MallConfig/Ad/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-649282b8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-649282b8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MallConfig/Ad/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}