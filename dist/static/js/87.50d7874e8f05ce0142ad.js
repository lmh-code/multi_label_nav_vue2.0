webpackJsonp([87],{O4Km:function(a,d,e){"use strict";Object.defineProperty(d,"__esModule",{value:!0});var t=e("oAV5"),s=e("3/Xe"),r="/plateform/p/client/mall/popup/ad/popupAdDetail",i="/plateform/p/client/mall/popup/ad/popupAdStoreList",n={data:function(){return{adId:"",addParamMsg:{DIFFCITY:!0,regionCode:"",regionName:"",adName:"",startDateTime:"",endDateTime:"",adType:"",adTypeDesc:"",adLinkUrl:"",adLinkName:"",adLinkId:"",adLinkIdToStr:"",storeNoList:[],adImgUrl:""},storeCheckedList:[],appIdOptions:s.a.appIdOptions}},created:function(){this.adId=this.$route.params.id,this.getDetail(),this.getDetailStoreList()},methods:{getDetail:function(){var a=this;t.r(),this.$http.post(r,{adId:this.adId,DIFFCITY:!0}).then(function(d){if(t.c(),0!==d.code)throw new Error(d.msg);d.data&&(a.adId=d.data.adId||"",a.addParamMsg.regionCode=d.data.regionCode||"",a.addParamMsg.regionName=d.data.regionName||"",a.addParamMsg.adName=d.data.adName||"",a.addParamMsg.startDateTime=d.data.startDateTime||"",a.addParamMsg.endDateTime=d.data.endDateTime||"",a.addParamMsg.adType=d.data.adType||"",a.addParamMsg.adTypeDesc=d.data.adTypeDesc||"",a.addParamMsg.adLinkUrl=d.data.adLinkUrl||"",a.addParamMsg.adLinkName=d.data.adLinkName||"",a.addParamMsg.adLinkId=d.data.adLinkId||"",a.addParamMsg.adLinkId&&"APPLET"===a.addParamMsg.adType&&(a.addParamMsg.adLinkIdToStr=a.appIdOptions.filter(function(d){return d.value===a.addParamMsg.adLinkId})[0].label),a.addParamMsg.adImgUrl=d.data.adImgUrl||"")}).catch(function(d){t.c(),a.$notify.error({title:"提示",message:d.message})})},getDetailStoreList:function(){var a=this;t.r(),this.$http.post(i,{adId:this.adId,DIFFCITY:!0}).then(function(d){if(t.c(),0!==d.code)throw new Error(d.msg);a.storeCheckedList=d.data&&d.data.length?d.data:[]}).catch(function(d){t.c(),a.$notify.error({title:"提示",message:d.message})})},doCancelHandel:function(){var a=this;this.$confirm("确定取消吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$router.push("/ad")}).catch(function(){})}},beforeRouteLeave:function(a,d,e){a.meta.keepAlive=!0,e()}},m={render:function(){var a=this,d=a.$createElement,e=a._self._c||d;return e("div",{staticClass:"add-form-wraper"},[e("el-form",{ref:"ruleForm",attrs:{model:a.addParamMsg,"label-width":"160px"}},[e("el-form-item",{attrs:{label:"选择区域"}},[e("div",[a._v(a._s(a.addParamMsg.regionName))])]),a._v(" "),e("el-form-item",{attrs:{label:"弹窗名称"}},[e("div",[a._v(a._s(a.addParamMsg.adName))])]),a._v(" "),e("el-form-item",{attrs:{label:"开始时间"}},[e("div",[a._v(a._s(a.addParamMsg.startDateTime))])]),a._v(" "),e("el-form-item",{attrs:{label:"结束时间"}},[e("div",[a._v(a._s(a.addParamMsg.endDateTime))])]),a._v(" "),e("el-form-item",{attrs:{label:"上传图片"}},[e("div",[a.addParamMsg.adImgUrl?e("img",{attrs:{src:a.addParamMsg.adImgUrl,alt:"",width:"90",height:"120"}}):a._e()])]),a._v(" "),e("el-form-item",{attrs:{label:"跳转路径"}},[e("div",[a._v(" "+a._s(a.addParamMsg.adTypeDesc)+" ")]),a._v(" "),"TOPIC"===a.addParamMsg.adType&&a.addParamMsg.adLinkName?e("div",[a._v("\n        "+a._s(a.addParamMsg.adLinkName)+"\n      ")]):a._e(),a._v(" "),"CATEGORY"===a.addParamMsg.adType&&a.addParamMsg.adLinkName?e("div",[a._v("\n        "+a._s(a.addParamMsg.adLinkName)+"\n      ")]):a._e(),a._v(" "),"GOODS"===a.addParamMsg.adType&&a.addParamMsg.adLinkName?e("div",[a._v("\n        "+a._s(a.addParamMsg.adLinkName)+"\n      ")]):a._e(),a._v(" "),"SECKILLGOODS"===a.addParamMsg.adType&&a.addParamMsg.adLinkName?e("div",[a._v("\n        "+a._s(a.addParamMsg.adLinkName)+"\n      ")]):a._e(),a._v(" "),"BESTSELLERGOODS"===a.addParamMsg.adType&&a.addParamMsg.adLinkName?e("div",[a._v("\n        "+a._s(a.addParamMsg.adLinkName)+"\n      ")]):a._e(),a._v(" "),"URL"===a.addParamMsg.adType?e("div",[e("span",{staticClass:"label-txt-wrap"},[a._v("输入路径: ")]),a._v(" "),e("span",[a._v(a._s(a.addParamMsg.adLinkUrl))])]):a._e(),a._v(" "),"APPLET"===a.addParamMsg.adType?e("div",[e("div",[e("span",{staticClass:"label-txt-wrap"},[a._v("选择程序: ")]),a._v(" "),e("span",[a._v(a._s(a.addParamMsg.adLinkIdToStr))])]),a._v(" "),e("div",[e("span",{staticClass:"label-txt-wrap"},[a._v("输入路径: ")]),a._v(" "),e("span",[a._v(a._s(a.addParamMsg.adLinkUrl))])])]):a._e()]),a._v(" "),e("el-form-item",{attrs:{label:"应用门店"}},[a.storeCheckedList.length>0?e("div",{staticClass:"choose-store-table-wrap"},[e("el-table",{staticClass:"fixed-height",attrs:{data:a.storeCheckedList,"empty-text":"暂无选中任何门店","max-height":"300",size:"small"}},[e("el-table-column",{attrs:{"min-width":"170px",label:"门店编码/名称"},scopedSlots:a._u([{key:"default",fn:function(d){return[e("div",[a._v("\n                "+a._s(d.row.storeNo)+"_"+a._s(d.row.storeName)+"\n              ")])]}}],null,!1,3410891365)}),a._v(" "),e("el-table-column",{attrs:{"min-width":"100",prop:"cityName",label:"城市"}}),a._v(" "),e("el-table-column",{attrs:{"min-width":"100",prop:"saleTypeStr",label:"门店类型"}})],1)],1):a._e()]),a._v(" "),e("hr",{staticClass:"s-slip-tb"}),a._v(" "),e("el-form-item",[e("el-button",{attrs:{size:"small"},on:{click:a.doCancelHandel}},[a._v("取消")])],1)],1)],1)},staticRenderFns:[]};var l=e("VU/8")(n,m,!1,function(a){e("dqJT")},null,null);d.default=l.exports},dqJT:function(a,d){}});
//# sourceMappingURL=87.50d7874e8f05ce0142ad.js.map