{"version":3,"sources":["webpack:///src/module/views/BuyAndSale/QuoteMgt/ImportExcel.vue","webpack:///./src/module/views/BuyAndSale/QuoteMgt/ImportExcel.vue?c9a6","webpack:///./src/module/views/BuyAndSale/QuoteMgt/ImportExcel.vue","webpack:///src/module/views/BuyAndSale/QuoteMgt/QuoteDetail.vue","webpack:///./src/module/views/BuyAndSale/QuoteMgt/QuoteDetail.vue?01b9","webpack:///./src/module/views/BuyAndSale/QuoteMgt/QuoteDetail.vue","webpack:///src/module/views/BuyAndSale/QuoteMgt/ChooseGoods.vue","webpack:///./src/module/views/BuyAndSale/QuoteMgt/ChooseGoods.vue?cba5","webpack:///./src/module/views/BuyAndSale/QuoteMgt/ChooseGoods.vue"],"names":["ImportExcel","data","fileName","props","requireCheckTotal","maxTotal","methods","uploadHandle","e","_this2","this","_this","$emit","file","target","files","name","exportExcel","parseToJSON","then","res","length","message","warn","importHandle","err","console","log","doExportDataHandel","renderChild","child","QuoteMgt_ImportExcel","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","type","accept","on","change","click","value","_t","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","QuoteDetail","components","ChooseGoods","mixins","options","userPermission","moduleId","remark","statusOptions","constants","typeOptions","tableData","columns","title","dataIndex","minWidth","input","inputChangeFunc","numberFilter","intFilter","filterFn","calAdjustAmount","calAdjustRate","width","remarkFilter","loading","delLoading","confLoading","logColumns","checkedGoodsList","state","visible","showImportResult","exportConfig","goodsNo","shortName","quotationPricetitle","qty","errorMsg","exportConfig1","quotationPrice","exportData","selectedRowKeys","rules","storeGroupName","required","trigger","typeName","goodsCategoryName","paperNo","vendorName","startTime","endTime","max","ruleForm","created","$route","params","_getQuoteDetail","_getLog","$store","common","userPermissionMap","$loading","show","$http","post","buyAndSale","getQuoteDetail","hide","code","details","map","t","adjustAmount","adjustRate","extends_default","$tip","notify","msg","catch","showAddGoodsDialog","storeGroupNo","vendorNo","goodsCategory","$nextTick","$refs","chooseGoods","setDefaultMsg","categoryNos","regionNo","defaultChecked","doSearchHandle","confirmHandel","result","_this3","concat","toConsumableArray_default","newData","filter","find","k","text","replace","match","record","sign","currentPrice","Object","utils","substring","saveAndLaunch","_this4","promise_default","a","resolve","reject","validate","valid","_ruleForm","noPrice","addOrUpdateQuote","_this5","_ruleForm2","goods","parseFloat","i","param","goodsCategoryNo","editSuccessHandel","confirmLoading","_this6","keyValue","getOperationLog","operate","deleteQuote","confirmQuote","_this7","deleteSuccessHandel","_this8","showModal","handleOk","_this9","timeout","clearTimeout","importDataUnique","tableDataTmp","some","goodsId","importMsg","importFile","setTimeout","handleCancel","tHeader","filterVal","ExportJsonToExcel","header","filename","downLoadReasonExcel","errDataDownload","row","push","_checkImportFile","_this10","_ruleForm3","_param","importQuote","_details","errData","errorInfos","index","findIndex","item","uploadEmit","deleteProcducts","_this11","indexOf","selectionChange","selections","selection","handleSave","splice","doCancelHandel","closePage","QuoteMgt_QuoteDetail","includes","size","icon","disabled","$event","_e","placement","slot","ref","label-position","model","label","prop","clearable","placeholder","callback","$$v","$set","trim","expression","format","value-format","border","dataSource","selection-change","update:visible","staticStyle","margin-top","color","float","confirm","pageNum","pageSize","total","searchContent","vendorNos","goodsName","checkedList","watch","searchCondition","newVal","oldVal","computed","_searchContent","changeSize","changeCurrent","firstPage","queryRegionCategoryGoodsList","Error","selectHandel","_ref","selectAllHandel","_ref2","forEach","j","QuoteMgt_ChooseGoods","close-on-click-modal","close-on-press-escape","show-close","nativeOn","submit","preventDefault","keyup","_k","keyCode","key","maxHeight","uniqueStr","select","select-all","showPagination","size-change","current-change"],"mappings":"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","file":"static/js/6.050d41ee49cde38c9021.1615898974438.js","sourcesContent":["<template>\n  <div class=\"rel\">\n    <span class=\"btn\">请选择文件</span>\n    <div class=\"chooseFile\">{{fileName}}</div>\n    <input class=\"btn-input\" type='file' accept='.xlsx, .xls' @change=\"uploadHandle\" @click=\"(e) => {e.target.value = '';}\"/>\n    <span class=\"btn-download\" @click=\"doExportDataHandel\">下载模板</span>\n    <div class=\"pop-content\">\n      <slot></slot>\n      <!-- {Array.isArray(this.props.children) ?\n      this.props.children.map((child) => {\n          return this.renderChild(child)\n      }) : this.props.children && this.renderChild(this.props.children)} -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport exportExcel from '@/utils/exportExcel'\nexport default {\n  \n  data() {\n    return {\n      // requireCheckTotal: '',\n      // maxTotal: '',\n      fileName: '',\n    }\n  },\n  props: {\n    requireCheckTotal:'',\n    maxTotal:'',\n  },\n  methods: {\n    uploadHandle(e) {\n      let _this = this\n      this.$emit('uploadEmit')\n      let file = e.target.files[0] || {name: ''}\n      exportExcel.parseToJSON(file).then(res => {\n        if(_this.requireCheckTotal && res && (res.length > _this.maxTotal)) {\n          message.warn(`一次限导入${_this.maxTotal}条`)\n          return\n        }\n        if(res && res.length) {\n          this.fileName = file.name\n          this.importHandle(res)\n        }\n      }, err => {\n        console.log(err)\n      })\n    },\n\n    doExportDataHandel() {\n      this.$emit('doExportDataHandel')\n    },\n\n    importHandle(res) {\n      this.$emit('importHandle', res)\n    },\n\n    renderChild(child) { // 控制内容的分发\n      return child\n      // if (child.props.detail) {\n      //     return <div className=\"left\" key=\"left\">{child}</div>\n      // } else if (child.props.error) {\n      //     return <div className=\"right\" key=\"right\">{child}</div>\n      // } else if (child.props.center) {\n      //     return <div className=\"center\" key=\"center\">{child}</div>\n      // }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.chooseFile {\n  position: absolute;\n  top: 0px;\n  left: 80px;\n  background: #fff;\n  border: 1px solid #ccc;\n  border-radius: 2px;\n  width: 320px;\n  height: 28px;\n  padding: 0 10px;\n  line-height: 28px;\n}\n.btn-input {\n  margin-left: 10px;\n  width: 330px;\n  opacity: 0;\n}\n.btn {\n  color: #000;\n}\n.btn-download {\n  color: blue;\n}\n.rel {\n  position: relative;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/module/views/BuyAndSale/QuoteMgt/ImportExcel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rel\"},[_c('span',{staticClass:\"btn\"},[_vm._v(\"请选择文件\")]),_vm._v(\" \"),_c('div',{staticClass:\"chooseFile\"},[_vm._v(_vm._s(_vm.fileName))]),_vm._v(\" \"),_c('input',{staticClass:\"btn-input\",attrs:{\"type\":\"file\",\"accept\":\".xlsx, .xls\"},on:{\"change\":_vm.uploadHandle,\"click\":function (e) {e.target.value = '';}}}),_vm._v(\" \"),_c('span',{staticClass:\"btn-download\",on:{\"click\":_vm.doExportDataHandel}},[_vm._v(\"下载模板\")]),_vm._v(\" \"),_c('div',{staticClass:\"pop-content\"},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14a59b34\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/BuyAndSale/QuoteMgt/ImportExcel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14a59b34\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!style-resources-loader?{\\\"patterns\\\":\\\"/Users/zhanyizhu/Desktop/projects/blx-code/supplier_web/src/assets/style/base.less\\\"}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ImportExcel.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImportExcel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImportExcel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14a59b34\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImportExcel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14a59b34\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/BuyAndSale/QuoteMgt/ImportExcel.vue\n// module id = null\n// module chunks = ","<style scoped lang=\"less\">\n.fr { position: relative; right: 0; }\n.row-clolum {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  .left {\n    flex: 1;\n  }\n  .right {\n    width: 100px;\n    text-align: right;\n    display: flex;\n    align-items: center;\n    justify-content: flex-end;\n  }\n}\n.suggestion { list-style: 'circle inside'!important; }\n</style>\n<template>\n  <div>\n    <div class=\"handel-wraper row-clolum\">\n      <div class=\"left\">\n        <el-button :loading=\"delLoading\" v-if=\"userPermission && userPermission.includes('删除')\" :type=\"res.state !== 0 ? '' : 'primary'\" size=\"mini\" icon=\"el-icon-delete\" @click=\"operate('delete')\" :disabled=\"res.state !== 0\" >废弃\n        </el-button>\n        <el-button :loading=\"confLoading\" v-if=\"userPermission && userPermission.includes('审核')\" :type=\"res.state !== 0 ? '' : 'primary'\" size=\"mini\" @click=\"operate('confirm')\" :disabled=\"res.state !== 0\" >审核\n        </el-button>\n      </div>\n      <div class=\"right\">\n        <el-popover\n          class=\"fr\"\n          placement=\"bottom\"\n          width=\"320\"\n          trigger=\"hover\"\n          title=\"说明\">\n          <ul class=\"suggestion\">\n            <li>类型：供应商默认报价类型为自主报价，且不可编辑；采购方可发起采购询报价和促销询报价；</li>\n            <li>当单据类型为采购询价及促销询价时，商品不可导入、添加、删除。</li>\n            <li>预计进货量：由采购方提供。<br/>\n            当前定价：当前供应价；<br/>\n            调整额：本次报价-当前定价；\n            </li>\n            <li>调整率：调整额/本次报价</li>\n          </ul>\n          <span class=\"el-icon-question\" slot=\"reference\">说明</span>\n        </el-popover>\n      </div>\n    </div>\n    <div class=\"search-form-wraper\">\n      <el-form label-position=\"top\" ref=\"ruleForm\" :rules=\"rules\" :model=\"ruleForm\">\n        <el-form-item label=\"报价单号\" prop=\"paperNo\">\n          <el-input \n            v-model.trim=\"ruleForm.paperNo\" \n            size=\"small\" \n            class=\"add-input\" \n            disabled\n            clearable\n            placeholder=\"报价单号\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"类型\" prop=\"type\">\n          <el-input \n            v-model.trim=\"ruleForm.typeName\" \n            size=\"small\" \n            class=\"add-input\" \n            disabled\n            clearable\n            placeholder=\"类型\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"区域\" prop=\"storeGroupName\">\n          <el-input \n            v-model.trim=\"ruleForm.storeGroupName\" \n            size=\"small\" \n            class=\"add-input\" \n            disabled\n            clearable\n            placeholder=\"选择区域\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"供应商\" prop=\"vendorName\">\n          <el-input \n            v-model.trim=\"ruleForm.vendorName\" \n            size=\"small\" \n            class=\"add-input\" \n            disabled\n            clearable\n            placeholder=\"选择供应商\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"商品分类\" prop=\"goodsCategoryName\">\n          <el-input \n            v-model.trim=\"ruleForm.goodsCategoryName\" \n            size=\"small\" \n            class=\"add-input\" \n            disabled\n            clearable\n            placeholder=\"选择商品分类\">\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"生效起始日期\" prop=\"startTime\">\n          <el-date-picker \n            clearable\n            class=\"add-input\" \n            v-model=\"ruleForm.startTime\" \n            type=\"date\" \n            placeholder=\"生效起始日期\"\n            format=\"yyyy-MM-dd\" \n            value-format=\"yyyy-MM-dd\"\n            disabled \n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"生效终止日期\" prop=\"endTime\">\n          <el-date-picker \n            clearable\n            class=\"add-input\" \n            v-model=\"ruleForm.endTime\" \n            type=\"date\" \n            placeholder=\"生效终止日期\"\n            format=\"yyyy-MM-dd\" \n            value-format=\"yyyy-MM-dd\" \n            disabled\n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"remark\">\n          <el-input \n            v-model.trim=\"ruleForm.remark\" \n            size=\"small\" \n            class=\"add-input\" \n            clearable\n            placeholder=\"备注\">\n          </el-input>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"add-form-wraper\">\n      <el-form>\n        <el-form-item label=\"选择商品\">\n          <el-button :type=\"type !== 2 || res.state !== 0 ? '' : 'primary'\" :disabled='type !== 2 || res.state !== 0' @click=\"showAddGoodsDialog\" size=\"mini\"  icon=\"el-icon-plus\">添加商品</el-button>\n          <el-button :type=\"type !== 2 || res.state !== 0 ? '' : 'primary'\" :disabled='type !== 2 || res.state !== 0' @click=\"showModal\" size=\"mini\"  icon=\"el-icon-upload2\">导入</el-button>\n          <el-button :type=\"type !== 2 || res.state !== 0 ? '' : 'primary'\" :disabled='type !== 2 || res.state !== 0' @click=\"deleteProcducts\" size=\"mini\" icon=\"el-icon-delete\">批量删除</el-button>\n        </el-form-item>\n        <el-form-item>\n          <bl-table\n            :border=\"false\"\n            :selection=\"true\"\n            :dataSource=\"tableData\"\n            :columns=\"columns\"\n            @selection-change=\"selectionChange\"/>\n        </el-form-item>\n        <hr class=\"s-slip\">\n        <el-form-item>\n          <el-button :loading=\"loading\" v-if=\"userPermission && userPermission.includes('保存')\" :type=\"res.state !== 0 ? '' : 'primary'\" size=\"small\" @click=\"operate('save')\" :disabled=\"res.state !== 0\">保存</el-button>\n          <el-button size=\"small\" @click=\"doCancelHandel\">关闭</el-button>\n        </el-form-item>\n\n        <el-form-item label=\"操作记录：\">\n          <bl-table\n            :border=\"false\"\n            :dataSource=\"log\"\n            :columns=\"logColumns\"/>\n        </el-form-item>\n      </el-form>\n    </div>\n    <el-dialog title=\"批量导入\" :visible.sync=\"visible\">\n      <ImportExcel requireCheckTotal=\"true\" maxTotal=1000 ref=\"importFile\" @doExportDataHandel=\"doExportDataHandel\" @importHandle=\"importHandle\" @uploadEmit=\"uploadEmit\">\n        <div v-if=\"showImportResult\" style=\"margin-top:30px;color:#000;\">\n          <span>{{importMsg}}</span>\n          <span style=\"float:right;color:blue;\" @click=\"(e) => {downLoadReasonExcel()}\">查看错误原因</span>\n        </div>\n      </ImportExcel>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"handleCancel\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"handleOk\">确 定</el-button>\n      </div>\n    </el-dialog>\n    <choose-goods ref=\"chooseGoods\" @confirm=\"confirmHandel\"/>\n  </div>\n</template>\n<script>\n  import ChooseGoods from './ChooseGoods'\n  import ImportExcel from './ImportExcel'\n  import commonUrl from '@/module/api/common'\n  import priceMgtUrl from '@/module/api/buyAndSale'\n  import constants from './constants'\n  import { fixedNum, objectToArray } from '@/utils/utils'\n  import exportExcel from '@/utils/exportExcel'\n  import optionsMixin from '@/module/mixin/options'\n  export default {\n    components: {\n      ChooseGoods,\n      ImportExcel\n    },\n    mixins: [optionsMixin],\n    data() {\n      return {\n        userPermission: [],\n        moduleId: '/quote_mgt',\n        remark: '',\n        statusOptions: constants.statusOptions,\n        typeOptions: constants.typeOptions,\n        type: '',\n        tableData: [],\n        columns: [\n          {\n            title: '商品编号',\n            dataIndex: 'goodsNo',\n            minWidth: 80,\n          },\n          {\n            title: '商品简称',\n            dataIndex: 'shortName',\n            minWidth: 80,\n          },\n          {\n            title:'商品规格',\n            dataIndex: 'spec',\n            minWidth: 80,\n          },\n          {\n            title: '单位',\n            dataIndex: 'saleUnit',\n            minWidth: 60,\n          },\n          {\n            title:'预计进货量',\n            dataIndex: 'predictQty',\n            minWidth: 90,\n          },\n          {\n            title:'当前定价',\n            dataIndex: 'currentPrice',\n            minWidth: 80,\n          },\n          {\n            title:'本次报价',\n            dataIndex: 'quotationPrice',\n            minWidth: 80,\n            input: true,\n            inputChangeFunc: this.numberFilter\n          },\n          {\n            title:'报货量',\n            dataIndex: 'qty',\n            minWidth: 80,\n            input: true,\n            inputChangeFunc: this.intFilter\n          },\n          {\n            title:'调整额',\n            dataIndex: 'adjustAmount',\n            minWidth: 80,\n            filterFn: this.calAdjustAmount\n          },\n          {\n            title:'调整率',\n            dataIndex: 'adjustRate',\n            minWidth: 80,\n            filterFn: this.calAdjustRate\n          },\n          {\n            title: '商品备注',\n            dataIndex: 'remark',\n            width: 150,\n            input: true,\n            inputChangeFunc: this.remarkFilter\n          },\n        ],\n        loading: false,\n        delLoading: false,\n        confLoading: false,\n        log: [],\n        logColumns: [\n          {\n            title:'操作人',\n            dataIndex: 'operationUserName',\n            minWidth: 150\n          },\n          {\n            title: '操作时间',\n            dataIndex: 'time',\n            minWidth: 150\n          },\n          {\n            title:'操作内容',\n            dataIndex: 'operationTypeName',\n            minWidth: 150\n          },\n        ],\n        checkedGoodsList: [],\n        res: {state: 0},\n        // 导入\n        visible: false,\n        showImportResult: false,\n        exportConfig: {\n          goodsNo: '商品编码',\n          shortName: \"商品简称\",\n          quotationPricetitle:'本次报价',\n          qty:'报货量',\n          remark: \"商品备注\",\n          errorMsg: \"错误原因\"\n        },\n        exportConfig1: {\n          goodsNo: '商品编码',\n          shortName: \"商品简称\",\n          quotationPrice:'本次报价',\n          qty:'报货量',\n          remark: \"商品备注\",\n        },\n        exportData:[{goodsNo: '',\n        shortName: \"\",\n        quotationPrice:'',\n        qty:'',\n        remark: \"\"}],\n        selectedRowKeys: [],\n        rules: {\n          storeGroupName: {required: true, message: '请选择区域', trigger: 'change'}, \n          typeName: {required: true, message: '请选择调价类型', trigger: 'change'}, \n          goodsCategoryName: {required: true, message: '请选择分类', trigger: 'change'}, \n          paperNo: {required: true, message: '请输入报价单号', trigger: 'change'}, \n          vendorName: {required: true, message: '请选择供应商', trigger: 'change'}, \n          startTime: {required: true, message: '请选择生效起始日期', trigger: 'change'}, \n          endTime:{required: true, message: '请选择生效终止日期', trigger: 'change'}, \n          remark: {max: 20, message: '备注不能超过20个字', trigger: 'blur'}, \n        },\n        ruleForm: {\n          storeGroupName: '',\n          typeName: '',\n          goodsCategoryName: '',\n          paperNo: '',\n          vendorName: '',\n          startTime: '',\n          endTime:'',\n          remark: '', \n        }\n      }\n    },\n    created() {\n      this.ruleForm.paperNo = this.$route.params.paperNo\n      this._getQuoteDetail()\n      this._getLog()\n      this.userPermission = this.$store.state.common.userPermissionMap[this.moduleId]\n    },\n    methods: {\n      _getQuoteDetail() {\n        this.$loading.show()\n        this.$http.post(`${priceMgtUrl.getQuoteDetail}/${this.$route.params.paperNo}`).then(res => {\n          this.$loading.hide()\n          if(res && res.code === 0) {\n            let tableData = res.data && res.data.details || []\n            tableData = (tableData || []).map(t => {\n              t.adjustAmount = this.calAdjustAmount(t, t.adjustAmount+'')\n              t.adjustRate = this.calAdjustRate(t, t.adjustAmount+'')\n              return t\n            })\n            this.tableData = tableData, \n            this.ruleForm = {...res.data}\n            this.res = {...res.data}\n          }else {\n            this.$tip.notify(res.msg, 'error')\n          }\n        }).catch(err => {\n          this.$loading.hide()\n          this.$tip.notify(err.message, 'error')\n        })\n      },\n\n      showAddGoodsDialog() {\n        if(!this.ruleForm.storeGroupNo) {\n          this.$tip.message(\"请选择区域\", \"warning\")\n          return\n        }\n        if(!this.ruleForm.vendorNo) {\n          this.$tip.message(\"请选择供应商\", \"warning\")\n          return\n        }\n        if(!this.ruleForm.goodsCategory) {\n          this.$tip.message(\"请选择分类\", \"warning\")\n          return\n        }\n        this.$nextTick(() => {\n          this.$refs.chooseGoods.setDefaultMsg({\n            title: '选择商品',\n            vendorNo: this.ruleForm.vendorNo,\n            categoryNos: this.ruleForm.goodsCategory,\n            regionNo: this.ruleForm.storeGroupNo,\n            defaultChecked: this.checkedGoodsList\n          })\n        }, () => {\n          this.$refs.chooseGoods.doSearchHandle()\n        })\n        \n      },\n\n      confirmHandel(result) {\n        this.checkedGoodsList = [...result]\n        let newData = this.checkedGoodsList.filter(t => {\n          return !this.tableData.find(k => {\n            return k.goodsNo == t.goodsNo\n          })\n        })\n        this.tableData = this.tableData.concat(newData)\n      },\n\n      numberFilter(text) {\n        if(text) {\n          text = text + ''\n          // if(text == '') return '0'\n          let result = text && text.replace && text.replace(/[^0-9.]/gi, '')\n          result = result && result.replace && result.replace(/^(\\.)+/g, '')\n          result = result && result.replace && result.match(/^(0|([1-9]\\d*))(\\.\\d{1,2})?/g)\n          return result && result.length && result[0]\n        }\n      },\n\n      intFilter(text) {\n        text = text + ''\n        let result = text && text.replace && text.replace(/[\\D]/gi, '')\n        result = result && result.replace && result.match(/^(0|[1-9]\\d*)/g)\n        return result && result.length && result[0]\n      },\n\n      calAdjustAmount(record, text) {\n        let sign = ((record.quotationPrice || 0) - (record.currentPrice || 0)) < 0 ? '-' : ''\n        let result = record ? `${sign}${this.numberFilter(fixedNum((record.quotationPrice || 0) - (record.currentPrice || 0)) + '')}` : ''\n        return result\n      },\n\n      calAdjustRate(record, text) {\n        let sign = ((record.quotationPrice || 0) - (record.currentPrice || 0)) * (record.quotationPrice || 0) < 0 ? '-' : ''\n        let adjustAmount = record ? `${sign}${this.numberFilter((record.quotationPrice || 0) - (record.currentPrice || 0) + '')}` : ''\n        let result = (record && record.quotationPrice && record.quotationPrice != '0' ) ? fixedNum((adjustAmount || 0) / record.quotationPrice * 100, 0) : ''\n        return `${result}${result == 0 ? '' : '%'}`\n      },\n\n      remarkFilter(text) {\n        if(text) {\n          let result = text && text.substring && text.substring(0, 20)\n          return result\n        }\n        \n      },\n\n      saveAndLaunch(type) {\n        return new Promise((resolve, reject) => {\n          this.$refs.ruleForm.validate((valid) => {\n            if(!valid) {\n              reject(false)\n              return\n            }\n            let { tableData } = this\n            let { endTime, startTime, goodsCategory: category,  } = this.ruleForm\n            if(!tableData || !tableData.length) {\n              this.$tip.message('请选择商品', 'warning')\n              reject(false)\n              return\n            }\n            // 至少一条商品有价格信息，才允许提交\n            let noPrice = true\n            let res = (tableData || []).map(t => {\n              if(t.quotationPrice) {\n                noPrice = false\n              }\n              return t\n            })\n            if(noPrice) {\n              this.$tip.message('商品价格信息缺失，请补充', 'warning')\n              reject(false)\n              return\n            }\n            this.addOrUpdateQuote(type).then(res => {\n              resolve(res)\n            }).catch(err => {\n              reject(err)\n            })\n          })\n        })\n      },\n\n      /**\n       * 修改报价单接口请求\n       */\n      addOrUpdateQuote (type) {\n        return new Promise((resolve, reject) => {\n          let { startTime, endTime, remark, vendorNo, storeGroupNo, goodsCategory} = this.ruleForm\n          let paperNo = this.$route.params.paperNo\n          let tableData = this.tableData\n          let goods = (tableData || []).map(t => {\n            let quotationPrice = this.numberFilter(t.quotationPrice)\n            t.quotationPrice = typeof(quotationPrice) === 'string' ? parseFloat(quotationPrice) : quotationPrice\n            t.qty = this.intFilter(t.qty)\n            return t\n          })\n          for(let i = 0; i < goods.length; i++) {\n            goods[i].remark = this.remarkFilter(goods[i].remark) \n          }\n          let param = {\n            vendorNo,\n            endTime,\n            startTime,\n            details: goods,\n            goodsCategoryNo: goodsCategory,\n            storeGroupNo,\n            remark,\n            paperNo, \n          }\n          this.loading = true\n          this.$http.post(priceMgtUrl.addOrUpdateQuote, param).then(res => {\n            this.loading = false\n            if(res && res.code === 0) {\n              this.$tip.message('保存成功', 'success')\n              if(type === 'save') {\n                this._getQuoteDetail()\n                this._getLog()\n                this.editSuccessHandel('/quote_mgt')\n              }\n              resolve(res)\n            } else {\n              this.$tip.notify(res.msg, 'error')\n              reject(res.msg)\n            }\n          }).catch(err => {\n            this.loading = false\n            this.confirmLoading = false\n            this.$tip.notify(err.message, 'error')\n            reject(err)\n          })\n        })\n        \n      },\n\n      _getLog() {\n        let param = { keyValue: this.$route.params.paperNo}\n        this.$http.post(priceMgtUrl.getOperationLog, param).then(res => {\n          if(res && res.code === 0) {\n            this.log = res.data\n          } else {\n              this.$tip.notify(res.msg, 'error')\n            }\n          }).catch(err => {\n            this.$tip.notify(err.message, 'error')\n          })\n      },\n\n      operate(type) {\n        if(type === 'delete') {\n          this.deleteQuote()\n        } else if(type === 'confirm'){\n          this.confirmQuote()\n        } else if(type === 'save') {\n          this.saveAndLaunch(type)\n        }\n      },\n\n      deleteQuote() {\n        this.delLoading = true\n        this.$http.post(`${priceMgtUrl.deleteQuote}/${this.ruleForm.paperNo}`).then(res => {\n          this.delLoading = false\n          if(res && res.code === 0) {\n            this.$tip.message('废弃成功', 'success')\n            // 设置刷新列表页状态\n            this.deleteSuccessHandel('/quote_mgt')\n          } else {\n              this.$tip.notify(res.msg, 'error')\n            }\n          }).catch(err => {\n            this.delLoading = false\n            this.$tip.notify(err.message, 'error')\n          })\n      },\n\n      confirmQuote() {\n        this.confLoading = true\n        this.saveAndLaunch().then(data => {\n          this.$http.post(`${priceMgtUrl.confirmQuote}/${this.ruleForm.paperNo}`).then(res => {\n            this.confLoading = false\n            if(res && res.code === 0) {\n              this.$tip.message('已审核', 'success')\n              this._getQuoteDetail()\n              this._getLog()\n              this.editSuccessHandel('/quote_mgt')\n            } else {\n              this.$tip.notify(res.msg, 'error')\n            }\n          }).catch(err => {\n            this.confLoading = false\n            this.$tip.notify(err.message, 'error')\n          })\n        }).catch(err => {\n          this.confLoading = false\n        })\n      },\n      /**\n       * 导入\n       */\n      showModal() {\n        if(!this.ruleForm.storeGroupNo) {\n          this.$tip.message('请先选择区域', 'warning')\n          return\n        }\n        if(!this.ruleForm.vendorNo) {\n          this.$tip.message('请选择供应商', 'warning')\n          return\n        }\n        if(!this.ruleForm.goodsCategory) {\n          this.$tip.message('请选择分类', 'warning')\n          return\n        }\n        this.visible = true\n      },\n\n      handleOk() {\n        this.visible = false\n        if(this.timeout) clearTimeout(this.timeout)\n        if(!this.timeout) { // 没有timeout时立即执行\n          this.confirmLoading = true\n          let tableData = this.tableData\n          let importDataUnique = (this.tableDataTmp || []).filter(t => {\n            let isDuplicate = tableData.some(k => t.goodsId == k.goodsId)\n            return !isDuplicate\n          })\n          this.visible = false\n          this.confirmLoading = false\n          this.tableData = (this.tableData || []).concat(importDataUnique || [])\n          this.importMsg = ''\n          this.showImportResult = false\n          this.$refs.importFile.fileName = \"未选择文件...\"\n        }\n        this.timeout = setTimeout(() => {\n          this.timeout = null\n        }, 5000)\n      },\n\n      handleCancel() {\n        this.visible = false\n      },\n\n      doExportDataHandel() {\n        let exportData = this.exportData\n        const tHeader = objectToArray(this.exportConfig1, false)\n        const filterVal = objectToArray(this.exportConfig1, true)\n        exportExcel.ExportJsonToExcel({\n          header: tHeader,\n          filterVal,\n          data: exportData, \n          filename: '供应商报价导入模板'\n        })\n      },\n\n      downLoadReasonExcel() {\n        let exportData = this.errDataDownload\n        const tHeader = objectToArray(this.exportConfig, false)\n        const filterVal = objectToArray(this.exportConfig, true)\n        exportExcel.ExportJsonToExcel({\n          header: tHeader,\n          filterVal,\n          data: exportData, \n          filename: '报价导入错误'\n        })\n      },\n\n      importHandle(data) {\n        let tableData = []\n        let result = (data || []).map(t => {\n          let row = {}\n          for(let i in t) {\n            switch(i) {\n              case \"商品编码\":\n                row['goodsNo'] = t[i]\n                break;\n              case \"商品简称\":\n                row['shortName'] = t[i]\n                break;\n              case \"本次报价\":\n                row['quotationPrice'] = t[i]\n                break;\n              case \"报货量\":\n                row['qty'] = t[i]\n                break;\n              case \"商品备注\":\n                row['remark'] = t[i]\n                break;\n              case \"错误原因\":\n                row['errorMsg'] = t[i]\n                break;\n              default:\n                break;\n            }\n          }\n          tableData.push(row)\n          return t\n        })\n        this._checkImportFile(tableData)\n      },\n\n      _checkImportFile(tableData) {\n        let details = (tableData || []).map(t => {\n          t.goodsId = ''\n          return t\n        })\n        let { endTime, startTime, vendorNo, storeGroupNo, goodsCategory, paperNo, remark } = this.ruleForm\n        let _param = {\n          endTime,\n          startTime,\n          goodsCategoryNo: goodsCategory,\n          storeGroupNo,\n          vendorNo,\n          // 非必传\n          details: details,\n          paperNo,\n          remark\n        }\n        this.$http.post(priceMgtUrl.importQuote, _param).then(res => {\n          if(res && res.code === 0) {\n            let details = res.data.details || []\n            let errData = res.data.errorInfos || []\n            let importMsg = `导入成功${details.length || 0}条，失败${errData.length}条`\n            \n            let errDataDownload = tableData.map(t => {\n              let index = errData.findIndex(item => {\n                return t.goodsNo == item.goodsNo\n              })\n              if(index != -1) {\n                t.errorMsg = errData[index].errorMsg\n              }\n              return t\n            })\n            this.showImportResult = true\n            this.importMsg = importMsg\n            this.errData = errData\n            this.errDataDownload = errDataDownload\n            this.tableDataTmp = details\n          }\n        })\n      },\n\n      uploadEmit(data) {\n        this.importMsg = ''\n        this.showImportResult = false\n        this.errData = []\n        this.errDataDownload = []\n        this.tableDataTmp = []\n      },\n      \n      // 批量删除\n      deleteProcducts() {\n        let newData = [...this.tableData];\n        newData = newData.filter(item => {\n          return (this.selectedRowKeys || []).indexOf(item.goodsNo) === -1\n        })\n        this.tableData = newData\n        this.selectedRowKeys = [] \n      },\n\n      selectionChange(selections) {\n        let selection = selections.selection\n        this.selectedRowKeys = selection.map(t => {\n          return t.goodsNo\n        })\n      },\n\n      handleSave(row) {\n        const newData = [...this.tableData];\n        const index = newData.findIndex(item => row.goodsNo === item.goodsNo);\n        const item = newData[index];\n        newData.splice(index, 1, {\n          ...item,\n          ...row,\n        });\n        this.tableData = newData\n      },\n\n      doCancelHandel() {\n        this.closePage('/quote_mgt')\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/module/views/BuyAndSale/QuoteMgt/QuoteDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"handel-wraper row-clolum\"},[_c('div',{staticClass:\"left\"},[(_vm.userPermission && _vm.userPermission.includes('删除'))?_c('el-button',{attrs:{\"loading\":_vm.delLoading,\"type\":_vm.res.state !== 0 ? '' : 'primary',\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"disabled\":_vm.res.state !== 0},on:{\"click\":function($event){return _vm.operate('delete')}}},[_vm._v(\"废弃\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.userPermission && _vm.userPermission.includes('审核'))?_c('el-button',{attrs:{\"loading\":_vm.confLoading,\"type\":_vm.res.state !== 0 ? '' : 'primary',\"size\":\"mini\",\"disabled\":_vm.res.state !== 0},on:{\"click\":function($event){return _vm.operate('confirm')}}},[_vm._v(\"审核\\n      \")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('el-popover',{staticClass:\"fr\",attrs:{\"placement\":\"bottom\",\"width\":\"320\",\"trigger\":\"hover\",\"title\":\"说明\"}},[_c('ul',{staticClass:\"suggestion\"},[_c('li',[_vm._v(\"类型：供应商默认报价类型为自主报价，且不可编辑；采购方可发起采购询报价和促销询报价；\")]),_vm._v(\" \"),_c('li',[_vm._v(\"当单据类型为采购询价及促销询价时，商品不可导入、添加、删除。\")]),_vm._v(\" \"),_c('li',[_vm._v(\"预计进货量：由采购方提供。\"),_c('br'),_vm._v(\"\\n          当前定价：当前供应价；\"),_c('br'),_vm._v(\"\\n          调整额：本次报价-当前定价；\\n          \")]),_vm._v(\" \"),_c('li',[_vm._v(\"调整率：调整额/本次报价\")])]),_vm._v(\" \"),_c('span',{staticClass:\"el-icon-question\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(\"说明\")])])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"label-position\":\"top\",\"rules\":_vm.rules,\"model\":_vm.ruleForm}},[_c('el-form-item',{attrs:{\"label\":\"报价单号\",\"prop\":\"paperNo\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"disabled\":\"\",\"clearable\":\"\",\"placeholder\":\"报价单号\"},model:{value:(_vm.ruleForm.paperNo),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"paperNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.paperNo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类型\",\"prop\":\"type\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"disabled\":\"\",\"clearable\":\"\",\"placeholder\":\"类型\"},model:{value:(_vm.ruleForm.typeName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"typeName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.typeName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"区域\",\"prop\":\"storeGroupName\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"disabled\":\"\",\"clearable\":\"\",\"placeholder\":\"选择区域\"},model:{value:(_vm.ruleForm.storeGroupName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"storeGroupName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.storeGroupName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"供应商\",\"prop\":\"vendorName\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"disabled\":\"\",\"clearable\":\"\",\"placeholder\":\"选择供应商\"},model:{value:(_vm.ruleForm.vendorName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"vendorName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.vendorName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品分类\",\"prop\":\"goodsCategoryName\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"disabled\":\"\",\"clearable\":\"\",\"placeholder\":\"选择商品分类\"},model:{value:(_vm.ruleForm.goodsCategoryName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"goodsCategoryName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.goodsCategoryName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"生效起始日期\",\"prop\":\"startTime\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"clearable\":\"\",\"type\":\"date\",\"placeholder\":\"生效起始日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"disabled\":\"\",\"size\":\"small\"},model:{value:(_vm.ruleForm.startTime),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"startTime\", $$v)},expression:\"ruleForm.startTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"生效终止日期\",\"prop\":\"endTime\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"clearable\":\"\",\"type\":\"date\",\"placeholder\":\"生效终止日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"disabled\":\"\",\"size\":\"small\"},model:{value:(_vm.ruleForm.endTime),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"endTime\", $$v)},expression:\"ruleForm.endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"备注\"},model:{value:(_vm.ruleForm.remark),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"remark\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"ruleForm.remark\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"选择商品\"}},[_c('el-button',{attrs:{\"type\":_vm.type !== 2 || _vm.res.state !== 0 ? '' : 'primary',\"disabled\":_vm.type !== 2 || _vm.res.state !== 0,\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.showAddGoodsDialog}},[_vm._v(\"添加商品\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":_vm.type !== 2 || _vm.res.state !== 0 ? '' : 'primary',\"disabled\":_vm.type !== 2 || _vm.res.state !== 0,\"size\":\"mini\",\"icon\":\"el-icon-upload2\"},on:{\"click\":_vm.showModal}},[_vm._v(\"导入\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":_vm.type !== 2 || _vm.res.state !== 0 ? '' : 'primary',\"disabled\":_vm.type !== 2 || _vm.res.state !== 0,\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.deleteProcducts}},[_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('bl-table',{attrs:{\"border\":false,\"selection\":true,\"dataSource\":_vm.tableData,\"columns\":_vm.columns},on:{\"selection-change\":_vm.selectionChange}})],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip\"}),_vm._v(\" \"),_c('el-form-item',[(_vm.userPermission && _vm.userPermission.includes('保存'))?_c('el-button',{attrs:{\"loading\":_vm.loading,\"type\":_vm.res.state !== 0 ? '' : 'primary',\"size\":\"small\",\"disabled\":_vm.res.state !== 0},on:{\"click\":function($event){return _vm.operate('save')}}},[_vm._v(\"保存\")]):_vm._e(),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"关闭\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"操作记录：\"}},[_c('bl-table',{attrs:{\"border\":false,\"dataSource\":_vm.log,\"columns\":_vm.logColumns}})],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"批量导入\",\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('ImportExcel',{ref:\"importFile\",attrs:{\"requireCheckTotal\":\"true\",\"maxTotal\":\"1000\"},on:{\"doExportDataHandel\":_vm.doExportDataHandel,\"importHandle\":_vm.importHandle,\"uploadEmit\":_vm.uploadEmit}},[(_vm.showImportResult)?_c('div',{staticStyle:{\"margin-top\":\"30px\",\"color\":\"#000\"}},[_c('span',[_vm._v(_vm._s(_vm.importMsg))]),_vm._v(\" \"),_c('span',{staticStyle:{\"float\":\"right\",\"color\":\"blue\"},on:{\"click\":function (e) {_vm.downLoadReasonExcel()}}},[_vm._v(\"查看错误原因\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.handleCancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleOk}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('choose-goods',{ref:\"chooseGoods\",on:{\"confirm\":_vm.confirmHandel}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b5eea71\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/BuyAndSale/QuoteMgt/QuoteDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2b5eea71\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!style-resources-loader?{\\\"patterns\\\":\\\"/Users/zhanyizhu/Desktop/projects/blx-code/supplier_web/src/assets/style/base.less\\\"}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./QuoteDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./QuoteDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./QuoteDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b5eea71\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./QuoteDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2b5eea71\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/BuyAndSale/QuoteMgt/QuoteDetail.vue\n// module id = null\n// module chunks = ","<template>\n  <el-dialog \n    :close-on-click-modal = \"false\"\n    :close-on-press-escape = \"false\"\n    :show-close=\"false\"\n    :title=\"title\" \n    :visible.sync=\"visible\" \n    width='700px'>\n    <div class=\"search-form-wraper c-g-sfw\">\n      <el-form \n        :model=\"searchContent\" \n        label-position=\"top\" \n        @submit.native.prevent>\n        <el-form-item>\n          <el-input \n            class=\"search-input\"\n            v-model.trim=\"searchContent.goodsNo\" \n            placeholder=\"输入商品编码\" \n            size=\"small\" \n            @keyup.enter.native=\"doSearchHandle(true)\" \n            clearable></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-input \n            class=\"search-input\" \n            v-model.trim=\"searchContent.goodsName\" \n            placeholder=\"输入商品名称\" \n            size=\"small\" \n            @keyup.enter.native=\"doSearchHandle(true)\" \n            clearable></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSearchHandle(true)\" size=\"mini\">搜索</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div>\n      <bl-table\n        :loading=\"loading\"\n        :border=\"false\"\n        :selection=\"true\"\n        :dataSource=\"tableData\"\n        :columns=\"columns\"\n        :maxHeight=\"300\"\n        :defaultChecked=\"checkedList\"\n        uniqueStr=\"goodsNo\"\n        @select=\"selectHandel\"\n        @select-all=\"selectAllHandel\"/>\n      <bl-pagination\n        :showPagination=\"tableData.length > 0\"\n        :pageNum=\"pageNum\"\n        :total=\"total\"\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"/>\n    </div>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"visible = false\" size=\"mini\">取消</el-button>\n      <el-button type=\"primary\" @click=\"confirm\" size=\"mini\">确定</el-button>\n    </div>\n  </el-dialog>\n</template>\n<script>\nimport commonUrl from '@/module/api/common'\nexport default {\n  data() {\n    return {\n      title: '',\n      visible: false,\n      loading: false,\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      searchContent: {\n        vendorNos: '',\n        goodsNo: '',\n        goodsName: '',\n        categoryNos: '',\n        regionNo: ''\n      },\n      columns: [\n        {\n          title: '商品条码',\n          dataIndex: 'barcode',\n          minWidth: 120,\n        },\n        {\n          title: '商品编码',\n          dataIndex: 'goodsNo',\n          minWidth: 100,\n        },\n        {\n          title: '商品名称',\n          dataIndex: 'shortName',\n          minWidth: 120,\n        },\n        {\n          title: '单位',\n          dataIndex: 'saleUnit',\n          minWidth: 80,\n        },\n        {\n          title: '规格',\n          dataIndex: 'spec',\n          minWidth: 90,\n        },\n      ],\n      tableData: [],\n      checkedList: []\n    }\n  },\n  watch: {\n    searchCondition(newVal, oldVal) {\n      if(newVal !== oldVal) {\n        this.doSearchHandle(true)\n      }\n    }\n  },\n  computed: {\n    searchCondition() {\n      const { vendorNos, categoryNos, regionNo } = this.searchContent\n      return { vendorNos, categoryNos, regionNo }\n    }\n  },\n  methods: {\n    setDefaultMsg(params) {\n      this.title = params.title || ''\n      this.searchContent.vendorNos = params.vendorNo ? [params.vendorNo] : ''\n      this.searchContent.categoryNos = params.categoryNos ? [params.categoryNos] : ''\n      this.searchContent.regionNo = params.regionNo\n      this.checkedList = params.defaultChecked && params.defaultChecked.length ? [...params.defaultChecked] : []\n      this.visible = true\n    },\n    changeSize(value) {\n      this.pageSize = value\n      this.doSearchHandle()\n    },\n    changeCurrent(value) {\n      this.pageNum = value\n      this.doSearchHandle()\n    },\n    doSearchHandle(firstPage) {\n      this.loading = true\n      this.$http.post(commonUrl.queryRegionCategoryGoodsList, {...this.searchContent, pageNum: this.pageNum, pageSize: this.pageSize}).then(res => {\n        this.loading = false\n        if(res.code === 0) {\n          this.tableData = res.data && res.data.result && res.data.result.length ? res.data.result : []\n          this.total = res.data && res.data.total ? res.data.total : 0\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.$tip.notify(e.message, 'error')\n      })\n    },\n    selectHandel({selection, row}) {\n      if(selection.includes(row)) {\n        this.checkedList.push(row)\n      }else {\n        const index = this.checkedList.findIndex(item => {\n          return item.goodsNo === row.goodsNo\n        })\n        this.checkedList.splice(index, 1)\n      }\n    },\n    selectAllHandel({selection}) {\n      if(selection.length) {\n        // 全选\n        this.tableData.forEach(i => {\n          const index = this.checkedList.findIndex(j => {\n            return j.goodsNo === i.goodsNo\n          })\n          if(index === -1) {\n            this.checkedList.push(i)\n          }\n        })\n      }else {\n        // 全不选\n        this.tableData.forEach(i => {\n          const index = this.checkedList.findIndex(j => {\n            return j.goodsNo === i.goodsNo\n          })\n          if(index !== -1) {\n            this.checkedList.splice(index, 1)\n          }\n        })\n      }\n    },\n    confirm() {\n      this.visible = false\n      this.$emit(\"confirm\", this.checkedList)\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/module/views/BuyAndSale/QuoteMgt/ChooseGoods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false,\"title\":_vm.title,\"visible\":_vm.visible,\"width\":\"700px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('div',{staticClass:\"search-form-wraper c-g-sfw\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"输入商品编码\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandle(true)}},model:{value:(_vm.searchContent.goodsNo),callback:function ($$v) {_vm.$set(_vm.searchContent, \"goodsNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.goodsNo\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"输入商品名称\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandle(true)}},model:{value:(_vm.searchContent.goodsName),callback:function ($$v) {_vm.$set(_vm.searchContent, \"goodsName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.goodsName\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandle(true)}}},[_vm._v(\"搜索\")])],1)],1)],1),_vm._v(\" \"),_c('div',[_c('bl-table',{attrs:{\"loading\":_vm.loading,\"border\":false,\"selection\":true,\"dataSource\":_vm.tableData,\"columns\":_vm.columns,\"maxHeight\":300,\"defaultChecked\":_vm.checkedList,\"uniqueStr\":\"goodsNo\"},on:{\"select\":_vm.selectHandel,\"select-all\":_vm.selectAllHandel}}),_vm._v(\" \"),_c('bl-pagination',{attrs:{\"showPagination\":_vm.tableData.length > 0,\"pageNum\":_vm.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确定\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-423baa0e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/BuyAndSale/QuoteMgt/ChooseGoods.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChooseGoods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChooseGoods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-423baa0e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChooseGoods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/BuyAndSale/QuoteMgt/ChooseGoods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}