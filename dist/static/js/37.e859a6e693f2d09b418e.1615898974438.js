webpackJsonp([37],{dXDL:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Gu7T"),r=s.n(a),o=s("oAV5"),n=s("7dB0"),i=s("PC58"),l=s("Msnf"),p=s("t0/o"),d=s("uO31"),c={mixins:[l.a],data:function(){return{propsList:[],userName:"",currentTime:Object(o.b)("yyyy-MM-dd HH:mm:ss",(new Date).getTime()),propsListForStoreGoods:[],storeGoodsTableData:[]}},mounted:function(){this.userName=this.$storage.get("loginInfo")?this.$storage.get("loginInfo").userNickname||this.$storage.get("loginInfo").userName:"",this.getTableColumn(),this.getStoreGoodsTableColumn()},methods:{getTableColumn:function(){var t=this;this.$loading.show(),this.$http.post(p.a.moduleIdDetail+"order_mgt").then(function(e){if(t.$loading.hide(),0===e.code){var s=[].concat(r()(t.orderSumTableColumn));s.push({title:"发货数量",dataIndex:"no"});var a=e.data&&e.data.text?e.data.text.split(","):["货号","商品条码","商品编码","商品名称","单位","规格","订单金额","订货数量","订货单价","发货数量","收货数量"],o=[];return s.forEach(function(t){a.includes(t.title)&&o.push(t)}),void(t.propsList=o.map(function(t){return{name:t.title,props:t.dataIndex}}))}throw new Error(e.msg)}).catch(function(e){t.$loading.hide(),t.$tip.notify(e.message||"","error","系统提示")})},getStoreGoodsTableColumn:function(){var t=[].concat(r()(this.storeGoodsTableColumn));this.propsListForStoreGoods=t.map(function(t){return{name:t.title,props:t.dataIndex}})},windowPrintHandel:function(){this.currentTime=Object(o.b)("yyyy-MM-dd HH:mm:ss",(new Date).getTime()),Object(d.a)(this.$refs.printContent)}},components:{"printer-panel":i.a,"print-table":n.a}},u={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"print-page"},[s("printer-panel",{attrs:{showDesign:!0,isWebPrint:!0},on:{windowPrint:t.windowPrintHandel}}),t._v(" "),s("div",{ref:"printContent",staticClass:"print-content"},[s("div",{staticClass:"print-header"},[s("h3",{staticStyle:{"text-align":"center",fontWeight:"700",fontSize:"18"}},[t._v("本来鲜供应商送货单")]),t._v(" "),s("h4",{staticStyle:{"text-align":"center",fontWeight:"700",fontSize:"16",paddingBottom:"10px"}},[t._v("供应商名称："+t._s(t.orderMsg.vendorName))]),t._v(" "),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:17}},[s("el-row",[s("el-col",{attrs:{span:12}},[s("span",[t._v("订单编号: "+t._s(t.orderMsg.paperNo))])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("span",[t._v("订货日期: "+t._s(t.orderMsg.createTime||"--"))])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("span",[t._v("订货门店/仓库: "+t._s(t.orderMsg.storeName||"--"))])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("span",[t._v("所在地址: "+t._s(t.orderMsg.storeAddress||"--"))])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("span",[t._v("订货人/电话: "+t._s(t.orderMsg.createUserName||"--")+"/"+t._s(t.orderMsg.userPhone||"--"))])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("span",[t._v("期望送达时间: "+t._s(t.orderMsg.expectDate||"--"))])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:24}},[s("span",[t._v("备注: "+t._s(t.orderMsg.remark||"--"))])])],1)],1),t._v(" "),s("el-col",{staticStyle:{"padding-left":"10px"},attrs:{span:7}},[s("bar-code",{attrs:{barCodeMsg:t.paperNo}}),t._v(" "),s("div",{staticStyle:{position:"relative",top:"-10px"}},[t._v("本来鲜小程序扫码快速收货")])],1)],1)],1),t._v(" "),t.orderSumTableData&&t.orderSumTableData.length>0?s("print-table",{staticClass:"print-table",attrs:{pages:!1,propsList:t.propsList,tableData:t.orderSumTableData}}):t._e(),t._v(" "),t.storeGoodsTableData&&t.storeGoodsTableData.length>0?s("print-table",{staticClass:"print-table mt10",attrs:{pages:!1,propsList:t.propsListForStoreGoods,tableData:t.storeGoodsTableData}}):t._e(),t._v(" "),s("div",{staticClass:"print-footer"},[s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:8}},[s("span",[t._v("收货人(签字): ")])]),t._v(" "),s("el-col",{attrs:{span:8}},[s("span",[t._v("收货审核人(签字): ")])]),t._v(" "),s("el-col",{attrs:{span:8}},[s("span",[t._v("供应商(签字): ")])])],1),t._v(" "),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:8}},[s("span",[t._v("打印人: "+t._s(t.userName))])]),t._v(" "),s("el-col",{attrs:{span:8}},[s("span",[t._v("打印时间: "+t._s(t.currentTime))])])],1),t._v(" "),s("el-row",{attrs:{gutter:5}},[s("el-col",{attrs:{span:24}},[s("span",[t._v("注意：必须有收货人签字，并加盖收货专用章后方为有效结账凭证。")])])],1)],1)],1)],1)},staticRenderFns:[]},_=s("VU/8")(c,u,!1,null,null,null);e.default=_.exports}});
//# sourceMappingURL=37.e859a6e693f2d09b418e.1615898974438.js.map