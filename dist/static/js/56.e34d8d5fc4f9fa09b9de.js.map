{"version":3,"sources":["webpack:///src/components/MallConfig/TimeProductsFea/index.vue","webpack:///./src/components/MallConfig/TimeProductsFea/index.vue?e455","webpack:///./src/components/MallConfig/TimeProductsFea/index.vue"],"names":["timeProductsFea","TimeProductsFea","data","loading","pageNum","pageSize","pageSizes","config","pageSizes10","total","searchContent","DIFFCITY","regionCode","localStorage","get","queryString","platformId","platformCityGoodsIds","defaultRange","startCreateTime","endCreateTime","tableData","mounted","this","doSearchHandel","goodsSelectInit","components","choose-goods","ChooseGoods","goods-select","SearchByRegion","date-picker-range","DatePickerRange","region","Region","methods","RegionChange","param","imortGoods","$refs","chooseGoods","params","title","setDefault","changeSize","value","changeCurrent","_param","_this","$http","post","extends_default","then","res","code","Error","msg","result","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","showUpdate","updateSortNum","sortNum","err","return","catch","e","$notify","error","message","deleteItem","_row","_this2","_recommendIds","_id","id","push","isDeleted","recommendIds","$confirm","confirmButtonText","cancelButtonText","type","$message","success","GoodsSelect","_val","categoryIdList","saleType","recommendType","setDefaultMesg","DoSelectGoodsHandel","_params","checkedList","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","platformCityGoodsId","datePickerRangeChange","concat","toConsumableArray_default","confirmChooseGoods","_this3","plateformCityGoodsIds","map","MallConfig_TimeProductsFea","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","icon","on","click","_v","model","label-position","label","ref","format","$event","directives","name","rawName","expression","staticStyle","width","empty-text","min-width","scopedSlots","_u","key","fn","scope","row","imgUrl","src","alt","onerror","_s","goodsName","goodsNo","recommendGoodsId","prop","fixed","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/56.e34d8d5fc4f9fa09b9de.js","sourcesContent":["<style>\r\n  .p-m-w {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n  }\r\n  .img-w {\r\n    width: 80px;\r\n    height: 80px;\r\n  }\r\n  .img-w>img {\r\n    width: 80px;\r\n  }\r\n  .p-m-c-r {\r\n    padding: 0 10px;\r\n  }\r\n  .erp-p-no {\r\n    color: #666;\r\n    font-size: 12px;\r\n  }\r\n  .a-s-p-i {\r\n    display: inline-block;\r\n  }\r\n\r\n  .sort-num .el-button--mini{\r\n    padding: 6px 5px;\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <!-- 操作框 -->\r\n    <div class=\"handel-search-wraper\">\r\n      <div class=\"handel-wraper\">\r\n        <el-button type=\"primary\" @click=\"imortGoods\" size=\"mini\" icon=\"el-icon-plus\">导入商品</el-button>\r\n      </div>\r\n      <hr class=\"s-slip\">\r\n      <div class=\"search-form-wraper\">\r\n        <el-form :model=\"searchContent\" label-position=\"top\">\r\n          <region @RegionChange=\"RegionChange\" class=\"region-wrap\"></region>\r\n          <el-form-item label=\"SKU编码/商品名称\">\r\n            <goods-select ref=\"GoodsSelect\" @DoSelectGoodsHandel=\"DoSelectGoodsHandel\"></goods-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"导入时间\">\r\n            <date-picker-range \r\n              :defaultRange=\"searchContent.defaultRange\"\r\n              format=\"yyyy-MM-dd\"\r\n              type=\"daterange\"\r\n              @datePickerRangeChange=\"datePickerRangeChange\">\r\n            </date-picker-range>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 搜索结果 -->\r\n    <div class=\"table-wraper\">\r\n      <el-table\r\n        class=\"fixed-height\"\r\n        v-loading=\"loading\"\r\n        :data=\"tableData\"\r\n        empty-text=\"没有查询到您想要的数据\"\r\n        style=\"width:100%;\"\r\n        size=\"small\">\r\n        <el-table-column min-width=\"236px\" label=\"商品信息\">\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"p-m-w\">\r\n              <div class=\"img-w\">\r\n                <img v-if=\"scope.row.imgUrl && scope.row.imgUrl != ''\" :src=\"scope.row.imgUrl\" alt=\"\" onerror=\"onerror=null;src='/shop/static/img_error.png'\">\r\n                <img v-else src=\"/shop/static/img_error.png\" alt=\"\">\r\n              </div>\r\n              <div class=\"p-m-c-r\">\r\n                <div>{{scope.row.goodsName || '--'}}</div>\r\n                <div class=\"erp-p-no\">SKU编码：{{scope.row.goodsNo || '--'}}</div>\r\n                <div class=\"erp-p-no\">商品ID：{{scope.row.recommendGoodsId || '--'}}</div>\r\n              </div>\r\n            </div>\r\n          </template>     \r\n        </el-table-column>\r\n        <el-table-column min-width=\"120px\" prop=\"spec\" label=\"规格\"></el-table-column>\r\n        <el-table-column min-width=\"100px\" prop=\"price\" label=\"售价\"></el-table-column>\r\n        <el-table-column min-width=\"160px\" prop=\"createTime\" label=\"创建时间\"></el-table-column>\r\n        <el-table-column min-width=\"160px\" prop=\"createUserId\" label=\"创建人\"></el-table-column>\r\n        <el-table-column\r\n          fixed=\"right\"\r\n          label=\"操作\"\r\n          width=\"100px\">\r\n          <template slot-scope=\"scope\" size=\"small\">\r\n            <div>\r\n              <el-button @click=\"deleteItem(scope.row)\" size=\"mini\" icon=\"el-icon-delete\">移除</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页条 -->\r\n      <el-pagination\r\n        v-show=\"tableData.length>0\"\r\n        class=\"tc mt20\"\r\n        background\r\n        @size-change=\"changeSize\"\r\n        @current-change=\"changeCurrent\"\r\n        :current-page.sync=\"pageNum\"\r\n        :page-sizes=\"pageSizes\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\">\r\n      </el-pagination>\r\n    </div>\r\n\r\n    <!-- 选择商品 -->\r\n    <choose-goods ref=\"chooseGoods\" @confirmChooseGoods=\"confirmChooseGoods\"></choose-goods>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Storage from '@/utils/localStorage'\r\n  import * as utils from '@/utils/utils'\r\n  import ChooseGoods from \"@/components/Activity/Common/ChooseGoods\"\r\n  import DatePickerRange from '@/components/Common/DatePickerRange'\r\n  import Region from '@/components/Common/StoreCommon/Region';\r\n  import GoodsSelect from \"@/components/Common/GoodsCommon/SearchByRegion\"\r\n  import config from \"@/utils/config\"\r\n  const timeProductsFea = {\r\n    // 商品推荐删除\r\n    delRecommend: '/plateform/a/mall/recommend/delRecommend',\r\n    // 商品推荐列表\r\n    recommendList: '/plateform/a/mall/recommend/recommendList',\r\n    // 区域商品选择-商品列表\r\n    selectCityGoods: '/plateform/a/platformCityGoods/presale/selectCityGoods',\r\n    // 保存商品推荐\r\n    saveRecommend: '/plateform/a/mall/recommend/saveRecommend'\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        loading: false,\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        pageSizes: config.pageSizes10,\r\n        total: 0,\r\n        searchContent: {\r\n          DIFFCITY: true,\r\n          regionCode: Storage.get('regionCode') || '',\r\n          queryString: '', // 查询条件\r\n          platformId: 5,\r\n          platformCityGoodsIds: [], // 平台区域商品ID\r\n          defaultRange: [],\r\n          startCreateTime: '', // 创建日期开始\r\n          endCreateTime: '', // 创建日期结束\r\n        },\r\n        tableData: [] // 表格中查询结果数据\r\n\r\n      }\r\n    },\r\n    mounted() {\r\n      this.doSearchHandel(true)\r\n      // 商品筛选组件初始化\r\n      this.goodsSelectInit()\r\n    },\r\n    components: {\r\n      \"choose-goods\": ChooseGoods,\r\n      \"goods-select\": GoodsSelect,\r\n      \"date-picker-range\": DatePickerRange,\r\n      \"region\": Region\r\n    },\r\n    methods: {\r\n      RegionChange(param) {\r\n        this.searchContent.regionCode = param.regionCode\r\n      },\r\n      /**\r\n       * [imortGoods 导入商品]\r\n       * @return {[type]} [description]\r\n       */\r\n      imortGoods() {\r\n        if(this.$refs.chooseGoods) {\r\n          let params = {\r\n            title: '选择商品',\r\n            regionCode: this.searchContent.regionCode\r\n          }\r\n          this.$refs.chooseGoods.setDefault(params)\r\n        }\r\n      },\r\n      /**\r\n       * [changeSize description]\r\n       * @param    {[type]}                 value [description]\r\n       * @return   {[type]}                       [description]\r\n       */\r\n      changeSize (value) {\r\n        this.pageSize = value\r\n        this.doSearchHandel()\r\n      },\r\n      /**\r\n       * [changeCurrent 点击分页条]\r\n       * @param    {[type]}                 value [当前页]\r\n       * @return   {[type]}                       [description]\r\n       */\r\n      changeCurrent (value) {\r\n        this.pageNum = value\r\n        this.doSearchHandel()\r\n      },\r\n      /**\r\n       * [doSearchHandel 查询列表接口]\r\n       * @param  {[type]} _param [description]\r\n       * @return {[type]}         [description]\r\n       */\r\n      doSearchHandel(_param) {\r\n        this.loading = true\r\n        if(_param === true) {\r\n          this.pageNum = 1\r\n        }\r\n        this.$http.post(timeProductsFea.recommendList, { ...this.searchContent, pageNum: this.pageNum, pageSize: this.pageSize }).then(res => {\r\n          this.loading = false\r\n          if(res.code === 0) {\r\n            // 获取表格数据\r\n            if(res.data && res.data.result && res.data.result.length) {\r\n              for(let item of res.data.result) {\r\n                item.showUpdate = false\r\n                item.updateSortNum = item.sortNum\r\n              }\r\n              this.tableData = res.data.result            \r\n            }else {\r\n              this.tableData = []\r\n            }\r\n\r\n            if(this.pageNum == 1) {\r\n              this.total = res.data.total\r\n            }\r\n            return \r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.loading = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [deleteItem 删除]\r\n       * @param  {[type]} _row [行信息]\r\n       * @return {[type]}      [description]\r\n       */\r\n      deleteItem(_row) {\r\n        let _recommendIds = []\r\n        let _id = _row.id\r\n        _recommendIds.push(_id)\r\n        let _param = {\r\n          isDeleted: 1,\r\n          recommendIds: _recommendIds,\r\n          DIFFCITY: this.searchContent.DIFFCITY\r\n        }\r\n        this.$confirm('您确定要移除所选商品吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$http.post(timeProductsFea.delRecommend, _param).then(res => {\r\n            if(res.code === 0) {\r\n              this.$message.success(\"移除成功\")\r\n              this.doSearchHandel()\r\n              return \r\n            }\r\n            throw new Error(res.msg)\r\n          }).catch(e => {\r\n            this.$notify.error({\r\n              title: '提示',\r\n              message: e.message\r\n            })\r\n          })\r\n        }).catch(() => {})\r\n      },\r\n      /**\r\n       * [goodsSelectInit 商品筛选组件初始化]\r\n       * @return {[type]} [description]\r\n       */\r\n      goodsSelectInit() {\r\n        if(this.$refs.GoodsSelect) {\r\n          let _val = {\r\n            queryString: this.searchContent.queryString,\r\n            categoryIdList: this.searchContent.categoryIdList,\r\n            saleType: this.searchContent.recommendType,\r\n            platformId: this.searchContent.platformId,\r\n            platformCityGoodsIds: this.searchContent.platformCityGoodsIds\r\n          }\r\n          this.$refs.GoodsSelect.setDefaultMesg(_val)\r\n        }\r\n      },\r\n      /**\r\n       * [DoSelectGoodsHandel 确认选择]\r\n       */\r\n      DoSelectGoodsHandel(_params) {\r\n        let checkedList = _params.checkedList\r\n        let queryString = _params.queryString\r\n        let platformCityGoodsIds = []\r\n        for(let item of checkedList) {\r\n          platformCityGoodsIds.push(item.platformCityGoodsId)\r\n        }\r\n        this.searchContent.platformCityGoodsIds = platformCityGoodsIds\r\n        this.searchContent.queryString = queryString\r\n        this.doSearchHandel(true)\r\n      },\r\n      /**\r\n       * @description: 下单时间范围发生变化\r\n       * @param {type} \r\n       * @return: \r\n       */\r\n      datePickerRangeChange(result) {\r\n        this.searchContent.defaultRange = result ? [...result] : result\r\n        this.searchContent.startCreateTime = result ? result[0] : ''\r\n        this.searchContent.endCreateTime = result ? result[1] : ''\r\n        this.doSearchHandel(true)\r\n      },\r\n      confirmChooseGoods(params) {\r\n        let plateformCityGoodsIds = params.checkedList && params.checkedList.length ? params.checkedList.map(item => {\r\n          return item.platformCityGoodsId\r\n        }) : []\r\n        this.$http.post(timeProductsFea.saveRecommend, {plateformCityGoodsIds: plateformCityGoodsIds, platformId: 5, regionCode: this.searchContent.regionCode, DIFFCITY: this.searchContent.DIFFCITY}).then(res => {\r\n          if(res.code === 0) {\r\n            this.$message.success(\"导入成功\")\r\n            this.doSearchHandel(true)\r\n            return \r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/MallConfig/TimeProductsFea/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"handel-search-wraper\"},[_c('div',{staticClass:\"handel-wraper\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.imortGoods}},[_vm._v(\"导入商品\")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip\"}),_vm._v(\" \"),_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('region',{staticClass:\"region-wrap\",on:{\"RegionChange\":_vm.RegionChange}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"SKU编码/商品名称\"}},[_c('goods-select',{ref:\"GoodsSelect\",on:{\"DoSelectGoodsHandel\":_vm.DoSelectGoodsHandel}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"导入时间\"}},[_c('date-picker-range',{attrs:{\"defaultRange\":_vm.searchContent.defaultRange,\"format\":\"yyyy-MM-dd\",\"type\":\"daterange\"},on:{\"datePickerRangeChange\":_vm.datePickerRangeChange}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")])],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"236px\",\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"p-m-w\"},[_c('div',{staticClass:\"img-w\"},[(scope.row.imgUrl && scope.row.imgUrl != '')?_c('img',{attrs:{\"src\":scope.row.imgUrl,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}}):_c('img',{attrs:{\"src\":\"/shop/static/img_error.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"p-m-c-r\"},[_c('div',[_vm._v(_vm._s(scope.row.goodsName || '--'))]),_vm._v(\" \"),_c('div',{staticClass:\"erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo || '--'))]),_vm._v(\" \"),_c('div',{staticClass:\"erp-p-no\"},[_vm._v(\"商品ID：\"+_vm._s(scope.row.recommendGoodsId || '--'))])])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"spec\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"price\",\"label\":\"售价\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"160px\",\"prop\":\"createTime\",\"label\":\"创建时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"160px\",\"prop\":\"createUserId\",\"label\":\"创建人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"100px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"移除\")])],1)]}}])})],1),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tableData.length>0),expression:\"tableData.length>0\"}],staticClass:\"tc mt20\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":_vm.pageSizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}})],1),_vm._v(\" \"),_c('choose-goods',{ref:\"chooseGoods\",on:{\"confirmChooseGoods\":_vm.confirmChooseGoods}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b66b674a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MallConfig/TimeProductsFea/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b66b674a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b66b674a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MallConfig/TimeProductsFea/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}