{"version":3,"sources":["webpack:///src/components/GoodsMgt/BlxGoods/MallCyclePre/index.vue","webpack:///./src/components/GoodsMgt/BlxGoods/MallCyclePre/index.vue?84ac","webpack:///./src/components/GoodsMgt/BlxGoods/MallCyclePre/index.vue"],"names":["presaleGoodsMgt","MallCyclePre","data","loading","pageNum","pageSize","total","cityOptions","searchContent","platformId","activityName","activityStatus","statusOptions","label","value","tableData","mounted","searchContentMesg","localStorage","get","this","$route","meta","keepAlive","remove","doSearchHandel","methods","goAddGoodsPage","$router","push","activityStatusFormatter","row","column","cellValue","index","changeSize","changeCurrent","_param","_this","$http","post","extends_default","then","res","code","Error","msg","result","length","catch","e","$notify","error","title","message","deleteItem","_row","_this2","activityId","id","$confirm","confirmButtonText","cancelButtonText","type","$message","success","activeOver","_this3","editItem","_paramMesg","set","showItem","beforeRouteLeave","to","from","next","BlxGoods_MallCyclePre","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","icon","on","click","_v","model","label-position","placeholder","clearable","nativeOn","keyup","$event","indexOf","_k","keyCode","key","callback","$$v","$set","trim","expression","filterable","change","_l","item","directives","name","rawName","staticStyle","width","empty-text","min-width","prop","scopedSlots","_u","fn","scope","startDate","endDate","_s","substr","_e","pickUpStartDate","pickUpEndDate","formatter","fixed","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/64.0c59dbd1bd49b5db7f8a.js","sourcesContent":["<style>\n  .date-wrap-inline {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    align-items: center;\n  }\n</style>\n\n<template>\n  <div>\n    <!-- 操作框 -->\n    <div class=\"handel-search-wraper\">\n      <div class=\"handel-wraper\">\n        <el-button type=\"primary\" @click=\"goAddGoodsPage\" size=\"mini\" icon=\"el-icon-plus\">添加预售周期</el-button>\n      </div>\n      <hr class=\"s-slip\">\n      <div class=\"search-form-wraper\">\n        <el-form :model=\"searchContent\" label-position=\"top\">\n          <el-form-item label=\"预售周期名称\">\n            <el-input class=\"search-input\" v-model.trim=\"searchContent.activityName\" placeholder=\"请输入名称关键字\" size=\"small\" @keyup.enter.native=\"doSearchHandel(true)\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"状态\">\n           <el-select class=\"search-input\" v-model=\"searchContent.activityStatus\" filterable placeholder=\"请选择状态\" clearable size=\"small\" @change=\"doSearchHandel(true)\">\n              <el-option\n                v-for=\"item in statusOptions\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n    \n    <!-- 搜索结果 -->\n    <div class=\"table-wraper\">\n      <el-table\n        v-loading=\"loading\"\n        :data=\"tableData\"\n        empty-text=\"没有查询到您想要的数据\"\n        style=\"width:100%;\"\n        size=\"small\">\n        <el-table-column min-width=\"120px\" prop=\"activityName\" label=\"预售周期名称\"></el-table-column>\n        <el-table-column min-width=\"120px\" prop=\"cityName\" label=\"城市\"></el-table-column>\n        <el-table-column min-width=\"200px\" label=\"有效期\">\n          <template slot-scope=\"scope\">\n            <div class=\"date-wrap-inline\" v-if=\"scope.row.startDate && scope.row.endDate\">\n              <div>\n                <p>{{scope.row.startDate.substr(0, 10)}}</p>\n                <p>{{scope.row.startDate.substr(11, 8)}}</p>\n              </div>\n              <div>&nbsp;-&nbsp;</div>\n              <div>\n                <p>{{scope.row.endDate.substr(0, 10)}}</p>\n                <p>{{scope.row.endDate.substr(11, 8)}}</p>\n              </div>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"200px\" label=\"提货日期\">\n          <template slot-scope=\"scope\">\n            <div>\n              {{scope.row.pickUpStartDate}} - {{scope.row.pickUpEndDate}}\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"120px\" prop=\"activityStatus\" label=\"状态\" :formatter=\"activityStatusFormatter\"></el-table-column>\n        <el-table-column\n          fixed=\"right\"\n          label=\"操作\"\n          width=\"140\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <!-- 活动状态 0：全部，1失效 2未开始 3进行中 -->\n            <div v-if=\"scope.row.activityStatus === 1\">\n              <div>\n                <el-button type=\"text\" @click=\"showItem(scope.row)\" size=\"mini\" icon=\"el-icon-view\">查看</el-button>\n                <el-button type=\"text\" @click=\"deleteItem(scope.row)\" size=\"mini\" icon=\"el-icon-delete\">删除</el-button>\n              </div>\n              <div>\n                <el-button type=\"text\" @click=\"editItem(scope.row, 'copy')\" size=\"mini\" icon=\"el-icon-tickets\">复制</el-button>\n              </div>\n            </div>\n            <div v-else-if=\"scope.row.activityStatus === 2\">\n              <div>\n                <el-button type=\"text\" @click=\"editItem(scope.row, 'edit')\" size=\"mini\" icon=\"el-icon-edit\">编辑</el-button>\n                <el-button type=\"text\" @click=\"deleteItem(scope.row)\" size=\"mini\" icon=\"el-icon-delete\">删除</el-button>\n              </div>\n              <div>\n                <el-button type=\"text\" @click=\"showItem(scope.row)\" size=\"mini\" icon=\"el-icon-view\">查看</el-button>\n                <el-button type=\"text\" @click=\"editItem(scope.row, 'copy')\" size=\"mini\" icon=\"el-icon-tickets\">复制</el-button>\n              </div>\n            </div>\n            <div v-else-if=\"scope.row.activityStatus === 3\">\n              <div>\n                <el-button type=\"text\" @click=\"editItem(scope.row, 'edit')\" size=\"mini\" icon=\"el-icon-edit\">编辑</el-button>\n                <el-button type=\"text\" @click=\"activeOver(scope.row)\" size=\"mini\" icon=\"el-icon-download\">失效</el-button>\n              </div>\n              <div>\n                <el-button type=\"text\" @click=\"showItem(scope.row)\" size=\"mini\" icon=\"el-icon-view\">查看</el-button>\n                <el-button type=\"text\" @click=\"editItem(scope.row, 'copy')\" size=\"mini\" icon=\"el-icon-tickets\">复制</el-button>\n              </div>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页条 -->\n      <el-pagination\n        v-if=\"total>0\"\n        class=\"tc mt20\"\n        background\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"\n        :current-page.sync=\"pageNum\"\n        :page-sizes=\"[10, 50, 100, 150, 200]\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Storage from '@/utils/localStorage'\n  import * as utils from '@/utils/utils'\n\n  const presaleGoodsMgt = {\n    // 活动列表页面\n    listPage: '/plateform/a/mall/saleActivity/listPage',\n    // 删除活动\n    delActivity: '/plateform/a/mall/saleActivity/delActivity',\n    // 失效活动\n    failActivity: '/plateform/a/mall/saleActivity/failActivity'\n\n  }\n  export default {\n    data() {\n      return {\n        loading: false,\n        pageNum: 1,\n        pageSize: 10,\n        total: 0,\n        cityOptions: [], // 城市选择列表\n        // 搜素条件\n        searchContent: {\n          platformId: 5, // 平台类型：1-有赞；2-京东；3-美团；4-饿百；5-商城\n          activityName: '', // 活动名称\n          activityStatus: '' // 活动状态 0：全部，1失效 2未开始 3进行中\n        },\n        statusOptions: [\n          {\n            label: '全部',\n            value: 0\n          },\n          {\n            label: '已失效',\n            value: 1\n          },\n          {\n            label: '未开始',\n            value: 2\n          },\n          {\n            label: '进行中',\n            value: 3\n          }\n        ],\n        tableData: []\n\n      }\n    },\n    mounted() {\n      let searchContentMesg = Storage.get(\"searchContentForLongPG\")\n      if(this.$route.meta.keepAlive && searchContentMesg) {\n        this.pageNum = searchContentMesg.pageNum\n        this.searchContent = searchContentMesg.searchContent\n\n        Storage.remove('searchContentForLongPG')\n      }\n      this.doSearchHandel()\n    },\n    methods: {\n      /**\n       * [goAddGoodsPage 添加预售商品]\n       * @return {[type]} [description]\n       */\n      goAddGoodsPage() {\n        this.$router.push(\"/long_pgm/add_goods\")\n      },\n      /**\n       * [activityStatusFormatter 格式化状态]\n       * @return {[type]} [description]\n       */\n      activityStatusFormatter(row, column, cellValue, index) {\n        if(cellValue === 1) {\n          return '已失效'\n        }else if(cellValue === 2) {\n          return '未开始'\n        }else if(cellValue === 3) {\n          return '进行中'\n        }\n      },\n      /**\n       * [changeSize description]\n       * @param    {[type]}                 value [description]\n       * @return   {[type]}                       [description]\n       */\n      changeSize (value) {\n        this.pageSize = value\n        this.doSearchHandel()\n      },\n      /**\n       * [changeCurrent 点击分页条]\n       * @param    {[type]}                 value [当前页]\n       * @return   {[type]}                       [description]\n       */\n      changeCurrent (value) {\n        this.pageNum = value\n        this.doSearchHandel()\n      },\n      /**\n       * [doSearchHandels 搜索]\n       * @param  {[type]} _params [description]\n       * @return {[type]}         [description]\n       */\n      doSearchHandel(_param) {\n        if(_param === true) {\n          this.pageNum = 1\n        }\n        this.loading = true\n        this.$http.post(presaleGoodsMgt.listPage, { ...this.searchContent, pageNum: this.pageNum, pageSize: this.pageSize }).then(res => {\n          this.loading = false\n          if(res.code === 0) {\n            // 获取表格数据\n            if(res.data) {\n              if(res.data.result && res.data.result.length) {\n                this.tableData = res.data.result            \n              }else {\n                this.tableData = []\n              }\n              this.total = res.data.total\n            }else {\n              this.total = 0\n              this.tableData = []\n            }\n            return \n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.loading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n\n      },\n      /**\n       * [deleteItem 删除活动]\n       * @param  {[type]} _row [description]\n       * @return {[type]}      [description]\n       */\n      deleteItem(_row) {\n        let activityId = _row.id\n\n        this.$confirm('您确定要执行删除操作吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.post(presaleGoodsMgt.delActivity, {activityId: activityId}).then(res => {\n            if(res.code === 0) {\n              this.$message.success(\"删除成功\")\n              this.doSearchHandel()\n              return \n            }\n            throw new Error(res.msg)\n          }).catch(e => {\n            this.$notify.error({\n              title: '提示',\n              message: e.message\n            })\n          })\n        }).catch(() => {})\n\n      },\n      /**\n       * [activeOver 失效活动]\n       * @param  {[type]} _row [description]\n       * @return {[type]}      [description]\n       */\n      activeOver(_row) {\n        let activityId = _row.id\n\n        this.$confirm('您确定要执行试下操作吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.post(presaleGoodsMgt.failActivity, {activityId: activityId}).then(res => {\n            if(res.code === 0) {\n              this.$message.success(\"设置失效成功\")\n              this.doSearchHandel()\n              return \n            }\n            throw new Error(res.msg)\n          }).catch(e => {\n            this.$notify.error({\n              title: '提示',\n              message: e.message\n            })\n          })\n        }).catch(() => {})\n      },\n      /**\n       * [editItem 编辑]\n       * @param  {[type]} _row   [description]\n       * @param  {[type]} status [description]\n       * @return {[type]}        [description]\n       */\n      editItem(_row, type) {\n        // 设置搜索条件\n        let _paramMesg = {\n          pageNum: this.pageNum,\n          searchContent: this.searchContent\n        }\n        Storage.set(\"searchContentForLongPG\", _paramMesg)\n\n        let activityId = _row.id\n        let activityStatus = _row.activityStatus\n        if(type === 'copy') {\n          this.$router.push(`/long_pgm/edit_goods/${activityId}?type=${type}`)\n        }else if(type === 'edit') {\n          this.$router.push(`/long_pgm/edit_goods/${activityId}?status=${activityStatus}&type=${type}`)\n        }\n      },\n      /**\n       * [showItem 查看]\n       * @param  {[type]} _row   [description]\n       * @param  {[type]} status [description]\n       * @return {[type]}        [description]\n       */\n      showItem(_row) {\n        // 设置搜索条件\n        let _paramMesg = {\n          pageNum: this.pageNum,\n          searchContent: this.searchContent\n        }\n        Storage.set(\"searchContentForLongPG\", _paramMesg)\n\n        let activityId = _row.id\n        this.$router.push(\"/long_pgm/show_goods/\" + activityId)\n      }\n\n    },\n    /**\n     * [beforeRouteLeave 页面离开]\n     * @param  {[type]}   to   [description]\n     * @param  {[type]}   from [description]\n     * @param  {Function} next [description]\n     * @return {[type]}        [description]\n     */\n    beforeRouteLeave (to, from, next){\n      from.meta.keepAlive = false;\n      next();\n    }\n\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/GoodsMgt/BlxGoods/MallCyclePre/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"handel-search-wraper\"},[_c('div',{staticClass:\"handel-wraper\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.goAddGoodsPage}},[_vm._v(\"添加预售周期\")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip\"}),_vm._v(\" \"),_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"预售周期名称\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请输入名称关键字\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.activityName),callback:function ($$v) {_vm.$set(_vm.searchContent, \"activityName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.activityName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择状态\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.activityStatus),callback:function ($$v) {_vm.$set(_vm.searchContent, \"activityStatus\", $$v)},expression:\"searchContent.activityStatus\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")])],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"activityName\",\"label\":\"预售周期名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"cityName\",\"label\":\"城市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"200px\",\"label\":\"有效期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.startDate && scope.row.endDate)?_c('div',{staticClass:\"date-wrap-inline\"},[_c('div',[_c('p',[_vm._v(_vm._s(scope.row.startDate.substr(0, 10)))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(scope.row.startDate.substr(11, 8)))])]),_vm._v(\" \"),_c('div',[_vm._v(\" - \")]),_vm._v(\" \"),_c('div',[_c('p',[_vm._v(_vm._s(scope.row.endDate.substr(0, 10)))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(scope.row.endDate.substr(11, 8)))])])]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"200px\",\"label\":\"提货日期\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.pickUpStartDate)+\" - \"+_vm._s(scope.row.pickUpEndDate)+\"\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"activityStatus\",\"label\":\"状态\",\"formatter\":_vm.activityStatusFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.activityStatus === 1)?_c('div',[_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.showItem(scope.row)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-tickets\"},on:{\"click\":function($event){return _vm.editItem(scope.row, 'copy')}}},[_vm._v(\"复制\")])],1)]):(scope.row.activityStatus === 2)?_c('div',[_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editItem(scope.row, 'edit')}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.showItem(scope.row)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-tickets\"},on:{\"click\":function($event){return _vm.editItem(scope.row, 'copy')}}},[_vm._v(\"复制\")])],1)]):(scope.row.activityStatus === 3)?_c('div',[_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.editItem(scope.row, 'edit')}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-download\"},on:{\"click\":function($event){return _vm.activeOver(scope.row)}}},[_vm._v(\"失效\")])],1),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-view\"},on:{\"click\":function($event){return _vm.showItem(scope.row)}}},[_vm._v(\"查看\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-tickets\"},on:{\"click\":function($event){return _vm.editItem(scope.row, 'copy')}}},[_vm._v(\"复制\")])],1)]):_vm._e()]}}])})],1),_vm._v(\" \"),(_vm.total>0)?_c('el-pagination',{staticClass:\"tc mt20\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[10, 50, 100, 150, 200],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-8be511e6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoodsMgt/BlxGoods/MallCyclePre/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8be511e6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8be511e6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoodsMgt/BlxGoods/MallCyclePre/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}