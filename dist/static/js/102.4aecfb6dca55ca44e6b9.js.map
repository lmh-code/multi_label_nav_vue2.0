{"version":3,"sources":["webpack:///src/components/OrderMgt/StorePreGoodsSum.vue","webpack:///./src/components/OrderMgt/StorePreGoodsSum.vue?17e4","webpack:///./src/components/OrderMgt/StorePreGoodsSum.vue"],"names":["storePreGoodsSumUrl","StorePreGoodsSum","data","pageSizes","config","pageSizes10","exportLoading","loading","pageNum","pageSize","total","searchContent","DIFFCITY","regionCode","localStorage","get","storeLeaderId","storeGroupTypeNo","storeGroupNo","platformId","defaultRange","startPayTime","endPayTime","pickUpTime","utils","Date","parse","searchValue","storeNo","businessType","sfInStock","vendorCode","tableData","exportConfig","cityName","storeName","virtualStoreName","userName","goodsNo","skuNo","goodsName","spec","businessTypeStr","quantity","amount","completeQty","refundQty","awaitQty","businessTypeOptions","label","value","platformIdOptions","code","storeGroupTypeNoOptions","defaultProps","children","storeLeaderOptions","totalSum","sfInStockOptions","vendorList","created","this","getVendorlist","getStoreLeaderList","searchContentMsg","$route","meta","keepAlive","remove","doSearchHandel","components","date-picker-range","DatePickerRange","store-group","StoreGroupAndStore","region-city-store","RegionCityStore","methods","StoreGroupChange","params","cityId","storeGroupTypeNoList","emptyFormatter","row","column","cellValue","changeSize","changeCurrent","_param","_this","startPayTimeVal","replace","getTime","endPayVal","isNaN","$message","$http","post","extends_default","then","res","result","length","summary","Error","msg","catch","e","$notify","error","title","message","exportData","_this2","tableDataArr","tHeader","filterVal","exportExcel","ExportJsonToExcel","header","filename","setTimeout","success","warning","summarizeQtyHeader","h","$createElement","attrs","placement","width","trigger","content","slot","class","receiveQtyHeader","sortChange","order","prop","orderBy","goSearchRes","_row","_type","_paramMsg","from","set","routerPath","$router","push","_this3","optionsArr","filter","item","applyStatus","userStatus","map","id","actualStoreNo","console","log","datePickerRangeChange","concat","toConsumableArray_default","getSummaries","_this4","sums","newArray","columns","forEach","property","_this5","vendorNo","vendorName","OrderMgt_StorePreGoodsSum","render","_vm","_h","_c","_self","staticClass","model","label-position","on","_v","placeholder","size","change","$event","callback","$$v","$set","expression","_l","key","filterable","clearable","type","format","value-format","nativeOn","keyup","indexOf","_k","keyCode","trim","click","directives","name","rawName","staticStyle","empty-text","show-summary","summary-method","sort-change","min-width","scopedSlots","_u","fn","scope","_s","imgUrl","src","alt","onerror","_e","formatter","sortable","render-header","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/102.4aecfb6dca55ca44e6b9.js","sourcesContent":["<style>\n  .p-m-w {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n  }\n\n  .img-w {\n    width: 80px;\n    height: 80px;\n  }\n\n  .img-w>img {\n    width: 80px;\n  }\n\n  .p-m-c-r {\n    padding: 0 10px;\n  }\n\n  .erp-p-no {\n    color: #666;\n    font-size: 12px;\n  }\n\n  .order-id {\n    cursor: pointer;\n    color: #2077FF;\n  }\n  .order-id:hover {\n    color: #409EFF;\n  }\n\n</style>\n\n<template>\n  <div>\n    <!-- 搜索框 -->\n    <div class=\"search-form-wraper\">\n      <el-form :model=\"searchContent\" label-position=\"top\">\n        <region-city-store @StoreGroupChange=\"StoreGroupChange\"></region-city-store>\n        <el-form-item label=\"订单来源\">\n          <el-select class=\"search-input\" v-model=\"searchContent.platformId\" placeholder=\"请选择订单来源\"\n            size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option :label=\"item.value\" :value=\"item.code\" :key=\"item.code\" v-for=\"item in platformIdOptions\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <!-- <store-group @StoreGroupChange=\"StoreGroupChange\"></store-group> -->\n        <el-form-item label=\"所属团长店\">\n          <el-select class=\"search-input\" v-model=\"searchContent.storeLeaderId\" filterable placeholder=\"请选择所属团长店\" clearable\n            size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option v-for=\"item in storeLeaderOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"业务类型\">\n          <el-select class=\"search-input\" v-model=\"searchContent.businessType\" placeholder=\"请选择销业务类型\" size=\"small\"\n            @change=\"doSearchHandel(true)\">\n            <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in businessTypeOptions\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"下单时间\">\n          <date-picker-range \n            :defaultRange=\"searchContent.defaultRange\"\n            @datePickerRangeChange=\"datePickerRangeChange\">\n          </date-picker-range>\n        </el-form-item>\n        <el-form-item label=\"开始提货日期\">\n          <el-date-picker class=\"search-input\" v-model=\"searchContent.pickUpTime\" type=\"date\"\n            placeholder=\"请选择下单结束时间\" format=\"yyyy-MM-dd\" value-format=\"yyyy-MM-dd\" size=\"small\"\n            @change=\"doSearchHandel(true)\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"SKU编码/商品名称\">\n          <el-input class=\"search-input\" v-model.trim=\"searchContent.searchValue\" placeholder=\"SKU编码/商品名称\" size=\"small\"\n            @keyup.enter.native=\"doSearchHandel(true)\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"是否顺丰仓现货\">\n          <el-select class=\"search-input\" v-model=\"searchContent.sfInStock\" filterable placeholder=\"请选择状态\" size=\"small\" @change=\"doSearchHandel(true)\" clearable>\n            <el-option\n              v-for=\"item in sfInStockOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"供应商专供\">\n          <el-select class=\"search-input\" v-model=\"searchContent.vendorCode\" filterable placeholder=\"供应商专供\" size=\"small\" @change=\"doSearchHandel(true)\" clearable>\n            <el-option\n              v-for=\"item in vendorList\"\n              :key=\"item.vendorNo\"\n              :label=\"item.vendorName\"\n              :value=\"item.vendorNo\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\n          <el-button @click=\"exportData\" size=\"mini\" :loading=\"exportLoading\">导出</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- 搜索结果 -->\n    <div class=\"table-wraper\">\n      <el-table class=\"fixed-height\" v-loading=\"loading\" :data=\"tableData\" empty-text=\"没有查询到您想要的数据\" style=\"width:100%;\" size=\"small\" @sort-change=\"sortChange\" show-summary :summary-method=\"getSummaries\">\n        <el-table-column min-width=\"80px\" prop=\"cityName\" label=\"城市\"></el-table-column>\n        <el-table-column label=\"门店\" min-width=\"120px\">\n          <template slot-scope=\"scope\">\n            <div>\n              <p>{{scope.row.storeName}}</p>\n              <p class=\"erp-p-no\">ERP编码：{{scope.row.storeNo}}</p>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"130px\" label=\"所属团长店\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <p v-if=\"scope.row.storeLeaderId\">{{scope.row.storeLeaderId}}_{{scope.row.virtualStoreName}}_{{scope.row.userName}}</p>\n            <p v-else>-</p>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"商品信息\" min-width=\"236px\">\n          <template slot-scope=\"scope\">\n            <div class=\"p-m-w\">\n              <div class=\"img-w\">\n                <img v-if=\"scope.row.imgUrl && scope.row.imgUrl != ''\" :src=\"scope.row.imgUrl\" alt=\"\"\n                  onerror=\"onerror=null;src='/shop/static/img_error.png'\">\n                <img v-else src=\"/shop/static/img_error.png\" alt=\"\">\n              </div>\n              <div class=\"p-m-c-r\">\n                <div>{{scope.row.goodsName}}</div>\n                <div class=\"erp-p-no\">SKU编码：{{scope.row.goodsNo || '--'}}</div>\n                <el-tag type=\"warning\" size=\"mini\" v-if=\"scope.row.vendorName\">{{scope.row.vendorName}}</el-tag>\n              </div>\n            </div>\n          </template>\n        </el-table-column>\n\n        <el-table-column min-width=\"120px\" prop=\"spec\" label=\"规格\"></el-table-column>\n        <el-table-column min-width=\"120px\" prop=\"businessTypeStr\" label=\"业务类型\" :formatter=\"emptyFormatter\"></el-table-column>\n        <el-table-column min-width=\"90px\" label=\"销售量\" prop=\"quantity\" sortable=\"custom\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <div class=\"order-id\" @click=\"goSearchRes(scope.row, 'QUANTITY')\">\n              {{scope.row.quantity}}\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"120px\" prop=\"amount\" label=\"销售额\"></el-table-column>\n        <el-table-column min-width=\"90px\" prop=\"summarizeQty\" v-if=\"searchContent.platformId !== 5\" :formatter=\"emptyFormatter\" :render-header=\"summarizeQtyHeader\"></el-table-column>\n        <el-table-column min-width=\"90px\" prop=\"receiveQty\" v-if=\"searchContent.platformId !== 5\" :formatter=\"emptyFormatter\" :render-header=\"receiveQtyHeader\"></el-table-column>\n        <el-table-column min-width=\"90px\" label=\"已核销\" prop=\"completeQty\" sortable=\"custom\"> \n          <template slot-scope=\"scope\" size=\"small\">\n            <div class=\"order-id\" @click=\"goSearchRes(scope.row, 'COMPLETEQTY')\">\n              {{scope.row.completeQty}}\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"90px\" label=\"已退\" prop=\"refundQty\" sortable=\"custom\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <div class=\"order-id\" @click=\"goSearchRes(scope.row, 'REFUNDQTY')\">\n              {{scope.row.refundQty}}\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"90px\" label=\"待核销\" prop=\"awaitQty\" sortable=\"custom\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <div class=\"order-id\" @click=\"goSearchRes(scope.row, 'AWAITQTY')\">\n              {{scope.row.awaitQty}}\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页条 -->\n      <el-pagination v-if=\"tableData.length>0\" class=\"tc mt20\" background @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\" :current-page.sync=\"pageNum\" :page-sizes=\"pageSizes\"\n        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\n      </el-pagination>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  import Storage from '@/utils/localStorage'\n  import config from '@/utils/config'\n  import exportSheet from '@/utils/exportExcel'\n  import * as utils from '@/utils/utils'\n  import DatePickerRange from '@/components/Common/DatePickerRange'\n  import StoreGroupAndStore from '@/components/Common/StoreCommon/StoreGroupAndStore'\n  import RegionCityStore from '@/components/Common/StoreCommon/RegionCityStore';\n  const storePreGoodsSumUrl = {\n    // 区域预售商品汇总\n    storeSummary: '/plateform/a/order/store/summary',\n    // 区域预售商品汇总导出\n    exportData: '/plateform/a/order/store/export',\n    // 获取所属团长店信息\n    getStoreLeaderList: '/foundation/p/apply/leader/queryList',\n    // 获取供应商编码及名称（编码[vendorCode]，名称[vendorName]）\n    vendorlist: '/newretail-shop/a/order/vendorlist'\n  }\n  export default {\n    data() {\n      return {\n        pageSizes: config.pageSizes10,\n        exportLoading: false,\n        loading: false,\n        pageNum: 1,\n        pageSize: 10,\n        total: 0,\n        searchContent: {\n          DIFFCITY: true,\n          regionCode: Storage.get('regionCode') ||'',\n          storeLeaderId: '',\n          storeGroupTypeNo: '',\n          storeGroupNo: '',\n          platformId: 5, // 订单来源\n          defaultRange: [],\n          startPayTime: '', // 开始时间\n          endPayTime: '', // 结束时间\n          pickUpTime: utils.timestampToTimeNoHMS(Date.parse(new Date()) + 86400000), // 开始提货日期\n          // ERP编码、商品名称\n          searchValue: '',\n          storeNo: '',\n          // 1：常规；2：预售；3:长周期预售，4：及时达\n          businessType: '',\n          sfInStock: '',\n          vendorCode: ''\n        },\n        tableData: [],\n        exportConfig: {\n          cityName: '城市',\n          storeNo: '门店编码',\n          storeName: '门店名称',\n          storeLeaderId: '团长店编号',\n          virtualStoreName: '团长店名',\n          userName: '团长姓名',\n          goodsNo: 'SKU编码',\n          skuNo: 'ERP编码',\n          goodsName: '商品名称',\n          spec: '商品规格',\n          businessTypeStr: '销售类型',\n          quantity: '销售量',\n          amount: '销售额',\n          completeQty: '已核销',\n          refundQty: '已退',\n          awaitQty: '待核销'\n        },\n        businessTypeOptions: [{\n            label: '全部',\n            value: ''\n          },\n          {\n            label: '预售',\n            value: 3\n          },\n          // {\n          //   label: '短周期预售',\n          //   value: 2\n          // },\n          {\n            label: '及时达',\n            value: 4\n          },\n          {\n            label: '拼团',\n            value: 5\n          },\n          {\n            label: '虚拟订单',\n            value: 6\n          }\n        ],\n        // 订单来源下拉框\n        platformIdOptions: [\n          {\n            code: 5,\n            value: '本来鲜'\n          },\n          {\n            code: 6,\n            value: '顺丰优选'\n          }\n        ],\n        storeGroupTypeNoOptions: [],\n        defaultProps: {\n          children: 'storeGroupList',\n          label: 'labelName',\n          value: 'valueName'\n        },\n        storeLeaderOptions: [],\n        totalSum: {},\n        sfInStockOptions: [\n          {\n            label: '全部',\n            value: ''\n          },\n          {\n            label: '是',\n            value: true\n          },\n          {\n            label: '否',\n            value: false\n          }\n        ],\n        vendorList: []\n      }\n    },\n    created() {\n      this.getVendorlist()\n      // 获取所属团长店信息\n      this.getStoreLeaderList()\n      let searchContentMsg = Storage.get(\"searchContent\")\n      if (this.$route.meta.keepAlive && searchContentMsg) {\n        this.pageNum = searchContentMsg.pageNum\n        this.searchContent = searchContentMsg.searchContent\n        Storage.remove('searchContent')\n      }\n      this.doSearchHandel()\n    },\n    components: {\n      \"date-picker-range\": DatePickerRange,\n      \"store-group\": StoreGroupAndStore,\n      \"region-city-store\": RegionCityStore\n    },\n    methods: {\n      StoreGroupChange(params) {\n        this.searchContent.regionCode = params.regionCode\n        this.searchContent.cityId = params.cityId\n        this.searchContent.storeNo = params.storeNo\n        this.searchContent.storeGroupTypeNo = params.storeGroupTypeNoList[0]\n        this.searchContent.storeGroupNo = params.storeGroupTypeNoList[1]\n        this.doSearchHandel(true)\n      },\n      emptyFormatter(row, column, cellValue) {\n        if(cellValue || cellValue == 0) {\n          return cellValue\n        }else {\n          return '--'\n        }\n      },\n      /**\n       * [changeSize description]\n       * @param    {[type]}                 value [description]\n       * @return   {[type]}                       [description]\n       */\n      changeSize(value) {\n        this.pageSize = value\n        this.doSearchHandel()\n      },\n      /**\n       * [changeCurrent 点击分页条]\n       * @param    {[type]}                 value [当前页]\n       * @return   {[type]}                       [description]\n       */\n      changeCurrent(value) {\n        this.pageNum = value\n        this.doSearchHandel()\n      },\n      /**\n       * [doSearchHandel 获取订单列表内容]\n       * @param  {[type]} _param [description]\n       * @return {[type]}        [description]\n       */\n      doSearchHandel(_param) {\n        let startPayTimeVal = this.searchContent.startPayTime ? new Date(this.searchContent.startPayTime.replace(/-/g,\n          '/')).getTime() : 0\n        let endPayVal = this.searchContent.endPayTime ? new Date(this.searchContent.endPayTime.replace(/-/g, '/'))\n          .getTime() : 0\n\n        if (this.searchContent.startPayTime && this.searchContent.endPayTime && !isNaN(startPayTimeVal) && !isNaN(\n            endPayVal)) {\n          if (startPayTimeVal > endPayVal) {\n            this.$message(\"结束日期不能早于开始日期\")\n            return\n          }\n        }\n        this.loading = true\n        if (_param === true) {\n          this.pageNum = 1\n        }\n        this.$http.post(storePreGoodsSumUrl.storeSummary, {\n          ...this.searchContent,\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }).then(res => {\n          this.loading = false\n          if (res.code === 0) {\n            if (res.data && res.data.result && res.data.result.length) {\n              this.tableData = res.data.result\n            } else {\n              this.tableData = []\n            }\n            this.totalSum = {...res.data.summary}\n            this.total = res.data.total\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.loading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      /**\n       * [exportData 导出数据]\n       * @return {[type]} [description]\n       */\n      exportData() {\n        let startPayTimeVal = this.searchContent.startPayTime ? new Date(this.searchContent.startPayTime.replace(/-/g,\n          '/')).getTime() : 0\n        let endPayVal = this.searchContent.endPayTime ? new Date(this.searchContent.endPayTime.replace(/-/g, '/'))\n          .getTime() : 0\n\n        if (this.searchContent.startPayTime && this.searchContent.endPayTime && !isNaN(startPayTimeVal) && !isNaN(\n            endPayVal)) {\n          if (startPayTimeVal > endPayVal) {\n            this.$message(\"结束日期不能早于开始日期\")\n            return\n          }\n        }\n        this.exportLoading = true\n        this.$http.post(storePreGoodsSumUrl.exportData, {\n          ...this.searchContent\n        }).then(res => {\n          this.exportLoading = false\n          if (res.code === 0) {\n            if (res.data && res.data.length) {\n              let tableDataArr = res.data\n              const tHeader = utils.objectToArray(this.exportConfig, false)\n              const filterVal = utils.objectToArray(this.exportConfig, true)\n              exportSheet.ExportJsonToExcel({\n                header: tHeader,\n                filterVal,\n                data: tableDataArr,\n                filename: `${utils.timestampToTimeNoHMS(Date.parse(new Date()))}_门店商品汇总`\n              })\n              setTimeout(() => {\n                this.$message.success(\"导出成功\")\n              }, 500)\n            } else {\n              this.$notify.warning({\n                title: '温馨提示',\n                message: '没有查询到要导出的数据'\n              });\n            }\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.exportLoading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      summarizeQtyHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\"\n            content=\"说明：已订货为昨晚线上汇总提交的订货数量，正常等于销售量，如果为0则为异常，提交订货失败。\">\n            <span slot=\"reference\">已订货<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      receiveQtyHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\"\n            content=\"说明：已收货为开始提货日期当日门店线上线下收货总数量，已转化成线上份数；正常应该大于销售量，小于则异常，缺量导致订单无法正常履约。\">\n            <span slot=\"reference\">已收货<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      sortChange(column) {\n        let order = ''\n        if(column.order === 'ascending') {\n          order = 'asc'\n        }else if(column.order === 'descending') {\n          order = 'desc'\n        }\n        \n        if(column.prop && order) {\n          let orderBy = `${column.prop} ${order}`\n          this.searchContent.orderBy = orderBy\n          this.doSearchHandel(true)\n        }\n      },\n      goSearchRes(_row, _type) {\n        let _paramMsg = {\n          from: 'storeSum',\n          pageNum: this.pageNum,\n          searchContent: this.searchContent\n        }\n        Storage.set(\"searchContent\", _paramMsg)\n        let routerPath = `/search_result?from=storeSum&searchType=${_type}&searchValue=${_row.goodsNo}&storeNo=${_row.storeNo}`\n        if(_row.storeLeaderId) {\n          routerPath = `${routerPath}&storeLeaderId=${_row.storeLeaderId}`\n        }\n        this.$router.push(routerPath)\n      },\n      /**\n       * @description: 获取所属团长店信息\n       * @param {type} \n       * @return: \n       */\n      getStoreLeaderList() {\n        this.$http.post(storePreGoodsSumUrl.getStoreLeaderList, {pageNum: 1, pageSize: -1, DIFFCITY: true}).then(res => {\n          if (res.code === 0) {\n            let optionsArr = res.data && res.data.result && res.data.result.length ? res.data.result : []\n            this.storeLeaderOptions = optionsArr.filter(item => {\n              return item.applyStatus === 2 && item.userStatus === 0\n            }).map(item => {\n              return {\n                id: item.id,\n                applyStatus: item.applyStatus,\n                virtualStoreName: item.virtualStoreName,\n                userName: item.userName,\n                actualStoreNo: item.actualStoreNo,\n                value: item.id,\n                label: `${item.id}_${item.virtualStoreName}_${item.userName}`\n              }\n            })\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          console.log(\"提示(获取所属团长店信息):\", e.message)\n        })\n      },\n      /**\n       * @description: 下单时间范围发生变化\n       * @param {type} \n       * @return: \n       */\n      datePickerRangeChange(result) {\n        this.searchContent.defaultRange = result ? [...result] : result\n        this.searchContent.startPayTime = result ? result[0] : ''\n        this.searchContent.endPayTime = result ? result[1] : ''\n        this.doSearchHandel(true)\n      },\n      /**\n       * @description: 显示总计\n       * @param {type} \n       * @return: \n       */\n      getSummaries(params) {\n        let sums = []\n        let newArray=[]\n        let selectedColumn = params.columns\n        selectedColumn.forEach(item => {\n          if(this.totalSum[item.property] || this.totalSum[item.property] === 0) {\n            newArray.push(this.totalSum[item.property])\n          }else {\n            newArray.push('')\n          }\n        })\n        sums = newArray;\n        sums[0] = \"合计\";\n        return sums\n      },\n      getVendorlist() {\n        this.$http.post(storePreGoodsSumUrl.vendorlist, {regionCode: this.searchContent.regionCode, DIFFCITY: this.searchContent.DIFFCITY}).then(res => {\n          if(res.code === 0) {\n            this.vendorList = res.data && res.data.length ? [{vendorNo: '', vendorName: '全部'}, ...res.data] : []\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          console.log(\"获取供应商编码及名称（编码[vendorCode]，名称[vendorName]）报错：\", e.message);\n        })\n      }\n    }\n  }\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/OrderMgt/StorePreGoodsSum.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('region-city-store',{on:{\"StoreGroupChange\":_vm.StoreGroupChange}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"订单来源\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请选择订单来源\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.platformId),callback:function ($$v) {_vm.$set(_vm.searchContent, \"platformId\", $$v)},expression:\"searchContent.platformId\"}},_vm._l((_vm.platformIdOptions),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.value,\"value\":item.code}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"所属团长店\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择所属团长店\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.storeLeaderId),callback:function ($$v) {_vm.$set(_vm.searchContent, \"storeLeaderId\", $$v)},expression:\"searchContent.storeLeaderId\"}},_vm._l((_vm.storeLeaderOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"业务类型\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请选择销业务类型\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.businessType),callback:function ($$v) {_vm.$set(_vm.searchContent, \"businessType\", $$v)},expression:\"searchContent.businessType\"}},_vm._l((_vm.businessTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"下单时间\"}},[_c('date-picker-range',{attrs:{\"defaultRange\":_vm.searchContent.defaultRange},on:{\"datePickerRangeChange\":_vm.datePickerRangeChange}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始提货日期\"}},[_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"date\",\"placeholder\":\"请选择下单结束时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.pickUpTime),callback:function ($$v) {_vm.$set(_vm.searchContent, \"pickUpTime\", $$v)},expression:\"searchContent.pickUpTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"SKU编码/商品名称\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"SKU编码/商品名称\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.searchValue),callback:function ($$v) {_vm.$set(_vm.searchContent, \"searchValue\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.searchValue\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否顺丰仓现货\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择状态\",\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.sfInStock),callback:function ($$v) {_vm.$set(_vm.searchContent, \"sfInStock\", $$v)},expression:\"searchContent.sfInStock\"}},_vm._l((_vm.sfInStockOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"供应商专供\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"供应商专供\",\"size\":\"small\",\"clearable\":\"\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.vendorCode),callback:function ($$v) {_vm.$set(_vm.searchContent, \"vendorCode\", $$v)},expression:\"searchContent.vendorCode\"}},_vm._l((_vm.vendorList),function(item){return _c('el-option',{key:item.vendorNo,attrs:{\"label\":item.vendorName,\"value\":item.vendorNo}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"loading\":_vm.exportLoading},on:{\"click\":_vm.exportData}},[_vm._v(\"导出\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\",\"show-summary\":\"\",\"summary-method\":_vm.getSummaries},on:{\"sort-change\":_vm.sortChange}},[_c('el-table-column',{attrs:{\"min-width\":\"80px\",\"prop\":\"cityName\",\"label\":\"城市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"门店\",\"min-width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('p',[_vm._v(_vm._s(scope.row.storeName))]),_vm._v(\" \"),_c('p',{staticClass:\"erp-p-no\"},[_vm._v(\"ERP编码：\"+_vm._s(scope.row.storeNo))])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"所属团长店\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.storeLeaderId)?_c('p',[_vm._v(_vm._s(scope.row.storeLeaderId)+\"_\"+_vm._s(scope.row.virtualStoreName)+\"_\"+_vm._s(scope.row.userName))]):_c('p',[_vm._v(\"-\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"商品信息\",\"min-width\":\"236px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"p-m-w\"},[_c('div',{staticClass:\"img-w\"},[(scope.row.imgUrl && scope.row.imgUrl != '')?_c('img',{attrs:{\"src\":scope.row.imgUrl,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}}):_c('img',{attrs:{\"src\":\"/shop/static/img_error.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"p-m-c-r\"},[_c('div',[_vm._v(_vm._s(scope.row.goodsName))]),_vm._v(\" \"),_c('div',{staticClass:\"erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo || '--'))]),_vm._v(\" \"),(scope.row.vendorName)?_c('el-tag',{attrs:{\"type\":\"warning\",\"size\":\"mini\"}},[_vm._v(_vm._s(scope.row.vendorName))]):_vm._e()],1)])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"spec\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"businessTypeStr\",\"label\":\"业务类型\",\"formatter\":_vm.emptyFormatter}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"label\":\"销售量\",\"prop\":\"quantity\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"order-id\",on:{\"click\":function($event){return _vm.goSearchRes(scope.row, 'QUANTITY')}}},[_vm._v(\"\\n            \"+_vm._s(scope.row.quantity)+\"\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120px\",\"prop\":\"amount\",\"label\":\"销售额\"}}),_vm._v(\" \"),(_vm.searchContent.platformId !== 5)?_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"prop\":\"summarizeQty\",\"formatter\":_vm.emptyFormatter,\"render-header\":_vm.summarizeQtyHeader}}):_vm._e(),_vm._v(\" \"),(_vm.searchContent.platformId !== 5)?_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"prop\":\"receiveQty\",\"formatter\":_vm.emptyFormatter,\"render-header\":_vm.receiveQtyHeader}}):_vm._e(),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"label\":\"已核销\",\"prop\":\"completeQty\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"order-id\",on:{\"click\":function($event){return _vm.goSearchRes(scope.row, 'COMPLETEQTY')}}},[_vm._v(\"\\n            \"+_vm._s(scope.row.completeQty)+\"\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"label\":\"已退\",\"prop\":\"refundQty\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"order-id\",on:{\"click\":function($event){return _vm.goSearchRes(scope.row, 'REFUNDQTY')}}},[_vm._v(\"\\n            \"+_vm._s(scope.row.refundQty)+\"\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"label\":\"待核销\",\"prop\":\"awaitQty\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"order-id\",on:{\"click\":function($event){return _vm.goSearchRes(scope.row, 'AWAITQTY')}}},[_vm._v(\"\\n            \"+_vm._s(scope.row.awaitQty)+\"\\n          \")])]}}])})],1),_vm._v(\" \"),(_vm.tableData.length>0)?_c('el-pagination',{staticClass:\"tc mt20\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":_vm.pageSizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45eb3f6d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/OrderMgt/StorePreGoodsSum.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45eb3f6d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./StorePreGoodsSum.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StorePreGoodsSum.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StorePreGoodsSum.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45eb3f6d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./StorePreGoodsSum.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/OrderMgt/StorePreGoodsSum.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}