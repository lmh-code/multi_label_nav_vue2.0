{"version":3,"sources":["webpack:///src/components/Activity/StoreAct/BK/EditBKPage.vue","webpack:///./src/components/Activity/StoreAct/BK/EditBKPage.vue?8ee6","webpack:///./src/components/Activity/StoreAct/BK/EditBKPage.vue"],"names":["fileUrlList","reqUrl","numReg","salePriceReg","EditBKPage","data","status","optType","pickerOptions","disabledDate","time","getTime","Date","now","isDisabled","addParamMesg","DIFFCITY","platformId","regionCode","localStorage","get","id","activityType","activityTypeName","activityName","activityStartDate","activityEndDate","activityCode","activityStoreList","activityStoreGroupList","checkedList","imageUploadLoading","currentUpFileIdx","performanceDate","activityStoresCheckedList","tempConfig","platformCityGoodsId","goodsNo","skuNo","activityGoodsName","price","preSalePrice","platformCurStock","limitCount","sortNum","sfInStockStr","showTipErrorMsg","hasErrorMsgData","saveErrorMsgList","saveErrTempConfig","goodsName","storeNo","storeName","beforeRouteEnter","to","from","next","params","type","meta","breadcrumbList","name","path","created","this","activityId","$route","query","parseInt","getDetail","components","excel-add","AddByExcel","choose-store","ChooseStore","choose-goods","ChooseGoods","methods","_methods","_this","utils","$http","post","then","res","code","Error","msg","createGoodsMesg","regionName","storeGroupVos","length","map","item","performanceDatetime","substr","storeVos","platCityGoodsVos","forEach","disabled","sfInStock","catch","e","$notify","error","title","message","chooseStoreOpen","groupIndex","_params","otherCheckedList","getCheckedStores","$refs","chooseStore","setDefault","showExcelBatchInsertDialog","excelAdd","_val","setDefaultMsg","goAddGoodsDialog","chooseGoods","confirmChooseStore","_value","confirmChooseGoods","val","deleteItem","row","resCheckedListArr","filter","JSON","parse","stringify_default","deleteStoreItem","erpStoreNo","checkedStoreList","setItemIdx","idx","emitUpload","_this2","getToken","qiniu_min","file","fileName","token","subscribe","complete","urlImage","key","checkedListArr","concat","toConsumableArray_default","preSaleImageUrl","imageUploadReg","isPic","indexOf","isJPG","isSizeNum","size","$message","_this3","doSaveHandel","_this4","activityStartDateNum","replace","activityEndDateNum","i","index","storeNoList","k","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","done","value","err","return","goodsReqListArr","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_item","parseFloat","test","groupPrice","curStock","limitGoodsCount","goodsReqListItem","goodsId","spec","push","platCityGoodsInfos","requestUrl","extends_default","setTimeout","typeof_default","$alert","dangerouslyUseHTMLString","showCancelButton","cancelButtonText","showConfirmButton","confirmButtonText","downLoadSaveErrorMsg","success","$router","doCancelHandel","_this5","$confirm","doAddStoreGroupHandel","doMinusStoreGroupHandel","splice","sfInStockHeader","h","$createElement","attrs","placement","width","trigger","slot","class","doConfirmHandel","_this6","excelDataList","dataList","closeDisabled","closeDialog","some","msgType","checkedListTemp","j","hash","reduceRight","defineProperty_default","_this7","downloadExcelConfig","msgTypeStr","tHeader","filterVal","exportExcel","ExportJsonToExcel","header","filename","excludeIdx","allCheckedStores","_this8","beforeRouteLeave","keepAlive","BK_EditBKPage","render","_vm","_h","_c","_self","staticClass","ref","model","label-width","label","required","staticStyle","color","font-size","font-weight","_v","_s","callback","$$v","$set","expression","_e","placeholder","clearable","format","value-format","picker-options","_l","icon","on","click","$event","empty-text","max-height","min-width","scopedSlots","_u","fn","scope","erpStoreName","prop","align","circle","action","show-file-list","before-upload","http-request","directives","rawName","src","render-header","fixed","visible","close-on-click-modal","close-on-press-escape","update:visible","downLoadErrorMsg","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"+TAsVAA,EACA,8BAEAC,EAEA,sDAFAA,EAIA,gCAJAA,EAMA,iCANAA,EAQA,mCAEAC,EAAA,sBACAC,EAAA,oCAEAC,GACAC,KADA,WAEA,OACAC,OAAA,EACAC,QAAA,GACAC,eACAC,aADA,SACAC,GACA,OAAAA,EAAAC,UAAAC,KAAAC,MAAA,QAGAC,YAAA,EACAC,cACAC,UAAA,EACAC,WAAA,EACAC,WAAAC,EAAA,EAAAC,IAAA,kBACAC,GAAA,GACAC,aAAA,GACAC,iBAAA,OACAC,aAAA,GACAC,kBAAA,GACAC,gBAAA,GACAC,aAAA,GAEAC,qBAEAC,2BAGAC,eAEAC,oBAAA,EACAC,kBAAA,EAEAH,yBAEAI,gBAAA,GACAC,+BAGAA,6BACAC,YACAC,oBAAA,aACAC,QAAA,YACAC,MAAA,cACAC,kBAAA,iBACAC,MAAA,SACAC,aAAA,UACAC,iBAAA,iBACAC,WAAA,mBACAC,QAAA,SACAC,aAAA,uBAGAC,iBAAA,EAEAC,mBACAC,oBACAC,mBACAX,MAAA,UACAY,UAAA,OACAC,QAAA,OACAC,UAAA,UAIAC,iBAjEA,SAiEAC,EAAAC,EAAAC,GACA,SAAAF,EAAAG,OAAAC,KACAJ,EAAAK,KAAAC,iBACAC,KAAA,OAAAC,KAAA,KACAD,KAAA,OAAAC,KAAA,eACAD,KAAA,OAAAC,KAAA,KAEA,SAAAR,EAAAG,OAAAC,OACAJ,EAAAK,KAAAC,iBACAC,KAAA,OAAAC,KAAA,KACAD,KAAA,OAAAC,KAAA,eACAD,KAAA,OAAAC,KAAA,MAGAN,KAEAO,QAjFA,WAkFAC,KAAAjD,aAAAkD,WAAAD,KAAAE,OAAAT,OAAAQ,WACAD,KAAAzD,QAAAyD,KAAAE,OAAAT,OAAAC,KACAM,KAAA1D,OAAA0D,KAAAE,OAAAC,MAAA7D,OAAA8D,SAAAJ,KAAAE,OAAAC,MAAA7D,QAAA,EACA0D,KAAAK,aAEAC,YACAC,YAAAC,EAAA,EACAC,eAAAC,EAAA,EACAC,eAAAC,EAAA,GAEAC,SAAAC,GAKAT,UALA,WAKA,IAAAU,EAAAf,KACAC,EAAAD,KAAAjD,aAAAkD,YAAA,GACMe,EAAA,IACNhB,KAAAiB,MAAAC,KAAAjF,GAAAgE,aAAAjD,UAAA,IAAAmE,KAAA,SAAAC,GAEA,GADQJ,EAAA,IACR,IAAAI,EAAAC,KA+BA,UAAAC,MAAAF,EAAAG,KA9BA,GAAAH,EAAA/E,KAAA,CACA,IAAAmF,EAAAJ,EAAA/E,KACA0E,EAAAhE,aAAAM,GAAAmE,EAAAnE,GACA0D,EAAAhE,aAAAkD,WAAAuB,EAAAnE,GACA0D,EAAAhE,aAAAG,WAAAsE,EAAAtE,YAAA,GACA6D,EAAAhE,aAAA0E,WAAAD,EAAAC,YAAA,GACAV,EAAAhE,aAAAO,aAAAkE,EAAAlE,cAAA,GACAyD,EAAAhE,aAAAQ,iBAAAiE,EAAAjE,kBAAA,GACAwD,EAAAhE,aAAAS,aAAAgE,EAAAhE,cAAA,GACAuD,EAAAhE,aAAAU,kBAAA+D,EAAA/D,mBAAA,GACAsD,EAAAhE,aAAAW,gBAAA8D,EAAA9D,iBAAA,GACAqD,EAAAhE,aAAAY,aAAA6D,EAAA7D,cAAA,GACAoD,EAAA7C,0BAAAsD,EAAAE,eAAAF,EAAAE,cAAAC,OAAAH,EAAAE,iBAEAX,EAAAlD,uBAAA2D,EAAAE,cAAAE,IAAA,SAAAC,GACA,OACA5D,gBAAA4D,EAAAC,oBAAAD,EAAAC,oBAAAC,OAAA,SACA7D,0BAAA2D,EAAAG,YAGAR,EAAAS,kBAAAT,EAAAS,iBAAAN,SACAH,EAAAS,iBAAAC,QAAA,SAAAL,GACAA,EAAAM,SAAA,IAAApB,EAAAzE,QAAA,IAAAyE,EAAAzE,OACAuF,EAAAO,UAAAP,EAAAO,YAEArB,EAAAjD,YAAA0D,EAAAS,qBAMAI,MAAA,SAAAC,GACQtB,EAAA,IACRD,EAAAwB,QAAAC,OACAC,MAAA,KACAC,QAAAJ,EAAAI,aAQAC,gBAtDA,SAsDAC,GACA,IAAAC,GACAJ,MAAA,OACAxF,WAAA+C,KAAAjD,aAAAE,WACAC,WAAA8C,KAAAjD,aAAAG,WACA0F,aACA9E,YAAAkC,KAAAnC,uBAAA+E,GAAA1E,0BACA4E,iBAAA9C,KAAA+C,iBAAAH,IAEA5C,KAAAgD,MAAAC,YAAAC,WAAAL,IAEAM,2BAjEA,WAkEA,GAAAnD,KAAAgD,MAAAI,SAAA,CACA,IAAAC,GACAZ,MAAA,aACAtE,WAAA6B,KAAA7B,YAEA6B,KAAAgD,MAAAI,SAAAE,cAAAD,KAOAE,iBA9EA,WA+EA,GAAAvD,KAAAgD,MAAAQ,YAAA,CACA,IAAAX,GACAJ,MAAA,OACAvF,WAAA8C,KAAAjD,aAAAG,WACAY,YAAAkC,KAAAlC,aAEAkC,KAAAgD,MAAAQ,YAAAN,WAAAL,KAQAY,mBA7FA,SA6FAC,GACA,IAAAxF,EAAAwF,EAAA5F,gBACA8E,EAAAc,EAAAd,YAAA,EACA5C,KAAAnC,uBAAA+E,GAAA1E,6BAOAyF,mBAvGA,SAuGAC,GACA5D,KAAAlC,YAAA8F,EAAA9F,aAAA8F,EAAA9F,YAAA6D,OAAAiC,EAAA9F,gBAOA+F,WA/GA,SA+GAC,GACA,IAAA1F,EAAA0F,EAAA1F,oBACA2F,EAAA/D,KAAAlC,YAAAkG,OAAA,SAAAnC,GACA,OAAAA,EAAAzD,yBAEA4B,KAAAlC,YAAAmG,KAAAC,MAAAC,IAAAJ,KAOAK,gBA3HA,SA2HAxB,EAAAkB,GACA,IAAAO,EAAAP,EAAAO,WACAC,EAAAtE,KAAAnC,uBAAA+E,GAAA1E,0BAEA8B,KAAAnC,uBAAA+E,GAAA1E,0BAAAoG,EAAAN,OAAA,SAAAnC,GACA,OAAAA,EAAAwC,kBAQAE,WAxIA,SAwIAC,GACAxE,KAAAjC,qBACAiC,KAAAhC,iBAAAwG,IAOAC,WAjJA,SAiJAnC,GAAA,IAAAoC,EAAA1E,KACAA,KAAAjC,oBAAA,EACAiC,KAAA2E,WAAAxD,KAAA,SAAAC,GAEAwD,EAAA,OAAAtC,EAAAuC,KAAAzD,EAAA0D,SAAA1D,EAAA2D,OACAC,WACAxC,MAAA,WACAkC,EAAA3G,oBAAA,GAEAkH,SAAA,SAAA7D,GAEA,IAAA8D,EAAA,qCAAA9D,EAAA+D,IACAT,EAAA3G,oBAAA,EAEA,IAAAqH,KAAAC,OAAAC,IAAAZ,EAAA5G,cACAsH,EAAAlD,QAAA,SAAAL,GACAA,EAAAxD,UAAAqG,EAAA1G,mBACA6D,EAAA0D,gBAAAL,KAGAR,EAAA5G,YAAAsH,GAEA5F,KAAA,SAAA4B,UAWAoE,eAlLA,SAkLAX,GACA,IAAAY,GAAA,IAAAZ,EAAAnF,KAAAgG,QAAA,UACAC,EAAA,eAAAd,EAAAnF,MAAA,YACAkG,EAAAf,EAAAgB,MAAA,OAIA,OAHAJ,GAAAE,GAAAC,GACA5F,KAAA8F,SAAAtD,MAAA,yCAEAiD,GAAAE,GAAAC,GAMAjB,SA/LA,WA+LA,IAAAoB,EAAA/F,KACA,OAAAA,KAAAiB,MAAAC,KAAAlF,MAAAmF,KAAA,SAAAC,GACA,MAAAA,EAAAC,KAAA,CACA,IAAA0D,EAAA3D,EAAA/E,KAAA0I,MAEA,OAAAD,SADA1D,EAAA/E,KAAA8I,IACAJ,SAEA,UAAAzD,MAAAF,EAAAG,OACAc,MAAA,SAAAC,GACAyD,EAAAhI,oBAAA,EACAgI,EAAAxD,QAAAC,OACAC,MAAA,cACAC,QAAAJ,EAAAI,aASAsD,aApNA,WAoNA,IAAAC,EAAAjG,KACA,GAAAA,KAAAjD,aAAAS,aAGA,GAAAwC,KAAAjD,aAAAS,aAAAmE,OAAA,GACA3B,KAAA8F,SAAA,oBAGA,GAAA9F,KAAAjD,aAAAU,kBAIA,GAAAuC,KAAAjD,aAAAW,gBAAA,CAIA,IAAAwI,EAAAtJ,KAAAsH,MAAA,IAAAtH,KAAAoD,KAAAjD,aAAAU,kBAAA0I,QAAA,aACAC,EAAAxJ,KAAAsH,MAAA,IAAAtH,KAAAoD,KAAAjD,aAAAW,gBAAAyI,QAAA,aAEA,GAAAD,GADA,IAAAtJ,MAAAD,WACA,IAAAqD,KAAA1D,OACA0D,KAAA8F,SAAA,uBAGA,GAAAI,EAAAE,GAAA,IAAApG,KAAA1D,OACA0D,KAAA8F,SAAA,sBADA,CAIA9F,KAAAjD,aAAAc,uBAAAmC,KAAAnC,uBAAA+D,IAAA,SAAAyE,EAAA7B,GACA,OACA8B,MAAA9B,EACAvG,gBAAAoI,EAAApI,gBACAsI,YAAAF,EAAAnI,0BAAA0D,IAAA,SAAA4E,GACA,OAAAA,EAAAnC,gBAhCA,IAAAoC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAoCA,QAAAC,EAAAC,EAAAC,IAAA/G,KAAAjD,aAAAc,0BAAA4I,GAAAI,EAAAC,EAAAtH,QAAAwH,MAAAP,GAAA,OAAA5E,EAAAgF,EAAAI,MACA,IAAApF,EAAA0E,cAAA1E,EAAA0E,YAAA5E,OAEA,YADA3B,KAAA8F,SAAA,oBAAAjE,EAAAyE,MAAA,cAGA,IAAAzE,EAAA5D,gBASA,YADA+B,KAAA8F,SAAA,oBAAAjE,EAAAyE,MAAA,cANA,GAAAF,EADAxJ,KAAAsH,MAAA,IAAAtH,MAAAiF,EAAA5D,gBAAA,aAAAkI,QAAA,aAGA,YADAnG,KAAA8F,SAAA,iBAAAjE,EAAAyE,MAAA,wBAGAzE,EAAAC,oBAAAD,EAAA5D,gBAAA,aA/CA,MAAAiJ,GAAAR,GAAA,EAAAC,EAAAO,EAAA,aAAAT,GAAAK,EAAAK,QAAAL,EAAAK,SAAA,WAAAT,EAAA,MAAAC,GAqDA3G,KAAAjD,aAAAa,kBAAAoC,KAAA+C,mBAAAnB,IAAA,SAAAC,GACA,OAAAA,EAAAwC,aAEA,IAAA+C,KAxDAC,GAAA,EAAAC,GAAA,EAAAC,OAAAX,EAAA,IAyDA,QAAAY,EAAAC,EAAAV,IAAA/G,KAAAlC,eAAAuJ,GAAAG,EAAAC,EAAAjI,QAAAwH,MAAAK,GAAA,OAAAK,EAAAF,EAAAP,MACA,IAAAS,EAAAnC,gBAEA,YADAvF,KAAA8F,SAAA,OAAA4B,EAAAxI,UAAA,UAGA,IAAAwI,EAAAnJ,kBAEA,YADAyB,KAAA8F,SAAA,OAAA4B,EAAAxI,UAAA,YAGA,IAAAwI,EAAAlJ,OAAA,GAAAmJ,WAAAD,EAAAlJ,OAEA,YADAwB,KAAA8F,SAAA,OAAA4B,EAAAxI,UAAA,QAGA,IAAA/C,EAAAyL,KAAAF,EAAAlJ,QAAA,GAAAkJ,EAAAlJ,MAEA,YADAwB,KAAA8F,SAAA,qBAIA,IAAA4B,EAAAG,YAAA,GAAAF,WAAAD,EAAAG,YAEA,YADA7H,KAAA8F,SAAA,OAAA4B,EAAAxI,UAAA,SAGA,IAAA/C,EAAAyL,KAAAF,EAAAG,aAAA,GAAAH,EAAAG,WAEA,YADA7H,KAAA8F,SAAA,sBAIA,GAAA6B,WAAAD,EAAAG,aAAAF,WAAAD,EAAAlJ,OAEA,YADAwB,KAAA8F,SAAA,IAAA4B,EAAAxI,UAAA,eAGA,MAAAwI,EAAAI,UAAAJ,EAAAI,WACA5L,EAAA0L,KAAAF,EAAAI,UAEA,YADA9H,KAAA8F,SAAA,IAAA4B,EAAAxI,UAAA,kBAIA,MAAAwI,EAAAK,iBAAAL,EAAAK,gBAAA,CACA,IAAA7L,EAAA0L,KAAAF,EAAAK,iBAOA,YADA/H,KAAA8F,SAAA,IAAA4B,EAAAxI,UAAA,eALA,GAAAwI,EAAAK,gBAAA,EAEA,YADA/H,KAAA8F,SAAA,IAAA4B,EAAAxI,UAAA,eAQA,MAAAwI,EAAA9I,SAAA8I,EAAA9I,QAAA,CACA,IAAA1C,EAAA0L,KAAAF,EAAA9I,SAOA,YADAoB,KAAA8F,SAAA,IAAA4B,EAAAxI,UAAA,2BALA,GAAAwI,EAAA9I,QAAA,GAAA8I,EAAA9I,QAAA,IAEA,YADAoB,KAAA8F,SAAA,IAAA4B,EAAAxI,UAAA,2BAQA,IAAA8I,GACAzC,gBAAAmC,EAAAnC,gBACA0C,QAAAP,EAAAO,QACA5J,QAAAqJ,EAAArJ,QACAC,MAAAoJ,EAAApJ,MACAY,UAAAwI,EAAAxI,UACAX,kBAAAmJ,EAAAnJ,kBACAC,MAAAkJ,EAAAlJ,MACAqJ,WAAAH,EAAAG,WACAC,SAAAJ,EAAAI,SACAC,gBAAAL,EAAAK,gBACAnJ,QAAA8I,EAAA9I,QACAsJ,KAAAR,EAAAQ,KACA9J,oBAAAsJ,EAAAtJ,oBACAgE,UAAAsF,EAAAtF,WAEAgF,EAAAe,KAAAH,IApIA,MAAAd,GAAAI,GAAA,EAAAC,EAAAL,EAAA,aAAAG,GAAAI,EAAAN,QAAAM,EAAAN,SAAA,WAAAG,EAAA,MAAAC,GAsIA,OAAAH,EAAAzF,OAAA,CAIA3B,KAAAjD,aAAAqL,mBAAAhB,EACA,IAAAiB,EAAA,GACA,YAAArI,KAAAzD,QACA8L,EAAApM,MACA,aAAA+D,KAAAzD,QAMA,YADAyD,KAAA8F,SAAA,WAJAuC,EAAApM,SACA+D,KAAAjD,aAAAkD,kBACAD,KAAAjD,aAAAM,GAKA2C,KAAAlD,YAAA,EACAkD,KAAAiB,MAAAC,KAAAmH,EAAAC,OAAAtI,KAAAjD,eAAAoE,KAAA,SAAAC,GAKA,GAHAmH,WAAA,WACAtC,EAAAnJ,YAAA,GACA,KACA,IAAAsE,EAAAC,KAkBA,UAAAC,MAAAF,EAAAG,KAjBAH,EAAA/E,MAAA,WAAAmM,IAAApH,EAAA/E,OAAA+E,EAAA/E,KAAAsF,OAAA,EACAsE,EAAAwC,OAAA,yEACAC,0BAAA,EACAC,kBAAA,EACAC,iBAAA,OACAC,mBAAA,EACAC,kBAAA,OACA3H,KAAA,cAAAkB,MAAA,WACA4D,EAAAjH,iBAAAoC,EAAA/E,KACA4J,EAAA8C,0BAGA9C,EAAAH,SAAAkD,QAAA,QACA/C,EAAAgD,QAAAd,KAAA,iBAKA9F,MAAA,SAAAC,GACA2D,EAAAnJ,YAAA,EACAmJ,EAAA1D,QAAAC,OACAC,MAAA,KACAC,QAAAJ,EAAAI,iBA5CA1C,KAAA8F,SAAA,kBA1HA9F,KAAA8F,SAAA,kBAJA9F,KAAA8F,SAAA,kBAPA9F,KAAA8F,SAAA,YAqLAoD,eA3YA,WA2YA,IAAAC,EAAAnJ,KACAA,KAAAoJ,SAAA,eACAN,kBAAA,KACAF,iBAAA,KACAlJ,KAAA,YACAyB,KAAA,WACAgI,EAAAF,QAAAd,KAAA,gBACA9F,MAAA,eAOAgH,sBAzZA,WA8ZArJ,KAAAnC,uBAAAsK,MAHAlK,gBAAA,GACAC,gCAIAoL,wBAhaA,SAgaAhD,GACAtG,KAAAnC,uBAAA0L,OAAAjD,EAAA,IAEAkD,gBAnaA,WAmaA,IAAAC,EAAAzJ,KAAA0J,eACA,OACAD,EAAA,cAAAE,OACAC,UAAA,YACAC,MAAA,MACAC,QAAA,WACAL,EAAA,OACAA,EAAA,mCACAA,EAAA,yBAEAA,EAAA,QAAAM,KAAA,yBAAAN,EAAA,KAAAO,MAAA,0BASAC,gBAtbA,SAsbAhD,GAAA,IAAAiD,EAAAlK,KACAmK,EAAAlD,EAAAmD,aACAD,EAAAjI,QAAA,SAAAL,GACAA,EAAAvE,aAAA,KAEA0C,KAAAiB,MAAAC,KAAAjF,KAAAoJ,OAAAC,IAAA6E,KAAAhJ,KAAA,SAAAC,GAGA,GAFA8I,EAAAlH,MAAAI,SAAAiH,gBACAH,EAAAlH,MAAAI,SAAAkH,cACA,IAAAlJ,EAAAC,KAoCA,UAAAC,MAAAF,EAAAG,KA1BA,GATA2I,EAAAnL,gBAAAqC,EAAA/E,MAAA+E,EAAA/E,KAAAsF,OAAAP,EAAA/E,QACA6N,EAAAnL,gBAAAmD,QAAA,SAAAL,GACAA,EAAAgG,WAAAhG,EAAApD,aACAoD,EAAAiG,SAAAjG,EAAAnD,iBACAmD,EAAAkG,gBAAAlG,EAAAlD,aAEAuL,EAAAnL,gBAAAwL,KAAA,SAAA1I,GACA,WAAAA,EAAA2I,UAGAN,EAAApL,iBAAA,MACA,CACA,IAAA2L,KAAApF,OAAAC,IAAA4E,EAAApM,cACA2M,EAAAvI,QAAA,SAAAmE,GACA6D,EAAAnL,gBAAAmD,QAAA,SAAAwI,GACArE,EAAA4B,UAAAyC,EAAAzC,SAAA5B,EAAAhI,UAAAqM,EAAArM,SAAAgI,EAAAjI,sBAAAsM,EAAAtM,qBAAAiI,EAAA/H,QAAAoM,EAAApM,QACA+H,EAAA9H,kBAAAmM,EAAAnM,kBACA8H,EAAAd,gBAAAmF,EAAAnF,gBACAc,EAAA7H,MAAAkM,EAAAlM,MACA6H,EAAAwB,WAAA6C,EAAA7C,WACAxB,EAAAyB,SAAA4C,EAAA5C,SACAzB,EAAA0B,gBAAA2C,EAAA3C,gBACA1B,EAAAzH,QAAA8L,EAAA9L,QACAyH,EAAAjE,UAAAsI,EAAAtI,eAIA,IAAAuI,KACAT,EAAApM,eAAAuH,OAAAC,IAAAmF,GAAAnF,IAAA4E,EAAAnL,kBAAA6L,YAAA,SAAA/I,EAAArC,GAEA,OADAmL,EAAAnL,EAAApB,uBAAAuM,EAAAnL,EAAApB,qBAAAyD,EAAAsG,KAAA3I,IACAqC,UAMAQ,MAAA,SAAAC,GACA4H,EAAAlH,MAAAI,SAAAiH,gBACAH,EAAAlH,MAAAI,SAAAkH,cACAJ,EAAA3H,QAAAC,OACAC,MAAA,KACAC,QAAAJ,EAAAI,cAxeAmI,IAAA/J,EAAA,wCA6eA,GAAAd,KAAAgD,MAAAI,SAAA,CACA,IAAAC,GACAZ,MAAA,aACAtE,WAAA6B,KAAA7B,YAEA6B,KAAAgD,MAAAI,SAAAE,cAAAD,MAlfAwH,IAAA/J,EAAA,8BAqfA,IAAAgK,EAAA9K,KACA+K,EAAAzC,OAAAtI,KAAA7B,YACA4M,EAAAC,WAAA,OACAD,EAAAxJ,IAAA,OACAvB,KAAAjB,gBAAAmD,QAAA,SAAAL,GACAA,EAAAmJ,WAAA,IAAAnJ,EAAA2I,QAAA,cACA3I,EAAAhD,aAAAgD,EAAAO,UAAA,UAEA,IAAA6I,EAAAjK,EAAA,EAAA+J,GAAA,GACAG,EAAAlK,EAAA,EAAA+J,GAAA,GACII,EAAA,EAAJC,mBACAC,OAAAJ,EACAC,YACA7O,KAAA2D,KAAAjB,gBACAuM,SAAA,gBAEA/C,WAAA,WACAuC,EAAAvI,QAAAyG,SACAvG,MAAA,OACAC,QAAA,oBAEAoI,EAAAhO,YAAA,GACA,OA3gBA+N,IAAA/J,EAAA,4BAkhBAyK,GACA,IAAAC,KAYA,OAXAD,GAAA,IAAAA,EACAvL,KAAAnC,uBAAAqE,QAAA,SAAAL,EAAA2C,GACAA,GAAA+G,IACAC,KAAAnG,OAAAC,IAAAkG,GAAAlG,IAAAzD,EAAA3D,+BAIA8B,KAAAnC,uBAAAqE,QAAA,SAAAL,GACA2J,KAAAnG,OAAAC,IAAAkG,GAAAlG,IAAAzD,EAAA3D,8BAGAsN,IA/hBAX,IAAA/J,EAAA,kCAiiBA,IAAA2K,EAAAzL,KACA+K,EAAAzC,OAAAtI,KAAAf,mBACAgM,EAAAjK,EAAA,EAAA+J,GAAA,GACAG,EAAAlK,EAAA,EAAA+J,GAAA,GACII,EAAA,EAAJC,mBACAC,OAAAJ,EACAC,YACA7O,KAAA2D,KAAAhB,iBACAsM,SAAA,eAEA/C,WAAA,WACAkD,EAAAlJ,QAAAyG,SACAvG,MAAA,OACAC,QAAA,oBAEA,OAhjBA5B,GA0jBA4K,iBAtpBA,SAspBApM,EAAAC,EAAAC,GACAF,EAAAK,KAAAgM,WAAA,EACAnM,MC3/BeoM,GADEC,OAFjB,WAA0B,IAAAC,EAAA9L,KAAa+L,EAAAD,EAAApC,eAA0BsC,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,OAAAA,EAAA,OAA2BE,YAAA,oBAA8BF,EAAA,WAAgBG,IAAA,OAAAxC,OAAkByC,MAAAN,EAAA/O,aAAAsP,cAAA,WAAgDL,EAAA,gBAAqBrC,OAAO2C,MAAA,OAAAC,SAAA,MAA8BP,EAAA,KAAUQ,aAAaC,MAAA,OAAAC,YAAA,OAAAC,cAAA,UAAwDb,EAAAc,GAAAd,EAAAe,GAAAf,EAAA/O,aAAAQ,uBAAAuO,EAAAc,GAAA,KAAAZ,EAAA,gBAAuFrC,OAAO2C,MAAA,OAAAC,SAAA,MAA8BP,EAAA,YAAiBE,YAAA,YAAAvC,OAA+B9D,KAAA,QAAA1D,SAAA,IAA6BiK,OAAQnF,MAAA6E,EAAA/O,aAAA,WAAA+P,SAAA,SAAAC,GAA6DjB,EAAAkB,KAAAlB,EAAA/O,aAAA,aAAAgQ,IAA8CE,WAAA,8BAAuC,GAAAnB,EAAAc,GAAA,cAAAd,EAAAvP,QAAAyP,EAAA,gBAA8DrC,OAAO2C,MAAA,OAAAC,SAAA,MAA8BP,EAAA,YAAiBE,YAAA,YAAAvC,OAA+B9D,KAAA,QAAA1D,SAAA,IAA6BiK,OAAQnF,MAAA6E,EAAA/O,aAAA,aAAA+P,SAAA,SAAAC,GAA+DjB,EAAAkB,KAAAlB,EAAA/O,aAAA,eAAAgQ,IAAgDE,WAAA,gCAAyC,GAAAnB,EAAAoB,KAAApB,EAAAc,GAAA,KAAAZ,EAAA,gBAA8CrC,OAAO2C,MAAA,OAAAC,SAAA,MAA8BP,EAAA,YAAiBE,YAAA,YAAAvC,OAA+B9D,KAAA,QAAAsH,YAAA,UAAAC,UAAA,GAAAjL,SAAA,IAAA2J,EAAAxP,QAAA,IAAAwP,EAAAxP,QAAsG8P,OAAQnF,MAAA6E,EAAA/O,aAAA,aAAA+P,SAAA,SAAAC,GAA+DjB,EAAAkB,KAAAlB,EAAA/O,aAAA,eAAAgQ,IAAgDE,WAAA,+BAAyCnB,EAAAc,GAAA,KAAAZ,EAAA,QAAAF,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAAZ,EAAA,gBAAqFrC,OAAO2C,MAAA,OAAAC,SAAA,MAA8BP,EAAA,kBAAuBE,YAAA,YAAAvC,OAA+BjK,KAAA,WAAAyN,YAAA,YAAAE,OAAA,sBAAAC,eAAA,sBAAAzH,KAAA,QAAA0H,iBAAAzB,EAAAtP,cAAA2F,SAAA,IAAA2J,EAAAxP,QAAA,IAAAwP,EAAAxP,QAAkN8P,OAAQnF,MAAA6E,EAAA/O,aAAA,kBAAA+P,SAAA,SAAAC,GAAoEjB,EAAAkB,KAAAlB,EAAA/O,aAAA,oBAAAgQ,IAAqDE,WAAA,oCAA8CnB,EAAAc,GAAA,KAAAZ,EAAA,QAAAF,EAAAc,GAAA,gBAAAd,EAAAc,GAAA,KAAAZ,EAAA,gBAA+ErC,OAAO2C,MAAA,OAAAC,SAAA,MAA8BP,EAAA,kBAAuBE,YAAA,YAAAvC,OAA+BjK,KAAA,WAAAyN,YAAA,YAAAE,OAAA,sBAAAC,eAAA,sBAAAzH,KAAA,QAAA0H,iBAAAzB,EAAAtP,cAAA2F,SAAA,IAAA2J,EAAAxP,QAAA,IAAAwP,EAAAxP,QAAkN8P,OAAQnF,MAAA6E,EAAA/O,aAAA,gBAAA+P,SAAA,SAAAC,GAAkEjB,EAAAkB,KAAAlB,EAAA/O,aAAA,kBAAAgQ,IAAmDE,WAAA,kCAA4CnB,EAAAc,GAAA,KAAAZ,EAAA,QAAAF,EAAAc,GAAA,gBAAAd,EAAAc,GAAA,KAAAZ,EAAA,gBAA+ErC,OAAO2C,MAAA,UAAAC,SAAA,KAAiCT,EAAA0B,GAAA1B,EAAA,gCAAAjK,EAAAyE,GAA0D,OAAA0F,EAAA,OAAiB7G,IAAAmB,EAAA4F,YAAA,2BAAAlC,MAAA1D,EAAA,gBAAiF0F,EAAA,OAAYE,YAAA,eAAyBF,EAAA,OAAAA,EAAA,QAAAF,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAAZ,EAAA,aAAoErC,OAAO9D,KAAA,QAAA4H,KAAA,eAAAtL,SAAA,IAAA2J,EAAAxP,QAAA,IAAAwP,EAAAxP,QAAqFoR,IAAKC,MAAA,SAAAC,GAAyB,OAAA9B,EAAAnJ,gBAAA2D,OAAoCwF,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAA/K,EAAA3D,0BAAAyD,OAAA,EAAAqK,EAAA,OAAAA,EAAA,YAAoGE,YAAA,eAAAvC,OAAkCtN,KAAAwF,EAAA3D,0BAAA2P,aAAA,WAAAC,aAAA,MAAAjI,KAAA,WAAiGmG,EAAA,mBAAwBrC,OAAOoE,YAAA,QAAAzB,MAAA,WAAsC0B,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,OAAAF,EAAAc,GAAAd,EAAAe,GAAAsB,EAAArK,IAAAO,YAAA,IAAAyH,EAAAe,GAAAsB,EAAArK,IAAAsK,qBAA8F,WAAatC,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,KAAAM,KAAA,WAAA/B,MAAA,QAAiDR,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,KAAAM,KAAA,eAAA/B,MAAA,UAAuDR,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAO2E,MAAA,SAAAhC,MAAA,KAAAzC,MAAA,OAA4CmE,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,aAAwBrC,OAAOjK,KAAA,OAAAmG,KAAA,OAAA4H,KAAA,iBAAAtL,SAAA,IAAA2J,EAAAxP,QAAA,IAAAwP,EAAAxP,QAAoGoR,IAAKC,MAAA,SAAAC,GAAyB,OAAA9B,EAAA1H,gBAAAkC,EAAA6H,EAAArK,SAA+CgI,EAAAc,GAAA,YAAmB,YAAa,OAAAd,EAAAoB,MAAA,GAAApB,EAAAc,GAAA,KAAAZ,EAAA,OAA6CE,YAAA,SAAmBF,EAAA,QAAAF,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAAZ,EAAA,kBAA+DE,YAAA,eAAAvC,OAAkCjK,KAAA,OAAAyN,YAAA,UAAAE,OAAA,aAAAC,eAAA,aAAAzH,KAAA,QAAA0H,iBAAAzB,EAAAtP,cAAA2F,SAAA,IAAA2J,EAAAxP,QAAA,IAAAwP,EAAAxP,QAA0L8P,OAAQnF,MAAApF,EAAA,gBAAAiL,SAAA,SAAAC,GAAsDjB,EAAAkB,KAAAnL,EAAA,kBAAAkL,IAAuCE,WAAA,0BAAoCnB,EAAAc,GAAA,KAAAZ,EAAA,QAAAF,EAAAc,GAAA,yBAAAd,EAAAc,GAAA,KAAAZ,EAAA,OAA+EE,YAAA,cAAwBF,EAAA,aAAkBrC,OAAOjK,KAAA,UAAAmG,KAAA,OAAA4H,KAAA,eAAAc,OAAA,GAAApM,SAAA,IAAA2J,EAAAxP,QAAA,IAAAwP,EAAAxP,QAAiHoR,IAAKC,MAAA7B,EAAAzC,yBAAmCyC,EAAAc,GAAA,mBAAAd,EAAAjO,uBAAA8D,OAAA,EAAAqK,EAAA,aAAoFrC,OAAO9D,KAAA,OAAA4H,KAAA,gBAAAc,OAAA,GAAApM,SAAA,IAAA2J,EAAAxP,QAAA,IAAAwP,EAAAxP,QAAiGoR,IAAKC,MAAA,SAAAC,GAAyB,OAAA9B,EAAAxC,wBAAAhD,OAA4CwF,EAAAoB,MAAA,OAAiB,GAAApB,EAAAc,GAAA,KAAAZ,EAAA,gBAAoCrC,OAAO2C,MAAA,OAAAC,SAAA,MAA8BP,EAAA,aAAkBrC,OAAOjK,KAAA,UAAAmG,KAAA,OAAA4H,KAAA,gBAAqDC,IAAKC,MAAA7B,EAAAvI,oBAA8BuI,EAAAc,GAAA,UAAAd,EAAAc,GAAA,SAAAd,EAAAxP,QAAA,IAAAwP,EAAAxP,OAAA0P,EAAA,aAAsFrC,OAAO9D,KAAA,OAAA4H,KAAA,gBAAoCC,IAAKC,MAAA7B,EAAA3I,8BAAwC2I,EAAAc,GAAA,eAAAd,EAAAoB,KAAApB,EAAAc,GAAA,kBAAAZ,EAAA,QAAqEQ,aAAaC,MAAA,SAAeX,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAAZ,EAAA,QAAAF,EAAAc,GAAA,2CAAAd,EAAAc,GAAA,KAAAZ,EAAA,YAAuHE,YAAA,iCAAAM,aAA0D3C,MAAA,QAAeF,OAAQtN,KAAAyP,EAAAhO,YAAA+P,aAAA,WAAAC,aAAA,MAAAjI,KAAA,WAAkFmG,EAAA,mBAAwBrC,OAAOoE,YAAA,QAAAzB,MAAA,QAAmC0B,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,OAAkBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,UAAAwB,IAA0BC,MAAA,SAAAC,GAAyB,OAAA9B,EAAAvH,WAAA4J,EAAArK,IAAAzF,aAA2C2N,EAAA,aAAkBE,YAAA,+BAAAvC,OAAkD6E,OAAA,GAAAC,kBAAA,EAAAC,gBAAA5C,EAAAtG,eAAAmJ,eAAA7C,EAAArH,WAAAtC,SAAAgM,EAAArK,IAAA3B,YAAmI6J,EAAA,OAAY4C,aAAa/O,KAAA,UAAAgP,QAAA,YAAA5H,MAAA6E,EAAA/N,oBAAA+N,EAAA9N,kBAAAmQ,EAAArK,IAAAzF,QAAA4O,WAAA,kEAA0LkB,EAAArK,IAAA,gBAAAkI,EAAA,QAAAA,EAAA,OAAmDE,YAAA,kBAAAvC,OAAqCmF,IAAAX,EAAArK,IAAAyB,qBAAiCyG,EAAA,KAAYE,YAAA,8CAAmD,GAAAJ,EAAAc,GAAA,KAAAZ,EAAA,OAAgCE,YAAA,eAAyBF,EAAA,OAAAF,EAAAc,GAAA,yBAAAd,EAAAe,GAAAsB,EAAArK,IAAA5E,WAAA,gCAAA4M,EAAAc,GAAA,KAAAZ,EAAA,OAAgIE,YAAA,gBAA0BJ,EAAAc,GAAA,SAAAd,EAAAe,GAAAsB,EAAArK,IAAAzF,SAAA,SAAAyN,EAAAc,GAAA,KAAAZ,EAAA,OAA6EE,YAAA,gBAA0BJ,EAAAc,GAAA,QAAAd,EAAAe,GAAAsB,EAAArK,IAAA1F,qBAAA,SAAA0N,EAAAc,GAAA,KAAAZ,EAAA,OAAwFE,YAAA,gBAA0BJ,EAAAc,GAAA,QAAAd,EAAAe,GAAAsB,EAAArK,IAAAmE,SAAA,oBAA+D6D,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,QAAAM,KAAA,OAAA/B,MAAA,QAAgDR,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,QAAAzB,MAAA,UAAqC0B,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,OAAAA,EAAA,YAAiCrC,OAAOxH,SAAAgM,EAAArK,IAAA3B,SAAA0D,KAAA,QAAAsH,YAAA,QAAkEf,OAAQnF,MAAAkH,EAAArK,IAAA,kBAAAgJ,SAAA,SAAAC,GAA6DjB,EAAAkB,KAAAmB,EAAArK,IAAA,oBAAAiJ,IAA8CE,WAAA,kCAA2C,UAAWnB,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,QAAAzB,MAAA,UAAqC0B,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,OAAAA,EAAA,YAAiCrC,OAAO9D,KAAA,QAAAsH,YAAA,OAAAhL,SAAAgM,EAAArK,IAAA3B,UAAkEiK,OAAQnF,MAAAkH,EAAArK,IAAA,MAAAgJ,SAAA,SAAAC,GAAiDjB,EAAAkB,KAAAmB,EAAArK,IAAA,QAAAiJ,IAAkCE,WAAA,sBAA+B,UAAWnB,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,QAAAzB,MAAA,WAAsC0B,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,OAAAA,EAAA,YAAiCrC,OAAO9D,KAAA,QAAAsH,YAAA,QAAAhL,SAAAgM,EAAArK,IAAA3B,UAAmEiK,OAAQnF,MAAAkH,EAAArK,IAAA,WAAAgJ,SAAA,SAAAC,GAAsDjB,EAAAkB,KAAAmB,EAAArK,IAAA,aAAAiJ,IAAuCE,WAAA,2BAAoC,UAAWnB,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,QAAAzB,MAAA,YAAuC0B,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,OAAAA,EAAA,YAAiCrC,OAAO9D,KAAA,QAAAsH,YAAA,SAAAhL,SAAAgM,EAAArK,IAAA3B,UAAoEiK,OAAQnF,MAAAkH,EAAArK,IAAA,SAAAgJ,SAAA,SAAAC,GAAoDjB,EAAAkB,KAAAmB,EAAArK,IAAA,WAAAiJ,IAAqCE,WAAA,yBAAkC,UAAWnB,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,QAAAzB,MAAA,QAAmC0B,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,OAAAA,EAAA,YAAiCrC,OAAO9D,KAAA,QAAAsH,YAAA,OAAAhL,SAAAgM,EAAArK,IAAA3B,UAAkEiK,OAAQnF,MAAAkH,EAAArK,IAAA,gBAAAgJ,SAAA,SAAAC,GAA2DjB,EAAAkB,KAAAmB,EAAArK,IAAA,kBAAAiJ,IAA4CE,WAAA,gCAAyC,UAAWnB,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,QAAAzB,MAAA,QAAmC0B,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,OAAAA,EAAA,YAAiCrC,OAAO9D,KAAA,QAAAsH,YAAA,iBAAAhL,SAAAgM,EAAArK,IAAA3B,UAA4EiK,OAAQnF,MAAAkH,EAAArK,IAAA,QAAAgJ,SAAA,SAAAC,GAAmDjB,EAAAkB,KAAAmB,EAAArK,IAAA,UAAAiJ,IAAoCE,WAAA,wBAAiC,UAAWnB,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOoE,YAAA,QAAAgB,gBAAAjD,EAAAtC,iBAAwDwE,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,OAAAA,EAAA,YAAiCrC,OAAOxH,SAAAgM,EAAArK,IAAA3B,SAAAmK,OAAA,GAA2CF,OAAQnF,MAAAkH,EAAArK,IAAA,UAAAgJ,SAAA,SAAAC,GAAqDjB,EAAAkB,KAAAmB,EAAArK,IAAA,YAAAiJ,IAAsCE,WAAA,yBAAmCnB,EAAAc,GAAA,OAAAd,EAAAc,GAAA,KAAAZ,EAAA,YAA2CrC,OAAOxH,SAAAgM,EAAArK,IAAA3B,SAAAmK,OAAA,GAA4CF,OAAQnF,MAAAkH,EAAArK,IAAA,UAAAgJ,SAAA,SAAAC,GAAqDjB,EAAAkB,KAAAmB,EAAArK,IAAA,YAAAiJ,IAAsCE,WAAA,yBAAmCnB,EAAAc,GAAA,kBAAyBd,EAAAc,GAAA,KAAAZ,EAAA,mBAAoCrC,OAAOqF,MAAA,QAAAV,MAAA,SAAAhC,MAAA,KAAAzC,MAAA,MAA2DmE,YAAAlC,EAAAmC,KAAsB9I,IAAA,UAAA+I,GAAA,SAAAC,GAAiC,OAAAnC,EAAA,aAAwBrC,OAAOjK,KAAA,OAAAmG,KAAA,OAAA4H,KAAA,iBAAAtL,SAAAgM,EAAArK,IAAA3B,UAAkFuL,IAAKC,MAAA,SAAAC,GAAyB,OAAA9B,EAAAjI,WAAAsK,EAAArK,SAAmCgI,EAAAc,GAAA,gBAAsB,GAAAd,EAAAc,GAAA,KAAAZ,EAAA,KAAAA,EAAA,QAAqCQ,aAAaC,MAAA,SAAeX,EAAAc,GAAA,OAAAd,EAAAc,GAAA,kDAAAd,EAAAc,GAAA,KAAAZ,EAAA,KAAAA,EAAA,QAAwGQ,aAAaC,MAAA,SAAeX,EAAAc,GAAA,OAAAd,EAAAc,GAAA,4CAAAd,EAAAc,GAAA,KAAAZ,EAAA,MAAwFE,YAAA,cAAwBJ,EAAAc,GAAA,KAAAZ,EAAA,gBAAAA,EAAA,aAAiDrC,OAAOjK,KAAA,UAAAmG,KAAA,QAAA1D,SAAA2J,EAAAhP,WAAA2Q,KAAA3B,EAAAhP,WAAA,wBAA2G4Q,IAAKC,MAAA7B,EAAA9F,gBAA0B8F,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAZ,EAAA,aAA6CrC,OAAO9D,KAAA,SAAe6H,IAAKC,MAAA7B,EAAA5C,kBAA4B4C,EAAAc,GAAA,oBAAAd,EAAAc,GAAA,KAAAZ,EAAA,gBAA4DG,IAAA,cAAAuB,IAAsBjK,mBAAAqI,EAAArI,sBAA6CqI,EAAAc,GAAA,KAAAZ,EAAA,aAA8BG,IAAA,WAAAuB,IAAmBzD,gBAAA6B,EAAA7B,mBAAuC6B,EAAAc,GAAA,KAAAZ,EAAA,gBAAiCG,IAAA,cAAAuB,IAAsB/J,mBAAAmI,EAAAnI,sBAA6CmI,EAAAc,GAAA,KAAAZ,EAAA,aAA8BrC,OAAOlH,MAAA,SAAAwM,QAAAnD,EAAAhN,gBAAAoQ,wBAAA,EAAAC,yBAAA,EAAAtF,MAAA,SAA0H6D,IAAK0B,iBAAA,SAAAxB,GAAkC9B,EAAAhN,gBAAA8O,MAA6B5B,EAAA,OAAAF,EAAAc,GAAA,mCAAAZ,EAAA,aAAsErC,OAAOjK,KAAA,OAAAmG,KAAA,QAA4B6H,IAAKC,MAAA7B,EAAAuD,oBAA8BvD,EAAAc,GAAA,kBAAAd,EAAAc,GAAA,KAAAZ,EAAA,OAAiDE,YAAA,gBAAAvC,OAAmCI,KAAA,UAAgBA,KAAA,WAAeiC,EAAA,aAAkBrC,OAAO9D,KAAA,QAAc6H,IAAKC,MAAA,SAAAC,GAAyB9B,EAAAhN,iBAAA,MAA8BgN,EAAAc,GAAA,oBAE74X0C,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErT,EACAwP,GATF,EAVA,SAAA8D,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/127.fd9931fbea35443c7a92.js","sourcesContent":["<style>\n@import '../../../../../static/style/file_upload.css';\n.ll-p-m-w {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n.ll-img-w {\n  width: 60px;\n  height: 60px;\n}\n.ll-img-w > img {\n  width: 60px;\n}\n.ll-p-m-c-r {\n  padding: 0 10px;\n}\n.ll-erp-p-no {\n  color: #666;\n  font-size: 12px;\n}\n.del-store-icon-w {\n  position: absolute;\n  top: -8px;\n  right: 2px;\n  cursor: pointer;\n}\n.ll-p-m-w img {\n  width: 110rpx;\n}\n.c-g-sfw {\n  padding-top: 0 !important;\n  padding-bottom: 0 !important;\n}\n.choose-goods-wrap {\n  border: 1px solid #ececec;\n  border-radius: 4px;\n}\n.store-pre-time-item-wrap {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: center;\n}\n.store-pre-time-item-wrap > .item-left {\n  flex: 0 0 90px;\n  width: 90px;\n  text-align: left;\n  margin-left: 20px;\n}\n.store-pre-time-item-wrap > .item-right {\n  border: 1px solid #ececec;\n  border-radius: 8px;\n  padding: 8px;\n  width: 550px;\n  box-sizing: border-box;\n}\n</style>\n<template>\n  <div>\n    <div class=\"add-form-wraper\">\n      <el-form ref=\"form\" :model=\"addParamMesg\" label-width=\"140px\">\n        <el-form-item label=\"活动类型\" required>\n          <p\n            style=\"color: #222;font-size: 16px; font-weight: bold;\"\n          >{{addParamMesg.activityTypeName}}</p>\n        </el-form-item>\n        <el-form-item label=\"选择区域\" required>\n          <el-input v-model=\"addParamMesg.regionName\" size=\"small\" class=\"add-input\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"活动编码\" required v-if=\"optType !== 'copy'\">\n          <el-input v-model=\"addParamMesg.activityCode\" size=\"small\" class=\"add-input\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"活动名称\" required>\n          <el-input\n            v-model=\"addParamMesg.activityName\"\n            size=\"small\"\n            class=\"add-input\"\n            placeholder=\"请输入活动名称\"\n            clearable\n            :disabled=\"status === 3 || status === 2\"\n          ></el-input>\n          <span>活动名称,限制30个汉字</span>\n        </el-form-item>\n        <el-form-item label=\"开始时间\" required>\n          <el-date-picker\n            class=\"add-input\"\n            v-model=\"addParamMesg.activityStartDate\"\n            type=\"datetime\"\n            placeholder=\"请选择活动开始时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n            size=\"small\"\n            :picker-options=\"pickerOptions\"\n            :disabled=\"status === 3 || status === 2\"\n          ></el-date-picker>\n          <span>活动开始时间</span>\n        </el-form-item>\n        <el-form-item label=\"结束时间\" required>\n          <el-date-picker\n            class=\"add-input\"\n            v-model=\"addParamMesg.activityEndDate\"\n            type=\"datetime\"\n            placeholder=\"请选择活动结束时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\"\n            value-format=\"yyyy-MM-dd HH:mm:ss\"\n            size=\"small\"\n            :picker-options=\"pickerOptions\"\n            :disabled=\"status === 3 || status === 2\"\n          ></el-date-picker>\n          <span>活动结束时间</span>\n        </el-form-item>\n        <el-form-item label=\"门店/履约时间\" required>\n          <div\n            class=\"store-pre-time-item-wrap\"\n            :class=\"index > 0 ? 'mt10' : null\"\n            v-for=\"(item, index) of activityStoreGroupList\"\n            :key=\"index\"\n          >\n            <div class=\"item-right\">\n              <div>\n                <span>参与门店</span>\n                <el-button size=\"small\" @click=\"chooseStoreOpen(index)\" icon=\"el-icon-plus\" :disabled=\"status === 3 || status === 2\">选择门店</el-button>\n                <div v-if=\"item.activityStoresCheckedList.length > 0\">\n                  <el-table\n                    class=\"fixed-height\"\n                    :data=\"item.activityStoresCheckedList\"\n                    empty-text=\"暂无选中任何门店\"\n                    max-height=\"250\"\n                    size=\"small\"\n                  >\n                    <el-table-column min-width=\"220px\" label=\"门店编码/名称\">\n                      <template slot-scope=\"scope\">\n                        <div>{{scope.row.erpStoreNo}}_{{scope.row.erpStoreName}}</div>\n                      </template>\n                    </el-table-column>\n                    <el-table-column min-width=\"80\" prop=\"cityName\" label=\"城市\"></el-table-column>\n                    <el-table-column min-width=\"80\" prop=\"saleTypeName\" label=\"门店类型\"></el-table-column>\n                    <el-table-column align=\"center\" label=\"操作\" width=\"100\">\n                      <template slot-scope=\"scope\" size=\"small\">\n                        <el-button\n                          @click=\"deleteStoreItem(index, scope.row)\"\n                          type=\"text\"\n                          size=\"mini\"\n                          icon=\"el-icon-delete\"\n                          :disabled=\"status === 3 || status === 2\"\n                        >删除</el-button>\n                      </template>\n                    </el-table-column>\n                  </el-table>\n                </div>\n              </div>\n              <div class=\"mt10\">\n                <span>履约时间</span>\n                <!-- default-time=\"23:59:59\"\n                format=\"yyyy-MM-dd HH:mm:ss\"\n                value-format=\"yyyy-MM-dd HH:mm:ss\"-->\n                <el-date-picker\n                  class=\"search-input\"\n                  v-model=\"item.performanceDate\"\n                  type=\"date\"\n                  placeholder=\"请选择履约时间\"\n                  format=\"yyyy-MM-dd\"\n                  value-format=\"yyyy-MM-dd\"\n                  size=\"small\"\n                  :picker-options=\"pickerOptions\"\n                  :disabled=\"status === 3 || status === 2\"\n                ></el-date-picker>\n                <span>门店仅支持自提则为自提时间</span>\n              </div>\n            </div>\n            <div class=\"item-left\">\n              <el-button\n                type=\"primary\"\n                size=\"mini\"\n                icon=\"el-icon-plus\"\n                circle\n                @click=\"doAddStoreGroupHandel\"\n                :disabled=\"status === 3 || status === 2\"\n              ></el-button>&nbsp;\n              <el-button\n                size=\"mini\"\n                icon=\"el-icon-minus\"\n                circle\n                v-if=\"activityStoreGroupList.length > 1\"\n                @click=\"doMinusStoreGroupHandel(index)\"\n                :disabled=\"status === 3 || status === 2\"\n              ></el-button>\n            </div>\n          </div>\n        </el-form-item>\n        <el-form-item label=\"活动商品\" required>\n          <el-button type=\"primary\" @click=\"goAddGoodsDialog\" size=\"mini\" icon=\"el-icon-plus\">添加商品</el-button>\n          <el-button @click=\"showExcelBatchInsertDialog\" size=\"mini\" icon=\"el-icon-plus\" v-if=\"status !== 3 && status !== 2\">Excel批量导入</el-button>&nbsp;&nbsp;&nbsp;&nbsp;\n          <span style=\"color: red;\">*注意：</span>\n          <span>商品图片建议上传大小不超过300K的710*420像素的jpg或png图片</span>\n          <el-table\n            class=\"fixed-height choose-goods-wrap\"\n            :data=\"checkedList\"\n            empty-text=\"暂无选中任何商品\"\n            style=\"width:100%;\"\n            max-height=\"560\"\n            size=\"small\"\n          >\n            <el-table-column min-width=\"300px\" label=\"商品信息\">\n              <template slot-scope=\"scope\">\n                <div class=\"ll-p-m-w\">\n                  <div class=\"mh-up-w\" @click=\"setItemIdx(scope.row.goodsNo)\">\n                    <el-upload\n                      class=\"avatar-uploader-sf-goods-img\"\n                      action\n                      :show-file-list=\"false\"\n                      :before-upload=\"imageUploadReg\"\n                      :http-request=\"emitUpload\"\n                      :disabled = \"scope.row.disabled\"\n                    >\n                      <div v-loading=\"imageUploadLoading && currentUpFileIdx == scope.row.goodsNo\">\n                        <span v-if=\"scope.row.preSaleImageUrl\">\n                          <img :src=\"scope.row.preSaleImageUrl\" class=\"avatar-sf-goods\" />\n                        </span>\n                        <i v-else class=\"el-icon-plus avatar-uploader-sf-icon\"></i>\n                      </div>\n                    </el-upload>\n                  </div>\n                  <div class=\"ll-p-m-c-r\">\n                    <div>\n                      {{scope.row.goodsName || '--'}}\n                    </div>\n                    <div class=\"ll-erp-p-no\">SKU编码：{{scope.row.goodsNo || '--'}}</div>\n                    <div class=\"ll-erp-p-no\">商品ID：{{scope.row.platformCityGoodsId || '--'}}</div>\n                    <div class=\"ll-erp-p-no\">商品编码：{{scope.row.goodsId || '--'}}</div>\n                  </div>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"100px\" prop=\"spec\" label=\"规格\"></el-table-column>\n            <el-table-column min-width=\"130px\" label=\"活动商品名称\">\n              <template slot-scope=\"scope\">\n                <div>\n                  <el-input :disabled = \"scope.row.disabled\" v-model=\"scope.row.activityGoodsName\" size=\"small\" placeholder=\"输入名称\"></el-input>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"130px\" label=\"原价(必填)\">\n              <template slot-scope=\"scope\">\n                <div>\n                  <el-input v-model=\"scope.row.price\" size=\"small\" placeholder=\"输入原价\" :disabled = \"scope.row.disabled\"></el-input>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"130px\" label=\"活动价(必填)\">\n              <template slot-scope=\"scope\">\n                <div>\n                  <el-input v-model=\"scope.row.groupPrice\" size=\"small\" placeholder=\"输入活动价\" :disabled = \"scope.row.disabled\"></el-input>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"130px\" label=\"活动库存(选填)\">\n              <template slot-scope=\"scope\">\n                <div>\n                  <el-input v-model=\"scope.row.curStock\" size=\"small\" placeholder=\"门店限售库存\" :disabled = \"scope.row.disabled\"></el-input>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"140px\" label=\"每人限购\">\n              <template slot-scope=\"scope\">\n                <div>\n                  <el-input v-model=\"scope.row.limitGoodsCount\" size=\"small\" placeholder=\"每人限购\" :disabled = \"scope.row.disabled\"></el-input>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"140px\" label=\"排序权重\">\n              <template slot-scope=\"scope\">\n                <div>\n                  <el-input v-model=\"scope.row.sortNum\" size=\"small\" placeholder=\"排序（0-299越大越靠前）\" :disabled = \"scope.row.disabled\"></el-input>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"190px\" :render-header=\"sfInStockHeader\">\n              <template slot-scope=\"scope\">\n                <div>\n                  <el-radio :disabled=\"scope.row.disabled\" v-model=\"scope.row.sfInStock\" :label=\"true\">是</el-radio>\n                  <el-radio :disabled=\"scope.row.disabled\" v-model=\"scope.row.sfInStock\" :label=\"false\">否</el-radio>\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column fixed=\"right\" align=\"center\" label=\"操作\" width=\"80\">\n              <template slot-scope=\"scope\" size=\"small\">\n                <el-button\n                  @click=\"deleteItem(scope.row)\"\n                  type=\"text\"\n                  size=\"mini\"\n                  icon=\"el-icon-delete\"\n                  :disabled = \"scope.row.disabled\"\n                >删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <p>\n            <span style=\"color:red;\">*</span>活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；\n          </p>\n          <p>\n            <span style=\"color:red;\">*</span>活动进行中时新上门店，请在活动商品中发布至门店；\n          </p>\n        </el-form-item>\n        <hr class=\"s-slip-tb\" />\n        <el-form-item>\n          <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel\" :disabled=\"isDisabled\" :icon=\"isDisabled ? 'el-icon-loading' : null\">保存</el-button>\n          <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <!-- 选择门店 -->\n    <choose-store ref=\"chooseStore\" @confirmChooseStore=\"confirmChooseStore\"></choose-store>\n    <!-- 批量添加模板 -->\n    <excel-add ref=\"excelAdd\" @doConfirmHandel=\"doConfirmHandel\"></excel-add>\n    <!-- 选择商品 -->\n    <choose-goods ref=\"chooseGoods\" @confirmChooseGoods=\"confirmChooseGoods\"></choose-goods>\n    <el-dialog \n      title=\"批量导入失败\" \n      :visible.sync=\"showTipErrorMsg\" \n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      width='450px'>\n      <div>\n        部分商品不符合要求，请按要求修改后再重新导入。<el-button type=\"text\" size=\"mini\" @click=\"downLoadErrorMsg\">下载查看失败原因</el-button>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showTipErrorMsg = false\" size=\"mini\">关 闭</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport Storage from '@/utils/localStorage'\nimport ChooseStore from \"@/components/Activity/Common/ChooseStore\"\nimport ChooseGoods from \"@/components/Activity/Common/ChooseGoods\"\nimport AddByExcel from \"@/components/Common/Excel/AddByExcel\"\nimport exportSheet from '@/utils/exportExcel'\nimport * as utils from '@/utils/utils'\nimport * as qiniu from 'qiniu-js'\nconst fileUrlList = {\n  getQiNiuToken: '/foundation/qiniu/auth/file'\n}\nconst reqUrl = {\n  // 校验新增预售商品\n  checkPreGoodsInsert: '/newretail-shop/a/preSale/goods/checkPreGoodsInsert',\n  // 新增活动规则\n  add: \"/plateform/a/activityRule/add\",\n  // 活动规则编辑跳转\n  edit: \"/plateform/a/activityRule/edit\",\n  // 修改活动规则\n  update: \"/plateform/a/activityRule/update\"\n}\nconst numReg = /^[1-9]*[1-9][0-9]*$/\nconst salePriceReg = /((^[1-9]\\d*)|^0)(\\.\\d{0,2}){0,1}$/\nconst salePriceOnePointReg = /((^[1-9]\\d*))(\\.\\d{0,1}){0,1}$/\nexport default {\n  data () {\n    return {\n      status: 0,\n      optType: '', // 此页面操作类型  edit  编辑   copy  复制\n      pickerOptions: {\n        disabledDate (time) {\n          return time.getTime() < Date.now() - 8.64e7; // 如果没有后面的-8.64e7就是不可以选择今天的\n        }\n      },\n      isDisabled: false,\n      addParamMesg: {\n        DIFFCITY: true,\n        platformId: 5,\n        regionCode: Storage.get('regionCode') || '', // 区域ID\n        id: '', // 流水ID\n        activityType: 61, // 活动类型\n        activityTypeName: '每日爆款', // 活动类型名称\n        activityName: '', // 活动名称\n        activityStartDate: '', // 活动开始时间\n        activityEndDate: '', // 活动结束时间\n        activityCode: '', // 活动编码\n        // 参与门店 秒杀中此字段没用，但是后端有非空验证，所以希望前端加上，故此处把所有门店分组中的门店编号传入\n        activityStoreList: [],\n        // 活动门店分组集合\n        activityStoreGroupList: []\n      },\n      // 选中的商品列表\n      checkedList: [],\n      // 商品详情图加载\n      imageUploadLoading: false,\n      currentUpFileIdx: -1, // 默认选中的文件上传框\n      // 参与门店与履约时间\n      activityStoreGroupList: [\n        {\n          performanceDate: '', // 履约时间\n          activityStoresCheckedList: [] // 选中的门店\n        }\n      ],\n      activityStoresCheckedList: [],\n      tempConfig: {\n        platformCityGoodsId: '区域商品id(必填)',\n        goodsNo: 'SKU编码(选填)',\n        skuNo: 'ERP商品编码(选填)',\n        activityGoodsName: '活动商品名称(可修改，必填)',\n        price: '原价(必填）',\n        preSalePrice: '活动价(必填)',\n        platformCurStock: '活动库存（选填，为空时不限）',\n        limitCount: '每人每期限购(选填，为空时不限)',\n        sortNum: '排序(必填)',\n        sfInStockStr: '顺丰仓现货（选填，填是/否，空时为是）'\n      },\n      // 显示下载含有失败原因的excel\n      showTipErrorMsg: false,\n      // 后台返回的又失败原因的内容\n      hasErrorMsgData: [],\n      saveErrorMsgList: [],\n      saveErrTempConfig: {\n        skuNo: 'ERP商品编码',\n        goodsName: '商品名称',\n        storeNo: '门店编码',\n        storeName: '门店名称',\n      }\n    }\n  },\n  beforeRouteEnter (to, from, next) {\n    if (to.params.type === 'edit') {\n      to.meta.breadcrumbList = [\n        { name: '营销活动', path: '' },\n        { name: '店铺活动', path: '/store_act' },\n        { name: '编辑活动', path: '' }\n      ]\n    } else if (to.params.type === 'copy') {\n      to.meta.breadcrumbList = [\n        { name: '营销活动', path: '' },\n        { name: '店铺活动', path: '/store_act' },\n        { name: '复制活动', path: '' }\n      ]\n    }\n    next()\n  },\n  created () {\n    this.addParamMesg.activityId = this.$route.params.activityId\n    this.optType = this.$route.params.type\n    this.status = this.$route.query.status ? parseInt(this.$route.query.status) : 0\n    this.getDetail()\n  },\n  components: {\n    \"excel-add\": AddByExcel,\n    \"choose-store\": ChooseStore,\n    \"choose-goods\": ChooseGoods\n  },\n  methods: {\n    /**\n     * [getDetail 获取拼团活动详情]\n     * @return {[type]} [description]\n     */\n     getDetail () {\n      let activityId = this.addParamMesg.activityId || ''\n      utils.showLoading()\n      this.$http.post(reqUrl.edit, { activityId: activityId, DIFFCITY: true }).then(res => {\n        utils.clearLoading()\n        if (res.code === 0) {\n          if (res.data) {\n            let createGoodsMesg = res.data\n            this.addParamMesg.id = createGoodsMesg.id\n            this.addParamMesg.activityId = createGoodsMesg.id\n            this.addParamMesg.regionCode = createGoodsMesg.regionCode || ''\n            this.addParamMesg.regionName = createGoodsMesg.regionName || ''\n            this.addParamMesg.activityType = createGoodsMesg.activityType || ''\n            this.addParamMesg.activityTypeName = createGoodsMesg.activityTypeName || ''\n            this.addParamMesg.activityName = createGoodsMesg.activityName || ''\n            this.addParamMesg.activityStartDate = createGoodsMesg.activityStartDate || ''\n            this.addParamMesg.activityEndDate = createGoodsMesg.activityEndDate || ''\n            this.addParamMesg.activityCode = createGoodsMesg.activityCode || ''\n            this.activityStoresCheckedList = createGoodsMesg.storeGroupVos && createGoodsMesg.storeGroupVos.length ? createGoodsMesg.storeGroupVos : []\n            // 处理选中的门店\n            this.activityStoreGroupList = createGoodsMesg.storeGroupVos.map(item => {\n              return {\n                performanceDate: item.performanceDatetime ? item.performanceDatetime.substr(0, 10) : '',\n                activityStoresCheckedList: item.storeVos\n              }\n            })\n            if (createGoodsMesg.platCityGoodsVos && createGoodsMesg.platCityGoodsVos.length) {\n              createGoodsMesg.platCityGoodsVos.forEach(item => {\n                item.disabled = this.status === 3 || this.status === 2 ? true : false\n                item.sfInStock = item.sfInStock\n              })\n              this.checkedList = createGoodsMesg.platCityGoodsVos\n            }\n          }\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        utils.clearLoading()\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    },\n    /**\n     * [chooseStoreOpen 选择门店]\n     * @return {[type]} [description]\n     */\n    chooseStoreOpen (groupIndex) {\n      let _params = {\n        title: '选择门店',\n        platformId: this.addParamMesg.platformId,\n        regionCode: this.addParamMesg.regionCode,\n        groupIndex: groupIndex,\n        checkedList: this.activityStoreGroupList[groupIndex].activityStoresCheckedList,\n        otherCheckedList: this.getCheckedStores(groupIndex)\n      }\n      this.$refs.chooseStore.setDefault(_params)\n    },\n    showExcelBatchInsertDialog () {\n      if (this.$refs.excelAdd) {\n        let _val = {\n          title: 'Excel 批量导入',\n          tempConfig: this.tempConfig\n        }\n        this.$refs.excelAdd.setDefaultMsg(_val)\n      }\n    },\n    /**\n     * [goAddGoodsDialog 添加商品]\n     * @return {[type]} [description]\n     */\n    goAddGoodsDialog () {\n      if (this.$refs.chooseGoods) {\n        let _params = {\n          title: '选择商品',\n          regionCode: this.addParamMesg.regionCode,\n          checkedList: this.checkedList\n        }\n        this.$refs.chooseGoods.setDefault(_params)\n      }\n    },\n    /**\n     * [confirmChooseStore 选中的门店]\n     * @param  {[type]} _value [description]\n     * @return {[type]}        [description]\n     */\n    confirmChooseStore (_value) {\n      let activityStoresCheckedList = _value.checkedList || []\n      let groupIndex = _value.groupIndex || 0\n      this.activityStoreGroupList[groupIndex].activityStoresCheckedList = activityStoresCheckedList\n    },\n    /**\n     * [confirmChooseGoods 选中商品并关闭]\n     * @param  {[type]} val [description]\n     * @return {[type]}      [description]\n     */\n    confirmChooseGoods (val) {\n      this.checkedList = val.checkedList && val.checkedList.length ? val.checkedList : []\n    },\n    /**\n   * [deleteItem 删除]\n   * @param  {[type]} row [description]\n   * @return {[type]}      [description]\n   */\n    deleteItem (row) {\n      let platformCityGoodsId = row.platformCityGoodsId\n      let resCheckedListArr = this.checkedList.filter(item => {\n        return item.platformCityGoodsId != platformCityGoodsId\n      })\n      this.checkedList = JSON.parse(JSON.stringify(resCheckedListArr))\n    },\n    /**\n     * [deleteStoreItem 删除选中的门店]\n     * @param  {[type]} row [description]\n     * @return {[type]}      [description]\n     */\n    deleteStoreItem (groupIndex, row) {\n      let erpStoreNo = row.erpStoreNo\n      let checkedStoreList = this.activityStoreGroupList[groupIndex].activityStoresCheckedList\n\n      this.activityStoreGroupList[groupIndex].activityStoresCheckedList = checkedStoreList.filter(item => {\n        return item.erpStoreNo !== erpStoreNo\n      })\n    },\n    /**\n     * @description: 设置当前上传图片的索引\n     * @param {type} \n     * @return: \n     */\n    setItemIdx (idx) {\n      if (this.imageUploadLoading) return\n      this.currentUpFileIdx = idx\n    },\n    /**\n     * [emitUpload 上传图片]\n     * @param  {[type]} e [description]\n     * @return {[type]}   [description]\n     */\n    emitUpload (e) {\n      this.imageUploadLoading = true\n      this.getToken().then((res) => {\n        // 开始上传图片\n        let uploader = qiniu.upload(e.file, res.fileName, res.token)\n        uploader.subscribe({\n          error: () => {\n            this.imageUploadLoading = false\n          },\n          complete: (res) => {\n            // 添加内容设置图片地址\n            let urlImage = 'http://retailimg01.benlailife.com/' + res.key\n            this.imageUploadLoading = false\n            // 设置对应的图片地址\n            let checkedListArr = [...this.checkedList]\n            checkedListArr.forEach(item => {\n              if (item.goodsNo === this.currentUpFileIdx) {\n                item.preSaleImageUrl = urlImage\n              }\n            })\n            this.checkedList = checkedListArr\n          },\n          next: res => {\n          }\n        })\n      })\n    },\n\n    /**\n     * [imageUploadReg 上传图片检测]\n     * @param  {[type]} file [description]\n     * @return {[type]}      [description]\n     */\n    imageUploadReg (file) {\n      const isPic = file.type.indexOf('image/') !== -1\n      const isJPG = file.type === 'image/jpeg' || 'image/png'\n      const isSizeNum = file.size <= 1 * 300 * 1024\n      if (!isPic || !isJPG || !isSizeNum) {\n        this.$message.error('商品图片建议上传大小不超过300K的710*420像素的jpg或png图片')\n      }\n      return isPic && isJPG && isSizeNum\n    },\n    /**\n     * [getToken 通过后台封装的接口获取七牛的token]\n     * @return {[type]}            [description]\n     */\n    getToken () {\n      return this.$http.post(fileUrlList.getQiNiuToken, {}).then(res => {\n        if (res.code == 0) {\n          let token = res.data.token\n          let fileName = res.data.key\n          return { fileName, token }\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.imageUploadLoading = false\n        this.$notify.error({\n          title: '获取七牛token提示',\n          message: e.message\n        })\n      })\n    },\n\n    /**\n     * [doSaveHandel 保存]\n     * @return {[type]} [description]\n     */\n    doSaveHandel () {\n      if (!this.addParamMesg.activityName) {\n        this.$message(\"请输入活动名称\")\n        return\n      } else if (this.addParamMesg.activityName.length > 30) {\n        this.$message(\"活动名称限制30个汉字\")\n        return\n      }\n      if (!this.addParamMesg.activityStartDate) {\n        this.$message(\"请输入活动开始时间\")\n        return\n      }\n      if (!this.addParamMesg.activityEndDate) {\n        this.$message(\"请输入活动结束时间\")\n        return\n      }\n      let activityStartDateNum = Date.parse(new Date(this.addParamMesg.activityStartDate.replace(/\\-/g, '/')))\n      let activityEndDateNum = Date.parse(new Date(this.addParamMesg.activityEndDate.replace(/\\-/g, '/')))\n      let currentDateNum = new Date().getTime()\n      if (activityStartDateNum < currentDateNum && this.status !== 3) {\n        this.$message(\"活动开始时间不能早于当前时间\")\n        return\n      }\n      if (activityStartDateNum > activityEndDateNum && this.status !== 3) {\n        this.$message(\"活动结束时间不能早于开始时间\")\n        return\n      }\n      this.addParamMesg.activityStoreGroupList = this.activityStoreGroupList.map((i, idx) => {\n        return {\n          index: idx,\n          performanceDate: i.performanceDate,\n          storeNoList: i.activityStoresCheckedList.map(k => {\n            return k.erpStoreNo\n          })\n        }\n      })\n      for(let item of this.addParamMesg.activityStoreGroupList) {\n        if(!item.storeNoList || !item.storeNoList.length) {\n          this.$message(`请选择参与门店/履约时间组中【第${item.index + 1}组】的参与门店`)\n          return\n        }\n        if(item.performanceDate) {\n          let performanceDateNum = Date.parse(new Date(`${item.performanceDate} 23:59:59`.replace(/\\-/g, '/')))\n          if(activityEndDateNum > performanceDateNum) {\n            this.$message(`参与门店/履约时间组中【第${item.index + 1}组】的履约时间不能早于活动结束时间`)\n            return\n          }\n          item.performanceDatetime = `${item.performanceDate} 23:59:59`\n        }else {\n          this.$message(`请选择参与门店/履约时间组中【第${item.index + 1}组】的履约时间`)\n          return\n        }\n      }\n      this.addParamMesg.activityStoreList = this.getCheckedStores().map(item => {\n        return item.erpStoreNo\n      })\n      let goodsReqListArr = []\n      for (let item of this.checkedList) {\n        if(!item.preSaleImageUrl) {\n          this.$message(`请上传(${item.goodsName})的商品图片`)\n          return \n        }\n        if (!item.activityGoodsName) {\n          this.$message(`请输入(${item.goodsName})的活动商品名称`)\n          return\n        }\n        if (!item.price && parseFloat(item.price) != 0) {\n          this.$message(`请输入(${item.goodsName})的原价`)\n          return\n        } else {\n          if (!salePriceReg.test(item.price) || item.price == 0) {\n            this.$message('原价是大于0，小数保留小数点后2位')\n            return\n          }\n        }\n        if (!item.groupPrice && parseFloat(item.groupPrice) != 0) {\n          this.$message(`请输入(${item.goodsName})的活动价`)\n          return\n        } else {\n          if (!salePriceReg.test(item.groupPrice) || item.groupPrice == 0) {\n            this.$message('活动价是大于0，小数保留小数点后2位')\n            return\n          }\n        }\n        if (parseFloat(item.groupPrice) >= parseFloat(item.price)) {\n          this.$message(`(${item.goodsName})的原价必须大于活动价`)\n          return\n        }\n        if (item.curStock != 0 && item.curStock) {\n          if (!numReg.test(item.curStock)) {\n            this.$message(`(${item.goodsName})的活动库存为大于零的正整数`)\n            return\n          }\n        }\n        if (item.limitGoodsCount != 0 && item.limitGoodsCount) {\n          if (numReg.test(item.limitGoodsCount)) {\n            if (item.limitGoodsCount < 0) {\n              this.$message(`(${item.goodsName})的限购数量不能小于0`)\n              return\n            }\n          } else {\n            this.$message(`(${item.goodsName})的限购数量格式不正确`)\n            return\n          }\n        }\n        if (item.sortNum != 0 && item.sortNum) {\n          if (numReg.test(item.sortNum)) {\n            if (item.sortNum < 0 || item.sortNum > 299) {\n              this.$message(`(${item.goodsName})的排序权重为0 — 299的整数，越大越靠前`)\n              return\n            }\n          } else {\n            this.$message(`(${item.goodsName})的排序权重为0 — 299的整数，越大越靠前`)\n            return\n          }\n        }\n        let goodsReqListItem = {\n          preSaleImageUrl: item.preSaleImageUrl,\n          goodsId: item.goodsId,\n          goodsNo: item.goodsNo,\n          skuNo: item.skuNo,\n          goodsName: item.goodsName,\n          activityGoodsName: item.activityGoodsName,\n          price: item.price,\n          groupPrice: item.groupPrice,\n          curStock: item.curStock,\n          limitGoodsCount: item.limitGoodsCount,\n          sortNum: item.sortNum,\n          spec: item.spec,\n          platformCityGoodsId: item.platformCityGoodsId,\n          sfInStock: item.sfInStock\n        }\n        goodsReqListArr.push(goodsReqListItem)\n      }\n      if (goodsReqListArr.length === 0) {\n        this.$message(\"请先添加活动商品\")\n        return\n      }\n      this.addParamMesg.platCityGoodsInfos = goodsReqListArr\n      let requestUrl = ''\n      if(this.optType === 'edit') {\n        requestUrl = reqUrl.update\n      }else if(this.optType === 'copy') {\n        requestUrl = reqUrl.add\n        delete this.addParamMesg.activityId\n        delete this.addParamMesg.id\n      }else {\n        this.$message(\"操作类型不匹配\")\n        return\n      }\n      this.isDisabled = true\n      this.$http.post(requestUrl, { ...this.addParamMesg }).then(res => {\n        // 保存按钮可再次点击\n        setTimeout(() => {\n          this.isDisabled = false\n        }, 800)\n        if (res.code === 0) {\n          if(res.data && typeof(res.data) === 'object' && res.data.length > 0) {\n            this.$alert(\"<div><p>活动保存成功</p><p style='color: red;'>有商品在门店线上不可售</p></div>\", '温馨提示', {\n              dangerouslyUseHTMLString: true,\n              showCancelButton: true,\n              cancelButtonText: \"下载明细\",\n              showConfirmButton: true,\n              confirmButtonText: '关闭'\n            }).then(() => {}).catch(() => {\n              this.saveErrorMsgList = res.data\n              this.downLoadSaveErrorMsg()\n            });\n          }else {\n            this.$message.success(\"保存成功\")\n            this.$router.push('/store_act')\n          }\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.isDisabled = false\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    },\n    doCancelHandel () {\n      this.$confirm('确定取消吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$router.push('/store_act')\n      }).catch(() => { })\n    },\n    /**\n     * @description: 添加分组\n     * @param {type} \n     * @return: \n     */\n    doAddStoreGroupHandel () {\n      let groupItem = {\n        performanceDate: '',\n        activityStoresCheckedList: []\n      }\n      this.activityStoreGroupList.push(groupItem)\n    },\n    doMinusStoreGroupHandel (index) {\n      this.activityStoreGroupList.splice(index, 1)\n    },\n    sfInStockHeader() {\n      return (\n        <el-popover\n          placement=\"top-start\"\n          width=\"260\"\n          trigger=\"hover\">\n          <div>\n            <p>1、顺丰标品设为顺丰仓现货时，下单会校验仓库库存；</p>\n            <p>2、本来鲜生鲜品无需设置；</p>\n          </div>\n          <span slot=\"reference\">是否为顺丰仓现货<i class=\"el-icon-question\"></i></span>\n        </el-popover>\n      )\n    },\n    /**\n     * @description: 导入excel后确认框\n     * @param {type} \n     * @return: \n     */\n    doConfirmHandel (value) {\n      let excelDataList = value.dataList || []\n      excelDataList.forEach(item => {\n        item.activityType = 61\n      })\n      this.$http.post(reqUrl.checkPreGoodsInsert, [...excelDataList]).then(res => {\n        this.$refs.excelAdd.closeDisabled()\n        this.$refs.excelAdd.closeDialog()\n        if (res.code === 0) {\n          this.hasErrorMsgData = res.data && res.data.length ? res.data : []\n          this.hasErrorMsgData.forEach(item => {\n            item.groupPrice = item.preSalePrice\n            item.curStock = item.platformCurStock\n            item.limitGoodsCount = item.limitCount\n          })\n          let isOk = this.hasErrorMsgData.some(item => {\n            return item.msgType === 1\n          })\n          if (isOk) {\n            this.showTipErrorMsg = true\n          } else {\n            let checkedListTemp = [...this.checkedList]\n            checkedListTemp.forEach(i => {\n              this.hasErrorMsgData.forEach(j => {\n                if (i.goodsId === j.goodsId && i.goodsNo === j.goodsNo && i.platformCityGoodsId === j.platformCityGoodsId && i.skuNo === j.skuNo) {\n                  i.activityGoodsName = j.activityGoodsName\n                  i.preSaleImageUrl = j.preSaleImageUrl\n                  i.price = j.price\n                  i.groupPrice = j.groupPrice\n                  i.curStock = j.curStock\n                  i.limitGoodsCount = j.limitGoodsCount\n                  i.sortNum = j.sortNum\n                  i.sfInStock = j.sfInStock\n                }\n              })\n            })\n            let hash = {}\n            this.checkedList = [...checkedListTemp, ...this.hasErrorMsgData].reduceRight((item, next) => {\n              hash[next.platformCityGoodsId] ? '' : hash[next.platformCityGoodsId] = true && item.push(next)\n              return item\n            }, [])\n          }\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.$refs.excelAdd.closeDisabled()\n        this.$refs.excelAdd.closeDialog()\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    },\n    showExcelBatchInsertDialog () {\n      if (this.$refs.excelAdd) {\n        let _val = {\n          title: 'Excel 批量导入',\n          tempConfig: this.tempConfig\n        }\n        this.$refs.excelAdd.setDefaultMsg(_val)\n      }\n    },\n    downLoadErrorMsg () {\n      let downloadExcelConfig = { ...this.tempConfig }\n      downloadExcelConfig.msgTypeStr = '验证结果'\n      downloadExcelConfig.msg = '失败原因'\n      this.hasErrorMsgData.forEach(item => {\n        item.msgTypeStr = item.msgType === 1 ? '验证失败' : '验证成功'\n        item.sfInStockStr = item.sfInStock ? '是' : '否'\n      })\n      const tHeader = utils.objectToArray(downloadExcelConfig, false)\n      const filterVal = utils.objectToArray(downloadExcelConfig, true)\n      exportSheet.ExportJsonToExcel({\n        header: tHeader,\n        filterVal,\n        data: this.hasErrorMsgData,\n        filename: `Excel批量导入模板`\n      })\n      setTimeout(() => {\n        this.$notify.success({\n          title: '温馨提示',\n          message: `Excel批量导入模板下载成功`\n        })\n        this.isDisabled = false\n      }, 500)\n    },\n    /**\n     * @description: 计算出所有门店和履约时间分组中已经选中的门店\n     * @param {type} \n     * @return: \n     */\n    getCheckedStores (excludeIdx) {\n      let allCheckedStores = []\n      if (excludeIdx || excludeIdx === 0) {\n        this.activityStoreGroupList.forEach((item, idx) => {\n          if (idx != excludeIdx) {\n            allCheckedStores = [...allCheckedStores, ...item.activityStoresCheckedList]\n          }\n        })\n      } else {\n        this.activityStoreGroupList.forEach(item => {\n          allCheckedStores = [...allCheckedStores, ...item.activityStoresCheckedList]\n        })\n      }\n      return allCheckedStores\n    },\n    downLoadSaveErrorMsg() {\n      let downloadExcelConfig = {...this.saveErrTempConfig}\n      const tHeader = utils.objectToArray(downloadExcelConfig, false)\n      const filterVal = utils.objectToArray(downloadExcelConfig, true)\n      exportSheet.ExportJsonToExcel({\n        header: tHeader,\n        filterVal,\n        data: this.saveErrorMsgList,\n        filename: `活动保存失败商品明细`\n      })\n      setTimeout(() => {\n        this.$notify.success({\n          title: '温馨提示',\n          message: `活动保存失败商品明细下载成功`\n        })\n      }, 500)\n    }\n  },\n  /**\n   * [beforeRouteLeave 页面离开]\n   * @param  {[type]}   to   [description]\n   * @param  {[type]}   from [description]\n   * @param  {Function} next [description]\n   * @return {[type]}        [description]\n   */\n  beforeRouteLeave (to, from, next){\n    to.meta.keepAlive = true;\n    next();\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/StoreAct/BK/EditBKPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMesg,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动类型\",\"required\":\"\"}},[_c('p',{staticStyle:{\"color\":\"#222\",\"font-size\":\"16px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.addParamMesg.activityTypeName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"选择区域\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"disabled\":\"\"},model:{value:(_vm.addParamMesg.regionName),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"regionName\", $$v)},expression:\"addParamMesg.regionName\"}})],1),_vm._v(\" \"),(_vm.optType !== 'copy')?_c('el-form-item',{attrs:{\"label\":\"活动编码\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"disabled\":\"\"},model:{value:(_vm.addParamMesg.activityCode),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"activityCode\", $$v)},expression:\"addParamMesg.activityCode\"}})],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入活动名称\",\"clearable\":\"\",\"disabled\":_vm.status === 3 || _vm.status === 2},model:{value:(_vm.addParamMesg.activityName),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"activityName\", $$v)},expression:\"addParamMesg.activityName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动名称,限制30个汉字\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"type\":\"datetime\",\"placeholder\":\"请选择活动开始时间\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"size\":\"small\",\"picker-options\":_vm.pickerOptions,\"disabled\":_vm.status === 3 || _vm.status === 2},model:{value:(_vm.addParamMesg.activityStartDate),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"activityStartDate\", $$v)},expression:\"addParamMesg.activityStartDate\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动开始时间\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"type\":\"datetime\",\"placeholder\":\"请选择活动结束时间\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"size\":\"small\",\"picker-options\":_vm.pickerOptions,\"disabled\":_vm.status === 3 || _vm.status === 2},model:{value:(_vm.addParamMesg.activityEndDate),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"activityEndDate\", $$v)},expression:\"addParamMesg.activityEndDate\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动结束时间\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店/履约时间\",\"required\":\"\"}},_vm._l((_vm.activityStoreGroupList),function(item,index){return _c('div',{key:index,staticClass:\"store-pre-time-item-wrap\",class:index > 0 ? 'mt10' : null},[_c('div',{staticClass:\"item-right\"},[_c('div',[_c('span',[_vm._v(\"参与门店\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-plus\",\"disabled\":_vm.status === 3 || _vm.status === 2},on:{\"click\":function($event){return _vm.chooseStoreOpen(index)}}},[_vm._v(\"选择门店\")]),_vm._v(\" \"),(item.activityStoresCheckedList.length > 0)?_c('div',[_c('el-table',{staticClass:\"fixed-height\",attrs:{\"data\":item.activityStoresCheckedList,\"empty-text\":\"暂无选中任何门店\",\"max-height\":\"250\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"220px\",\"label\":\"门店编码/名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.erpStoreNo)+\"_\"+_vm._s(scope.row.erpStoreName))])]}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"cityName\",\"label\":\"城市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"saleTypeName\",\"label\":\"门店类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"disabled\":_vm.status === 3 || _vm.status === 2},on:{\"click\":function($event){return _vm.deleteStoreItem(index, scope.row)}}},[_vm._v(\"删除\")])]}}],null,true)})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"mt10\"},[_c('span',[_vm._v(\"履约时间\")]),_vm._v(\" \"),_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"date\",\"placeholder\":\"请选择履约时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\",\"picker-options\":_vm.pickerOptions,\"disabled\":_vm.status === 3 || _vm.status === 2},model:{value:(item.performanceDate),callback:function ($$v) {_vm.$set(item, \"performanceDate\", $$v)},expression:\"item.performanceDate\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"门店仅支持自提则为自提时间\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"item-left\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\",\"circle\":\"\",\"disabled\":_vm.status === 3 || _vm.status === 2},on:{\"click\":_vm.doAddStoreGroupHandel}}),_vm._v(\" \\n            \"),(_vm.activityStoreGroupList.length > 1)?_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-minus\",\"circle\":\"\",\"disabled\":_vm.status === 3 || _vm.status === 2},on:{\"click\":function($event){return _vm.doMinusStoreGroupHandel(index)}}}):_vm._e()],1)])}),0),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动商品\",\"required\":\"\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.goAddGoodsDialog}},[_vm._v(\"添加商品\")]),_vm._v(\" \"),(_vm.status !== 3 && _vm.status !== 2)?_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.showExcelBatchInsertDialog}},[_vm._v(\"Excel批量导入\")]):_vm._e(),_vm._v(\"    \\n        \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*注意：\")]),_vm._v(\" \"),_c('span',[_vm._v(\"商品图片建议上传大小不超过300K的710*420像素的jpg或png图片\")]),_vm._v(\" \"),_c('el-table',{staticClass:\"fixed-height choose-goods-wrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.checkedList,\"empty-text\":\"暂无选中任何商品\",\"max-height\":\"560\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"300px\",\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ll-p-m-w\"},[_c('div',{staticClass:\"mh-up-w\",on:{\"click\":function($event){return _vm.setItemIdx(scope.row.goodsNo)}}},[_c('el-upload',{staticClass:\"avatar-uploader-sf-goods-img\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadReg,\"http-request\":_vm.emitUpload,\"disabled\":scope.row.disabled}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading && _vm.currentUpFileIdx == scope.row.goodsNo),expression:\"imageUploadLoading && currentUpFileIdx == scope.row.goodsNo\"}]},[(scope.row.preSaleImageUrl)?_c('span',[_c('img',{staticClass:\"avatar-sf-goods\",attrs:{\"src\":scope.row.preSaleImageUrl}})]):_c('i',{staticClass:\"el-icon-plus avatar-uploader-sf-icon\"})])])],1),_vm._v(\" \"),_c('div',{staticClass:\"ll-p-m-c-r\"},[_c('div',[_vm._v(\"\\n                    \"+_vm._s(scope.row.goodsName || '--')+\"\\n                  \")]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo || '--'))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"商品ID：\"+_vm._s(scope.row.platformCityGoodsId || '--'))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"商品编码：\"+_vm._s(scope.row.goodsId || '--'))])])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"spec\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"活动商品名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"disabled\":scope.row.disabled,\"size\":\"small\",\"placeholder\":\"输入名称\"},model:{value:(scope.row.activityGoodsName),callback:function ($$v) {_vm.$set(scope.row, \"activityGoodsName\", $$v)},expression:\"scope.row.activityGoodsName\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"原价(必填)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入原价\",\"disabled\":scope.row.disabled},model:{value:(scope.row.price),callback:function ($$v) {_vm.$set(scope.row, \"price\", $$v)},expression:\"scope.row.price\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"活动价(必填)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入活动价\",\"disabled\":scope.row.disabled},model:{value:(scope.row.groupPrice),callback:function ($$v) {_vm.$set(scope.row, \"groupPrice\", $$v)},expression:\"scope.row.groupPrice\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"活动库存(选填)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"门店限售库存\",\"disabled\":scope.row.disabled},model:{value:(scope.row.curStock),callback:function ($$v) {_vm.$set(scope.row, \"curStock\", $$v)},expression:\"scope.row.curStock\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"label\":\"每人限购\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"每人限购\",\"disabled\":scope.row.disabled},model:{value:(scope.row.limitGoodsCount),callback:function ($$v) {_vm.$set(scope.row, \"limitGoodsCount\", $$v)},expression:\"scope.row.limitGoodsCount\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"label\":\"排序权重\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"排序（0-299越大越靠前）\",\"disabled\":scope.row.disabled},model:{value:(scope.row.sortNum),callback:function ($$v) {_vm.$set(scope.row, \"sortNum\", $$v)},expression:\"scope.row.sortNum\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"190px\",\"render-header\":_vm.sfInStockHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-radio',{attrs:{\"disabled\":scope.row.disabled,\"label\":true},model:{value:(scope.row.sfInStock),callback:function ($$v) {_vm.$set(scope.row, \"sfInStock\", $$v)},expression:\"scope.row.sfInStock\"}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"disabled\":scope.row.disabled,\"label\":false},model:{value:(scope.row.sfInStock),callback:function ($$v) {_vm.$set(scope.row, \"sfInStock\", $$v)},expression:\"scope.row.sfInStock\"}},[_vm._v(\"否\")])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"align\":\"center\",\"label\":\"操作\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"disabled\":scope.row.disabled},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；\\n        \")]),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"活动进行中时新上门店，请在活动商品中发布至门店；\\n        \")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled,\"icon\":_vm.isDisabled ? 'el-icon-loading' : null},on:{\"click\":_vm.doSaveHandel}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1)],1),_vm._v(\" \"),_c('choose-store',{ref:\"chooseStore\",on:{\"confirmChooseStore\":_vm.confirmChooseStore}}),_vm._v(\" \"),_c('excel-add',{ref:\"excelAdd\",on:{\"doConfirmHandel\":_vm.doConfirmHandel}}),_vm._v(\" \"),_c('choose-goods',{ref:\"chooseGoods\",on:{\"confirmChooseGoods\":_vm.confirmChooseGoods}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"批量导入失败\",\"visible\":_vm.showTipErrorMsg,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.showTipErrorMsg=$event}}},[_c('div',[_vm._v(\"\\n      部分商品不符合要求，请按要求修改后再重新导入。\"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":_vm.downLoadErrorMsg}},[_vm._v(\"下载查看失败原因\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.showTipErrorMsg = false}}},[_vm._v(\"关 闭\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1dd5de50\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/StoreAct/BK/EditBKPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1dd5de50\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditBKPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditBKPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditBKPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1dd5de50\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditBKPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/StoreAct/BK/EditBKPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}