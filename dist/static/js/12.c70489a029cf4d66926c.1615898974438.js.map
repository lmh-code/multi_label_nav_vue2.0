{"version":3,"sources":["webpack:///src/module/views/AgentCamp/SaleMgt/LookByPrice.vue","webpack:///./src/module/views/AgentCamp/SaleMgt/LookByPrice.vue?175b","webpack:///./src/module/views/AgentCamp/SaleMgt/LookByPrice.vue","webpack:///src/module/views/AgentCamp/SaleMgt/LookByGoods.vue","webpack:///./src/module/views/AgentCamp/SaleMgt/LookByGoods.vue?12bc","webpack:///src/module/views/AgentCamp/SaleMgt/index.vue","webpack:///./src/module/views/AgentCamp/SaleMgt/LookByGoods.vue","webpack:///./src/module/views/AgentCamp/SaleMgt/index.vue?f882","webpack:///./src/module/views/AgentCamp/SaleMgt/index.vue"],"names":["LookByPrice","mixins","getVendors","data","loading","pageNum","pageSize","total","searchContent","vendorNos","startTime","Object","utils","Date","getTime","endTime","showStatus","quoteNo","statusOptions","constants","exportLoading","checkedList","columns","title","dataIndex","minWidth","ellipsis","formatData","this","showStatusFormat","fixed","width","operation","label","icon","clickFunc","goDetailPage","goEditPage","isShow","showEdit","publishHandel","showPublishAndDelete","deleteHandel","tableData","exportConfig","vendorName","updateTime","validTimeRange","statusDesc","methods","doAddHandel","$router","push","changeSize","value","doSearchHandle","changeCurrent","firstPage","_this","$tip","message","$http","post","saleMgtUrl","getQuoteList","extends_default","then","res","code","tableDataTemp","result","length","forEach","item","Error","msg","catch","e","notify","selectionChangeHandel","_ref","selection","concat","toConsumableArray_default","doExortHandel","_this2","tHeader","filterVal","exportExcel","ExportJsonToExcel","header","filename","row","_this3","$confirm","confirmButtonText","cancelButtonText","type","publish","err","_this4","deleteQuote","statusMsg","filter","SaleMgt_LookByPrice","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","on","click","_v","model","label-position","placeholder","multiple","collapse-tags","callback","$$v","$set","expression","_l","key","vendorNo","format","value-format","filterable","clearable","trim","$event","disabled","border","dataSource","selection-change","showPagination","size-change","current-change","staticRenderFns","AgentCamp_SaleMgt_LookByPrice","__webpack_require__","normalizeComponent","ssrContext","LookByGoods","pageSizes","constant","pageSizeStart20","goodsName","barCode","erpGoodsNo","vendorGoodsNo","spec","unit","showPrice","salePrice","qty","getListByProduct","SaleMgt_LookByGoods","SaleMgt","components","LookByGoods_normalizeComponent","activeName","mounted","$refs","lookByPrice","lookByGoods","activated","researchMap","$route","path","$jump","researched","computed","vuex_esm","AgentCamp_SaleMgt","name","ref","SaleMgt_Component","SaleMgt_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/12.c70489a029cf4d66926c.1615898974438.js","sourcesContent":["<style scoped>\n  .nopt {\n    padding-top: 0 !important;\n  }\n</style>\n\n<template>\n  <div>\n    <div class=\"handel-wraper nopt\">\n      <el-button \n        @click=\"doAddHandel\"\n        type=\"primary\"\n        icon=\"el-icon-plus\" \n        size=\"mini\">新增报价单</el-button>\n    </div>\n    <div class=\"search-form-wraper\">\n      <el-form :model=\"searchContent\" label-position=\"top\">\n        <el-form-item label=\"供应商\">\n          <el-select \n            class=\"search-input\" \n            v-model=\"searchContent.vendorNos\" \n            placeholder=\"选择供应商\" \n            multiple\n            collapse-tags\n            size=\"small\">\n            <el-option \n              v-for=\"item in vendors\" \n              :key=\"item.vendorNo\" \n              :label=\"item.vendorName\" \n              :value=\"item.vendorNo\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"价格有效起始时间\">\n          <el-date-picker \n            class=\"search-input\" \n            v-model=\"searchContent.startTime\" \n            type=\"datetime\" \n            placeholder=\"价格有效起始时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\" \n            value-format=\"yyyy-MM-dd HH:mm:ss\" \n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"价格有效终止时间\">\n          <el-date-picker \n            class=\"search-input\" \n            v-model=\"searchContent.endTime\" \n            type=\"datetime\" \n            placeholder=\"价格有效终止时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\" \n            value-format=\"yyyy-MM-dd HH:mm:ss\" \n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"价格状态\">\n          <el-select \n            class=\"search-input\" \n            v-model=\"searchContent.showStatus\" \n            placeholder=\"选择状态\" \n            filterable\n            clearable\n            size=\"small\">\n            <el-option \n              v-for=\"item in statusOptions\" \n              :key=\"item.value\" \n              :label=\"item.label\" \n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"报价单号\">\n          <el-input \n            v-model.trim=\"searchContent.quoteNo\" \n            size=\"small\" \n            class=\"search-input\" \n            placeholder=\"报价单号\"\n            clearable></el-input>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSearchHandle(true)\" size=\"mini\">搜索</el-button>\n        </el-form-item>\n        <el-form-item>\n          <el-button :disabled=\"checkedList.length === 0\" @click=\"doExortHandel\" size=\"mini\" :loading=\"exportLoading\">导出</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"table-wraper\">\n      <bl-table\n        :loading=\"loading\"\n        :border=\"false\"\n        :selection=\"true\"\n        :dataSource=\"tableData\"\n        :columns=\"columns\"\n        @selection-change=\"selectionChangeHandel\"/>\n      <bl-pagination\n        :showPagination=\"tableData.length > 0\"\n        :pageNum=\"pageNum\"\n        :total=\"total\"\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"/>\n    </div>\n  </div>\n</template>\n<script>\nimport vendorsMixin from '@/module/mixin/getVendors'\nimport requestUrl from '@/module/api/saleMgtUrl'\nimport {dateFormat, objectToArray, changeDateToTimestamp} from '@/utils/utils'\nimport exportExcel from '@/utils/exportExcel'\nimport constants from './constants'\nexport default {\n  mixins: [vendorsMixin],\n  data() {\n    return {\n      loading: false,\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      searchContent: {\n        vendorNos: [],\n        startTime: `${dateFormat('yyyy-MM-dd', new Date().getTime())} 00:00:00`,\n        endTime: `${dateFormat('yyyy-MM-dd', new Date().getTime() + 86400000)} 23:59:59`,\n        showStatus: '',\n        quoteNo: ''\n      },\n      statusOptions: constants.statusOptions,\n      exportLoading: false,\n      checkedList: [],\n      columns: [\n        {\n          title: '供应商',\n          dataIndex: 'vendorName',\n          minWidth: 120\n        },\n        {\n          title: '报价单号',\n          dataIndex: 'quoteNo',\n          ellipsis: true,\n          minWidth: 170\n        },\n        {\n          title: '最新报价时间',\n          dataIndex: 'updateTime',\n          ellipsis: true,\n          minWidth: 170\n        },\n        {\n          title: '生效时间',\n          dataIndex: 'validTimeRange',\n          ellipsis: true,\n          minWidth: 170\n        },\n        {\n          title: '状态',\n          dataIndex: 'showStatus',\n          minWidth: 80,\n          formatData: this.showStatusFormat\n        },\n        {\n          title: '操作',\n          fixed: 'right',\n          width: 150,\n          operation: [\n            {\n              label: '查看',\n              icon: 'el-icon-view',\n              clickFunc: this.goDetailPage\n            },\n            {\n              label: '编辑',\n              icon: 'el-icon-edit',\n              clickFunc: this.goEditPage,\n              isShow: this.showEdit\n            },\n            {\n              label: '发布',\n              icon: 'el-icon-top',\n              clickFunc: this.publishHandel,\n              isShow: this.showPublishAndDelete\n            },\n            {\n              label: '删除',\n              icon: 'el-icon-delete',\n              clickFunc: this.deleteHandel,\n              isShow: this.showPublishAndDelete\n            }\n          ]\n        }\n      ],\n      tableData: [],\n      exportConfig: {\n        vendorName: '供应商',\n        quoteNo: '报价单号',\n        updateTime: '最新报价时间',\n        validTimeRange: '生效时间',\n        statusDesc: '状态',\n      }\n    }\n  },\n  methods: {\n    doAddHandel() {\n      this.$router.push('/sale_mgt/add')\n    },\n    changeSize(value) {\n      this.pageSize = value\n      this.doSearchHandle()\n    },\n    changeCurrent(value) {\n      this.pageNum = value\n      this.doSearchHandle()\n    },\n    doSearchHandle(firstPage) {\n      this.checkedList = []\n      if (firstPage === true) {\n        this.pageNum = 1\n      }\n      if(this.searchContent.startTime && this.searchContent.endTime) {\n        if(changeDateToTimestamp(this.searchContent.startTime) > changeDateToTimestamp(this.searchContent.endTime)) {\n          this.$tip.message('价格有效起始时间不能早于终止时间', 'warning')\n          return\n        }\n      }\n      this.loading = true\n      this.$http.post(requestUrl.getQuoteList, {\n        ...this.searchContent,\n        pageNum: this.pageNum,\n        pageSize: this.pageSize,\n      }).then(res => {\n        this.loading = false\n        if (res.code === 0) {\n          let tableDataTemp = res.data && res.data.result && res.data.result.length ? res.data.result : []\n          tableDataTemp.forEach(item => {\n            item.validTimeRange = `${item.startTime} ~ ${item.endTime}`\n          })\n          this.tableData = tableDataTemp\n          this.total = res.data && res.data.total ? res.data.total : 0\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.$tip.notify(e.message || '', 'error', '系统提示')\n      })\n    },\n    selectionChangeHandel({selection}) {\n      this.checkedList = [...selection]\n    },\n    doExortHandel() {\n      const tHeader = objectToArray(this.exportConfig, false)\n      const filterVal = objectToArray(this.exportConfig, true)\n      this.checkedList.forEach(item => {\n        item.statusDesc = this.showStatusFormat(item.showStatus)\n      })\n      exportExcel.ExportJsonToExcel({\n        header: tHeader,\n        filterVal,\n        data: this.checkedList,\n        filename: '报价单汇总'\n      })\n    },\n    goDetailPage(row) {\n      this.$router.push(`/sale_mgt/see/${row.quoteNo}`)\n    },\n    showEdit(row) {\n      return row.showStatus === 0 || row.showStatus === 1 || row.showStatus === 2 \n    },\n    goEditPage(row) {\n      this.$router.push(`/sale_mgt/edit/${row.quoteNo}`)\n    },\n    showPublishAndDelete(row) {\n      return row.showStatus === 0 \n    },\n    publishHandel(row) {\n      this.$confirm('确定要执行发布操作吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http.post(requestUrl.publish, { quoteNo: row.quoteNo }).then(res => {\n          if(res && res.code === 0) {\n            this.$tip.message('发布成功', 'success');\n            this.doSearchHandle()\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(err => {\n          this.$tip.notify(e.message || '', 'error', '系统提示')\n        })\n      }).catch(() => {})\n    },\n    deleteHandel(row) {\n      this.$confirm('确定要执行删除操作吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.$http.post(requestUrl.deleteQuote, { quoteNo: row.quoteNo }).then(res => {\n          if(res && res.code === 0) {\n            this.$tip.message('删除成功', 'success');\n            this.doSearchHandle()\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(err => {\n          this.$tip.notify(e.message || '', 'error', '系统提示')\n        })\n      }).catch(() => {})\n    },\n    showStatusFormat(value) {\n      let statusMsg = this.statusOptions.filter(item => {\n        return item.value === value\n      })[0]\n      return statusMsg ? statusMsg.label : value\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/module/views/AgentCamp/SaleMgt/LookByPrice.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"handel-wraper nopt\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-plus\",\"size\":\"mini\"},on:{\"click\":_vm.doAddHandel}},[_vm._v(\"新增报价单\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"供应商\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"选择供应商\",\"multiple\":\"\",\"collapse-tags\":\"\",\"size\":\"small\"},model:{value:(_vm.searchContent.vendorNos),callback:function ($$v) {_vm.$set(_vm.searchContent, \"vendorNos\", $$v)},expression:\"searchContent.vendorNos\"}},_vm._l((_vm.vendors),function(item){return _c('el-option',{key:item.vendorNo,attrs:{\"label\":item.vendorName,\"value\":item.vendorNo}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格有效起始时间\"}},[_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"datetime\",\"placeholder\":\"价格有效起始时间\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"size\":\"small\"},model:{value:(_vm.searchContent.startTime),callback:function ($$v) {_vm.$set(_vm.searchContent, \"startTime\", $$v)},expression:\"searchContent.startTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格有效终止时间\"}},[_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"datetime\",\"placeholder\":\"价格有效终止时间\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"size\":\"small\"},model:{value:(_vm.searchContent.endTime),callback:function ($$v) {_vm.$set(_vm.searchContent, \"endTime\", $$v)},expression:\"searchContent.endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格状态\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"选择状态\",\"filterable\":\"\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.searchContent.showStatus),callback:function ($$v) {_vm.$set(_vm.searchContent, \"showStatus\", $$v)},expression:\"searchContent.showStatus\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"报价单号\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"报价单号\",\"clearable\":\"\"},model:{value:(_vm.searchContent.quoteNo),callback:function ($$v) {_vm.$set(_vm.searchContent, \"quoteNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.quoteNo\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandle(true)}}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":_vm.checkedList.length === 0,\"size\":\"mini\",\"loading\":_vm.exportLoading},on:{\"click\":_vm.doExortHandel}},[_vm._v(\"导出\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('bl-table',{attrs:{\"loading\":_vm.loading,\"border\":false,\"selection\":true,\"dataSource\":_vm.tableData,\"columns\":_vm.columns},on:{\"selection-change\":_vm.selectionChangeHandel}}),_vm._v(\" \"),_c('bl-pagination',{attrs:{\"showPagination\":_vm.tableData.length > 0,\"pageNum\":_vm.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-49c6e56d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/AgentCamp/SaleMgt/LookByPrice.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49c6e56d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LookByPrice.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LookByPrice.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LookByPrice.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49c6e56d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LookByPrice.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-49c6e56d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/AgentCamp/SaleMgt/LookByPrice.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"search-form-wraper\">\n      <el-form :model=\"searchContent\" label-position=\"top\">\n        <el-form-item label=\"供应商\">\n          <el-select \n            class=\"search-input\" \n            v-model=\"searchContent.vendorNos\" \n            placeholder=\"选择供应商\" \n            multiple\n            collapse-tags\n            size=\"small\">\n            <el-option \n              v-for=\"item in vendors\" \n              :key=\"item.vendorNo\" \n              :label=\"item.vendorName\" \n              :value=\"item.vendorNo\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"商品名称或编码\">\n          <el-input \n            v-model.trim=\"searchContent.goodsName\" \n            size=\"small\" \n            class=\"search-input\" \n            placeholder=\"商品名称或编码\"\n            clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"报价单号\">\n          <el-input \n            v-model.trim=\"searchContent.quoteNo\" \n            size=\"small\" \n            class=\"search-input\" \n            placeholder=\"报价单号\"\n            clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"价格有效起始时间\">\n          <el-date-picker \n            class=\"search-input\" \n            v-model=\"searchContent.startTime\" \n            type=\"datetime\" \n            placeholder=\"价格有效起始时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\" \n            value-format=\"yyyy-MM-dd HH:mm:ss\" \n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"价格有效终止时间\">\n          <el-date-picker \n            class=\"search-input\" \n            v-model=\"searchContent.endTime\" \n            type=\"datetime\" \n            placeholder=\"价格有效终止时间\"\n            format=\"yyyy-MM-dd HH:mm:ss\" \n            value-format=\"yyyy-MM-dd HH:mm:ss\" \n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"价格状态\">\n          <el-select \n            class=\"search-input\" \n            v-model=\"searchContent.showStatus\" \n            placeholder=\"选择状态\" \n            filterable\n            clearable\n            size=\"small\">\n            <el-option \n              v-for=\"item in statusOptions\" \n              :key=\"item.value\" \n              :label=\"item.label\" \n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSearchHandle(true)\" size=\"mini\">搜索</el-button>\n        </el-form-item>\n        <el-form-item>\n          <el-button :disabled=\"checkedList.length === 0\" @click=\"doExortHandel\" size=\"mini\" :loading=\"exportLoading\">导出</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"table-wraper\">\n      <bl-table\n        :loading=\"loading\"\n        :border=\"false\"\n        :selection=\"true\"\n        :dataSource=\"tableData\"\n        :columns=\"columns\"\n        @selection-change=\"selectionChangeHandel\"/>\n      <bl-pagination\n        :showPagination=\"tableData.length > 0\"\n        :pageNum=\"pageNum\"\n        :total=\"total\"\n        :pageSizes=\"pageSizes\"\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"/>\n    </div>\n  </div>\n</template>\n<script>\nimport vendorsMixin from '@/module/mixin/getVendors'\nimport requestUrl from '@/module/api/saleMgtUrl'\nimport {dateFormat, objectToArray, changeDateToTimestamp} from '@/utils/utils'\nimport exportExcel from '@/utils/exportExcel'\nimport constantUtil from '@/utils/constant'\nimport constants from './constants'\nexport default {\n  mixins: [vendorsMixin],\n  data() {\n    return {\n      loading: false,\n      pageNum: 1,\n      pageSize: 20,\n      pageSizes: constantUtil.pageSizeStart20,\n      total: 0,\n      searchContent: {\n        vendorNos: [],\n        startTime: `${dateFormat('yyyy-MM-dd', new Date().getTime())} 00:00:00`,\n        endTime: `${dateFormat('yyyy-MM-dd', new Date().getTime() + 86400000)} 23:59:59`,\n        showStatus: '',\n        quoteNo: '',\n        goodsName: ''\n      },\n      statusOptions: constants.statusOptions,\n      exportLoading: false,\n      checkedList: [],\n      columns: [\n        {\n          title: '供应商',\n          dataIndex: 'vendorName',\n          minWidth: 120\n        },\n        {\n          title: '条形码',\n          dataIndex: 'barCode',\n          ellipsis: true,\n          minWidth: 120\n        },\n        {\n          title: '商品编码',\n          dataIndex: 'erpGoodsNo',\n          ellipsis: true,\n          minWidth: 120\n        },\n        {\n          title: '货号',\n          dataIndex: 'vendorGoodsNo',\n          ellipsis: true,\n          minWidth: 110\n        },\n        {\n          title: '商品名称',\n          dataIndex: 'goodsName',\n          minWidth: 120\n        },\n        {\n          title: '规格',\n          dataIndex: 'spec',\n          minWidth: 90\n        },\n        {\n          title: '单位',\n          dataIndex: 'unit',\n          minWidth: 90\n        },\n        {\n          title: '报价单号',\n          dataIndex: 'quoteNo',\n          ellipsis: true,\n          minWidth: 170\n        },\n        {\n          title:'市场参考价',\n          dataIndex: 'showPrice',\n          minWidth: 90\n        },\n        {\n          title: '销售价',\n          dataIndex: 'salePrice',\n          minWidth: 90\n        },\n        {\n          title:'日均可订货量',\n          dataIndex: 'qty',\n          minWidth: 110\n        },\n        {\n          title: '价格有效期',\n          dataIndex: 'validTimeRange',\n          ellipsis: true,\n          minWidth: 170\n        },\n        {\n          title: '报价时间',\n          dataIndex: 'updateTime',\n          ellipsis: true,\n          minWidth: 170\n        }\n      ],\n      tableData: [],\n      exportConfig: {\n        vendorName: '供应商',\n        barCode:'条形码',\n        erpGoodsNo: '商品编码',\n        vendorGoodsNo:'货号',\n        goodsName: '商品名称',\n        spec:'规格',\n        unit: '单位',\n        quoteNo: '报价单号',\n        showPrice:'市场参考价',\n        salePrice: '销售价',\n        qty:'日均可订货量',\n        validTimeRange: '价格有效期',\n        updateTime: '报价时间'\n      }\n    }\n  },\n  methods: {\n    changeSize(value) {\n      this.pageSize = value\n      this.doSearchHandle()\n    },\n    changeCurrent(value) {\n      this.pageNum = value\n      this.doSearchHandle()\n    },\n    doSearchHandle(firstPage) {\n      this.checkedList = []\n      if (firstPage === true) {\n        this.pageNum = 1\n      }\n      if(this.searchContent.startTime && this.searchContent.endTime) {\n        if(changeDateToTimestamp(this.searchContent.startTime) > changeDateToTimestamp(this.searchContent.endTime)) {\n          this.$tip.message('价格有效起始时间不能早于终止时间', 'warning')\n          return\n        }\n      }\n      this.loading = true\n      this.$http.post(requestUrl.getListByProduct, {\n        ...this.searchContent,\n        pageNum: this.pageNum,\n        pageSize: this.pageSize,\n      }).then(res => {\n        this.loading = false\n        if (res.code === 0) {\n          let tableDataTemp = res.data && res.data.result && res.data.result.length ? res.data.result : []\n          tableDataTemp.forEach(item => {\n            item.validTimeRange = `${item.startTime} ~ ${item.endTime}`\n          })\n          this.tableData = tableDataTemp\n          this.total = res.data && res.data.total ? res.data.total : 0\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.$tip.notify(e.message || '', 'error', '系统提示')\n      })\n    },\n    selectionChangeHandel({selection}) {\n      this.checkedList = [...selection]\n    },\n    doExortHandel() {\n      const tHeader = objectToArray(this.exportConfig, false)\n      const filterVal = objectToArray(this.exportConfig, true)\n      exportExcel.ExportJsonToExcel({\n        header: tHeader,\n        filterVal,\n        data: this.checkedList,\n        filename: '报价单汇总（商品维度）'\n      })\n    },\n  }\n  \n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/module/views/AgentCamp/SaleMgt/LookByGoods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"供应商\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"选择供应商\",\"multiple\":\"\",\"collapse-tags\":\"\",\"size\":\"small\"},model:{value:(_vm.searchContent.vendorNos),callback:function ($$v) {_vm.$set(_vm.searchContent, \"vendorNos\", $$v)},expression:\"searchContent.vendorNos\"}},_vm._l((_vm.vendors),function(item){return _c('el-option',{key:item.vendorNo,attrs:{\"label\":item.vendorName,\"value\":item.vendorNo}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品名称或编码\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"商品名称或编码\",\"clearable\":\"\"},model:{value:(_vm.searchContent.goodsName),callback:function ($$v) {_vm.$set(_vm.searchContent, \"goodsName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.goodsName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"报价单号\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"报价单号\",\"clearable\":\"\"},model:{value:(_vm.searchContent.quoteNo),callback:function ($$v) {_vm.$set(_vm.searchContent, \"quoteNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.quoteNo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格有效起始时间\"}},[_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"datetime\",\"placeholder\":\"价格有效起始时间\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"size\":\"small\"},model:{value:(_vm.searchContent.startTime),callback:function ($$v) {_vm.$set(_vm.searchContent, \"startTime\", $$v)},expression:\"searchContent.startTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格有效终止时间\"}},[_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"datetime\",\"placeholder\":\"价格有效终止时间\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"size\":\"small\"},model:{value:(_vm.searchContent.endTime),callback:function ($$v) {_vm.$set(_vm.searchContent, \"endTime\", $$v)},expression:\"searchContent.endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"价格状态\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"选择状态\",\"filterable\":\"\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.searchContent.showStatus),callback:function ($$v) {_vm.$set(_vm.searchContent, \"showStatus\", $$v)},expression:\"searchContent.showStatus\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandle(true)}}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":_vm.checkedList.length === 0,\"size\":\"mini\",\"loading\":_vm.exportLoading},on:{\"click\":_vm.doExortHandel}},[_vm._v(\"导出\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('bl-table',{attrs:{\"loading\":_vm.loading,\"border\":false,\"selection\":true,\"dataSource\":_vm.tableData,\"columns\":_vm.columns},on:{\"selection-change\":_vm.selectionChangeHandel}}),_vm._v(\" \"),_c('bl-pagination',{attrs:{\"showPagination\":_vm.tableData.length > 0,\"pageNum\":_vm.pageNum,\"total\":_vm.total,\"pageSizes\":_vm.pageSizes},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-19a8cb26\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/AgentCamp/SaleMgt/LookByGoods.vue\n// module id = null\n// module chunks = ","<style scoped lang=\"less\">\n.pt4 {\n  padding-top: 4px !important;\n}\n</style>\n<template>\n  <div class=\"main-wrapper pt4\">\n    <el-tabs v-model=\"activeName\" type=\"card\">\n      <el-tab-pane label=\"按报价单查看\" name=\"first\">\n        <look-by-price ref = \"lookByPrice\"/>\n      </el-tab-pane>\n      <el-tab-pane label=\"按商品查看\" name=\"second\">\n        <look-by-goods ref = \"lookByGoods\"/>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n<script>\n  import {mapGetters} from 'vuex';\n  import LookByPrice from './LookByPrice'\n  import LookByGoods from './LookByGoods'\n  export default {\n    components: {\n      LookByGoods,\n      LookByPrice\n    },\n    data() {\n      return {\n        activeName: 'first'\n      }\n    },\n    mounted() {\n      if(this.$refs.lookByPrice) this.$refs.lookByPrice.doSearchHandle(true)\n      if(this.$refs.lookByGoods) this.$refs.lookByGoods.doSearchHandle(true)\n    },\n    activated() {\n      if(this.researchMap[this.$route.path]) {\n        if(this.activeName === 'first') {\n          if(this.$refs.lookByPrice) this.$refs.lookByPrice.doSearchHandle()\n        }else {\n          if(this.$refs.lookByGoods) this.$refs.lookByGoods.doSearchHandle()\n        }\n        this.$jump.researched(this.$route.path)\n      }\n    },\n    computed: {\n      ...mapGetters({\n        researchMap: 'research/RESEARCH_MAP'\n      })\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/module/views/AgentCamp/SaleMgt/index.vue","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LookByGoods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LookByGoods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-19a8cb26\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LookByGoods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/AgentCamp/SaleMgt/LookByGoods.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-wrapper pt4\"},[_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"按报价单查看\",\"name\":\"first\"}},[_c('look-by-price',{ref:\"lookByPrice\"})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"按商品查看\",\"name\":\"second\"}},[_c('look-by-goods',{ref:\"lookByGoods\"})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-76527968\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/AgentCamp/SaleMgt/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76527968\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!style-resources-loader?{\\\"patterns\\\":\\\"/Users/zhanyizhu/Desktop/projects/blx-code/supplier_web/src/assets/style/base.less\\\"}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76527968\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-76527968\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/AgentCamp/SaleMgt/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}