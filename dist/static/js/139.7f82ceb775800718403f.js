webpackJsonp([139],{"55Vu":function(e,t){},Tnh4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("Dd8w"),a=r.n(o),n=r("ssT3"),i=r("oAV5"),s="/plateform/a/order/orderQuery",l={data:function(){return{loading:!1,comonOption:"",currentPageByPhoneNum:1,pageSizeByPhoneNum:20,totalCount:0,tableData:[]}},created:function(){this.comonOption=this.$store.state.orders.buyerPhone,(this.comonOption&&""!=this.comonOption||"areaSum"===this.$route.query.from||"storeSum"===this.$route.query.from||"solitaire"===this.$route.query.from)&&this.getOrderMesgByOpt(!0)},computed:{getBuyerPhone:function(){return this.$store.state.orders.buyerPhone}},watch:{getBuyerPhone:function(){this.comonOption=this.$store.state.orders.buyerPhone},comonOption:function(){this.comonOption&&""!=this.comonOption&&this.getOrderMesgByOpt()}},methods:{changeSizeBP:function(e){this.pageSizeByPhoneNum=e,this.getOrderMesgByOpt()},changeCurrentBP:function(e){this.currentPageByPhoneNum=e,this.getOrderMesgByOpt()},getOrderMesgByOpt:function(e){var t=this;this.isbySearchBtn=!1,this.loading=!0,e&&(this.currentPageByPhoneNum=1);var r=this.$route.query,o={DIFFCITY:!0,regionCode:n.a.get("regionCode")||""},i=n.a.get("searchContent")?n.a.get("searchContent").searchContent:{};"areaSum"===r.from||"storeSum"===r.from?("storeSum"===r.from?o.erpStoreNo=r.storeNo:o.erpStoreNo=null,i&&(i.pickUpTime&&(o.pickUpTime=i.pickUpTime),5===i.platformId?o.platformId=50:6===i.platformId&&(o.platformId=60),i.businessType&&(o.businessType=i.businessType),i.startPayTime&&(o.beginTime=i.startPayTime),i.endPayTime&&(o.endTime=i.endPayTime)),r.storeLeaderId?o.storeLeaderId=r.storeLeaderId:o.storeLeaderId=null,o.searchType=r.searchType,o.searchValue=r.searchValue,o.buyerPhone=null):"solitaire"===r.from?o.solitaireId=r.solitaireId:o={buyerPhone:this.comonOption,DIFFCITY:!0},this.$http.post(s,a()({pageNum:this.currentPageByPhoneNum,pageSize:this.pageSizeByPhoneNum},o)).then(function(e){if(t.loading=!1,0===e.code)return e.data&&e.data.result&&e.data.result.length?(e.data.result.forEach(function(e){e.redirectUrl="/order_mgt/detail/"+e.orderId}),t.tableData=e.data.result):t.tableData=[],void(1==t.currentPageByPhoneNum&&(t.totalCount=e.data.total));throw new Error(e.msg)}).catch(function(e){t.loading=!1,t.$notify.error({title:"提示",message:e.message})})},goHome:function(){this.$router.push("/index")},goOrderMgt:function(){var e=this.$route.query;"areaSum"!==e.from&&"storeSum"!==e.from&&"solitaire"!==e.from||n.a.remove("searchContent"),this.$router.push("/order_mgt")},goAreaSumMgt:function(){this.$router.push("/arear_pgs")},goStoreSumMgt:function(){this.$router.push("/store_pgs")},timeFormatter:function(e,t,r){return r&&""!=r?i.v(new Date(r).getTime()):""},moneyToFixed:function(e,t,r){return r&&""!=r?parseFloat(r).toFixed(2):"0.00"},goSolitairePage:function(){this.$router.push("/solitaire_order")}},beforeRouteLeave:function(e,t,r){e.meta.keepAlive=!0,r()}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"search-form-wraper"},[r("el-button",{attrs:{type:"text"},on:{click:e.goHome}},[r("i",{staticClass:"fa fa-home",attrs:{"aria-hidden":"true"}}),e._v("返回首页")]),e._v(" "),r("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text"},on:{click:e.goOrderMgt}},[r("i",{staticClass:"fa fa-list-alt",attrs:{"aria-hidden":"true"}}),e._v("返回订单管理")]),e._v(" "),"areaSum"===e.$route.query.from?r("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text",icon:"el-icon-notebook-2"},on:{click:e.goAreaSumMgt}},[e._v("返回区域商品汇总")]):e._e(),e._v(" "),"storeSum"===e.$route.query.from?r("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text",icon:"el-icon-notebook-2"},on:{click:e.goStoreSumMgt}},[e._v("返回门店商品汇总")]):e._e(),e._v(" "),"solitaire"===e.$route.query.from?r("el-button",{staticStyle:{"margin-left":"30px"},attrs:{type:"text",icon:"el-icon-notebook-2"},on:{click:e.goSolitairePage}},[e._v("返回群接龙查询")]):e._e()],1),e._v(" "),r("div",{staticClass:"table-wraper order-table"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"fixed-height",staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":"没有查询到您想要的数据",size:"small"}},[r("el-table-column",{attrs:{"min-width":"120px",prop:"platformName",label:"订单来源"}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"200px",prop:"orderId",label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("p",{staticClass:"order-id"},[t.row.parentOrderNo?r("el-tag",{attrs:{size:"mini"}},[e._v("子单")]):e._e(),e._v(" "),r("router-link",{attrs:{to:t.row.redirectUrl,target:"_blank"}},[e._v(e._s(t.row.orderId))])],1)]}}])}),e._v(" "),r("el-table-column",{attrs:{"min-width":"86px",prop:"orderTypeName",label:"订单类型"}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"160px",prop:"erpStoreName",label:"所属门店"}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"130px",label:"所属团长店"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.storeLeaderId?r("p",[e._v(e._s(t.row.storeLeaderId)+"_"+e._s(t.row.virtualStoreName)+"_"+e._s(t.row.userName))]):r("p",[e._v("-")])]}}])}),e._v(" "),r("el-table-column",{attrs:{"min-width":"100px",prop:"rName",label:"收货人"}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"120px",prop:"rTel",label:"收货手机"}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"86px",prop:"orderTotalAmount",label:"订单金额",formatter:e.moneyToFixed}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"86px",prop:"realPaidAmount",label:"实付金额",formatter:e.moneyToFixed}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"86px",prop:"deliveryAmount",label:"配送费",formatter:e.moneyToFixed}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"86px",prop:"orderStatusName",label:"订单状态"}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"130px",prop:"syncErpStatusName",label:"同步ERP状态"}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"176px",prop:"orderCreateTime",label:"下单时间",formatter:e.timeFormatter}}),e._v(" "),r("el-table-column",{attrs:{"min-width":"176px",prop:"receiveTime",label:"要求送达/自提时间",formatter:e.timeFormatter}})],1),e._v(" "),r("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.tableData.length>0,expression:"tableData.length>0"}],staticClass:"tc mt20",attrs:{background:"","current-page":e.currentPageByPhoneNum,"page-sizes":[20,50,100,150,200],layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.changeSizeBP,"current-change":e.changeCurrentBP,"update:currentPage":function(t){e.currentPageByPhoneNum=t},"update:current-page":function(t){e.currentPageByPhoneNum=t}}})],1)])},staticRenderFns:[]};var m=r("VU/8")(l,u,!1,function(e){r("55Vu")},null,null);t.default=m.exports}});
//# sourceMappingURL=139.7f82ceb775800718403f.js.map