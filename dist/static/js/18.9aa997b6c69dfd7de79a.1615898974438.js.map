{"version":3,"sources":["webpack:///./src/module/api/saleSearch.js","webpack:///src/module/views/Report/SaleSearch/GoodsSum.vue","webpack:///./src/module/views/Report/SaleSearch/GoodsSum.vue?0d19","webpack:///./src/module/views/Report/SaleSearch/GoodsSum.vue","webpack:///src/module/views/Report/SaleSearch/StoreGoodsSum.vue","webpack:///./src/module/views/Report/SaleSearch/StoreGoodsSum.vue?51f3","webpack:///src/module/views/Report/SaleSearch/index.vue","webpack:///./src/module/views/Report/SaleSearch/StoreGoodsSum.vue","webpack:///./src/module/views/Report/SaleSearch/index.vue?5b2a","webpack:///./src/module/views/Report/SaleSearch/index.vue"],"names":["__WEBPACK_IMPORTED_MODULE_0__utils_config__","__webpack_require__","saleSearchUrl","summaryByGoods","config","reqUrl","storeSale","summaryGoodsEachStore","GoodsSum","mixins","getVendors","components","ChooseStore","data","pageNum","pageSize","pageSizes","constant","pageSizeStart20","loading","exportLoading","total","tableData","searchContent","vendorNoList","storeNoList","storeNames","startDate","Object","utils","Date","parse","endDate","goodsNo","goodsBarcode","vendorGoodsNo","contractNo","settlementMethodCode","typeIdOptions","value","label","totalSum","totalGrossProfitAmount","totalSaleAmount","checkedStoreList","vendorNos","searchValStr","goodsOptions","fetchLoading","columns","title","dataIndex","minWidth","ellipsis","sortable","fixed","width","operation","icon","clickFunc","this","goDetailPage","exportConfig","index","goodsName","spec","saleUnit","saleQty","saleAmount","saleRatio","grossProfitAmount","methods","changeSize","doSearchHandle","changeCurrent","firstPage","_this","$tip","message","params","extends_default","$http","post","saleSearch","then","res","code","resultVal","tableDataListTemp","pageVo","result","length","map","item","idx","storeSaleRatio","$emit","latestTime","Error","msg","catch","e","notify","doExortHandel","_this2","tHeader","filterVal","exportExcel","ExportJsonToExcel","header","filename","clickInputHandel","vendorNo","vendors","$refs","chooseStore","setDefault","defaultChecked","confirmHandel","storeNo","storeName","join","doFetchGoodsHandel","_this3","clearTimeout","timeout","setTimeout","searchValue","common","queryVendorGoodsPageList","goodsListTemp","id","goodsId","goodsNoName","selectAsyncHandel","val","getSummaries","_this4","sums","newArray","forEach","property","push","row","$storage","set","$router","SaleSearch_GoodsSum","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","label-position","type","placeholder","format","value-format","size","callback","$$v","$set","expression","_v","multiple","collapse-tags","_l","key","vendorName","readonly","trim","slot","on","click","filterable","remote","clearable","remote-method","change","$event","disabled","border","dataSource","showSummary","showPagination","size-change","current-change","ref","confirm","staticRenderFns","Report_SaleSearch_GoodsSum","normalizeComponent","StoreGoodsSum","areaStr","storeSaleAmount","storeSaleList","provinceName","cityName","SaleSearch_StoreGoodsSum","SaleSearch","StoreGoodsSum_normalizeComponent","activeName","firstLatestTime","secondLatestTime","mounted","goodsSum","storeGoodsSum","setFirstLatestTime","timeStr","setSecondLatestTime","Report_SaleSearch","name","setLatestTime","_s","placement","trigger","_e","SaleSearch_Component","SaleSearch_normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/18.9aa997b6c69dfd7de79a.1615898974438.js","sourcesContent":["import config from '@/utils/config'\nconst saleSearchUrl = {\n  // 销售汇总\n  summaryByGoods: `${config.reqUrl}/supplier/a/vendorSale/summaryByGoods`,\n  // 门店汇总\n  storeSale: `${config.reqUrl}/supplier/a/vendorSale/storeSale`,\n  // 单个商品在门店销售汇总\n  summaryGoodsEachStore: `${config.reqUrl}/supplier/a/vendorSale/summaryGoodsEachStore`\n}\n\nexport default saleSearchUrl;\n\n\n\n// WEBPACK FOOTER //\n// ./src/module/api/saleSearch.js","\n<template>\n  <div>\n    <div class=\"search-form-wraper\">\n      <el-form :model=\"searchContent\" label-position=\"top\">\n        <el-form-item label=\"单据开始时间\">\n          <el-date-picker \n            class=\"search-input\" \n            v-model=\"searchContent.startDate\" \n            type=\"date\" \n            placeholder=\"单据开始时间\"\n            format=\"yyyy-MM-dd\" \n            value-format=\"yyyy-MM-dd\" \n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"单据结束时间\">\n          <el-date-picker \n            class=\"search-input\" \n            v-model=\"searchContent.endDate\" \n            type=\"date\" \n            placeholder=\"单据结束时间\"\n            format=\"yyyy-MM-dd\" \n            value-format=\"yyyy-MM-dd\" \n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"供应商\">\n          <el-select \n            class=\"search-input\" \n            v-model=\"searchContent.vendorNoList\" \n            placeholder=\"选择供应商\" \n            multiple\n            collapse-tags\n            size=\"small\">\n            <el-option \n              v-for=\"item in vendors\" \n              :key=\"item.vendorNo\" \n              :label=\"item.vendorName\" \n              :value=\"item.vendorNo\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"门店\">\n          <el-input \n            v-model.trim=\"searchContent.storeNames\" \n            size=\"small\" \n            class=\"search-input\" \n            placeholder=\"点击选择门店\"\n            readonly>\n              <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"clickInputHandel\"></el-button>\n            </el-input>\n        </el-form-item>\n        <el-form-item label=\"商品名称/编码\">\n          <el-select\n            v-model=\"searchValStr\"\n            filterable\n            remote\n            placeholder=\"商品名称/编码\"\n            size=\"small\"\n            class=\"search-input\"\n            clearable\n            :remote-method=\"doFetchGoodsHandel\"\n            :loading=\"fetchLoading\"\n            @change=\"selectAsyncHandel\">\n            <el-option\n              v-for=\"item in goodsOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"商品条码\">\n          <el-input \n            v-model.trim=\"searchContent.goodsBarcode\" \n            size=\"small\" \n            class=\"search-input\" \n            placeholder=\"商品条码\"\n            clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"货号\">\n          <el-input \n            v-model.trim=\"searchContent.vendorGoodsNo\" \n            size=\"small\" \n            class=\"search-input\" \n            placeholder=\"货号\"\n            clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"合同编码\">\n          <el-input \n            v-model.trim=\"searchContent.contractNo\" \n            size=\"small\" \n            class=\"search-input\" \n            placeholder=\"货号\"\n            clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"结算方式\">\n          <el-select \n            class=\"search-input\" \n            v-model=\"searchContent.settlementMethodCode\" \n            placeholder=\"结算方式\" \n            filterable\n            clearable\n            size=\"small\">\n            <el-option \n              v-for=\"item in typeIdOptions\" \n              :key=\"item.value\" \n              :label=\"item.label\" \n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSearchHandle(true)\" size=\"mini\">搜索</el-button>\n        </el-form-item>\n        <el-form-item>\n          <el-button :disabled=\"exportLoading\" @click=\"doExortHandel\" size=\"mini\" :loading=\"exportLoading\">导出</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"search-form-wraper\">\n      <bl-table\n        :loading=\"loading\"\n        :border=\"false\"\n        :dataSource=\"tableData\"\n        :columns=\"columns\"\n        :showSummary=\"true\"\n        :getSummaries=\"getSummaries\"/>\n      <bl-pagination\n        :showPagination=\"tableData.length > 0\"\n        :pageNum=\"pageNum\"\n        :total=\"total\"\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"/>\n    </div>\n    <choose-store \n      ref=\"chooseStore\"\n      @confirm=\"confirmHandel\"/>\n  </div>\n</template>\n<script>\nimport vendorsMixin from '@/module/mixin/getVendors'\nimport requestUrl from '@/module/api/saleSearch'\nimport commonUrl from '@/module/api/common'\nimport {dateFormat, objectToArray, changeDateToTimestamp, fixedNum} from '@/utils/utils'\nimport exportExcel from '@/utils/exportExcel'\nimport ChooseStore from '@/module/component/SearchItem/ChooseStore'\nimport utilConst from '@/utils/constant'\nexport default {\n  mixins: [\n    vendorsMixin\n  ],\n  components: {\n    ChooseStore\n  },\n  data() {\n    return {\n      pageNum: 1,\n      pageSize: 10,\n      pageSizes: utilConst.pageSizeStart20,\n      loading: false,\n      exportLoading: false,\n      total: 0,\n      tableData: [],\n      searchContent: {\n        vendorNoList: [],\n        storeNoList: [],\n        storeNames: '',\n        startDate: dateFormat('yyyy-MM-dd', Date.parse(new Date()) - 86400000),\n        endDate: dateFormat('yyyy-MM-dd', Date.parse(new Date()) - 86400000),\n        goodsNo: '',\n        goodsBarcode: '',\n        vendorGoodsNo: '',\n        contractNo: '',\n        settlementMethodCode: ''\n      },\n      typeIdOptions: [\n        {\n          value: '',\n          label: '全部'\n        },\n        {\n          value: 1,\n          label: '购销'\n        },\n        {\n          value: 2,\n          label: '联营'\n        },\n        {\n          value: 9,\n          label: '代营'\n        }\n      ],\n      totalSum: {\n        totalGrossProfitAmount: 0,\n        totalSaleAmount: 0\n      },\n      // 根据供应商选择门店\n      checkedStoreList: [],\n      vendorNos: [],\n      // 远程搜索商品\n      searchValStr: '',\n      goodsOptions: [],\n      fetchLoading: false,\n      columns: [\n        {\n          title: '序号',\n          dataIndex: 'index',\n          minWidth: 50\n        },\n        {\n          title: '商品名称',\n          dataIndex: 'goodsName',\n          ellipsis: true,\n          minWidth: 120\n        },\n        {\n          title: '商品编码',\n          dataIndex: 'goodsNo',\n          ellipsis: true,\n          minWidth: 90\n        },\n        {\n          title: '货号',\n          dataIndex: 'vendorGoodsNo',\n          ellipsis: true,\n          minWidth: 90\n        },\n        {\n          title: '商品条码',\n          dataIndex: 'goodsBarcode',\n          ellipsis: true,\n          minWidth: 90\n        },\n        {\n          title: '合同编码',\n          dataIndex: 'contractNo',\n          ellipsis: true,\n          minWidth: 110\n        },\n        {\n          title: '规格',\n          dataIndex: 'spec',\n          ellipsis: true,\n          minWidth: 90\n        },\n        {\n          title: '单位',\n          dataIndex: 'saleUnit',\n          ellipsis: true,\n          minWidth: 90\n        },\n        {\n          title: '销售量+赠品',\n          dataIndex: 'saleQty',\n          ellipsis: true,\n          minWidth: 130,\n          sortable: true\n        },\n        {\n          title: '销售额',\n          dataIndex: 'saleAmount',\n          ellipsis: true,\n          minWidth: 100,\n          sortable: true\n        },\n        {\n          title: '销售占比',\n          dataIndex: 'saleRatio',\n          ellipsis: true,\n          minWidth: 100,\n          sortable: true\n        },\n        {\n          title: '参考毛利额',\n          dataIndex: 'grossProfitAmount',\n          ellipsis: true,\n          minWidth: 120,\n          sortable: true\n        },\n        {\n          title: '操作',\n          fixed: 'right',\n          width: 120,\n          operation: [\n            {\n              label: '按门店查看',\n              icon: 'el-icon-view',\n              clickFunc: this.goDetailPage\n            }\n          ]\n        }\n      ],\n      exportConfig: {\n        index: '序号',\n        goodsName: '商品名称',\n        goodsNo: '商品编码',\n        vendorGoodsNo: '货号',\n        goodsBarcode: '商品条码',\n        contractNo: '合同编码',\n        spec: '规格',\n        saleUnit: '单位',\n        saleQty: '销售量+赠品',\n        saleAmount: '销售额',\n        saleRatio: '销售占比',\n        grossProfitAmount: '参考毛利额'\n      }\n    }\n  },\n  methods: {\n    changeSize(value) {\n      this.pageSize = value\n      this.doSearchHandle()\n    },\n    changeCurrent(value) {\n      this.pageNum = value\n      this.doSearchHandle()\n    },\n    doSearchHandle(firstPage) {\n      if (firstPage === true) {\n        this.pageNum = 1\n      }\n      if(!this.searchContent.startDate || !this.searchContent.endDate) {\n        this.$tip.message('单据开始时间和结束时间都不能为空', 'warning')\n        return\n      }else if(changeDateToTimestamp(this.searchContent.startDate) > changeDateToTimestamp(this.searchContent.endDate)) {\n        this.$tip.message('结束时间不能早于开始时间！', 'warning')\n        return\n      }\n      let params = {\n        ...this.searchContent,\n        startDate: `${this.searchContent.startDate} 00:00:00`,\n        endDate: `${this.searchContent.endDate} 23:59:59`,\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      }\n      this.loading = true\n      this.$http.post(requestUrl.summaryByGoods, {...params}).then(res => {\n        this.loading = false\n        if(res.code === 0) {\n          let resultVal = res.data ? res.data : {}\n          let tableDataList = resultVal.pageVo && resultVal.pageVo.result && resultVal.pageVo.result.length ? resultVal.pageVo.result : []\n          let tableDataListTemp = tableDataList.map((item, idx) => {\n            item.index = idx + 1\n            item.saleQty = item.saleQty ? fixedNum(item.saleQty, 3) : item.saleQty\n            item.saleAmount = item.saleAmount ? fixedNum(item.saleAmount) : item.saleAmount\n            item.storeSaleRatio = item.storeSaleRatio ? fixedNum(item.storeSaleRatio) : item.storeSaleRatio\n            item.grossProfitAmount = item.grossProfitAmount ? fixedNum(item.grossProfitAmount) : item.grossProfitAmount\n            return item\n          })\n          this.tableData = tableDataListTemp\n          this.total = resultVal.pageVo ? resultVal.pageVo.total : 0\n          this.totalSum = {\n            grossProfitAmount: resultVal.totalGrossProfitAmount ? fixedNum(resultVal.totalGrossProfitAmount) : resultVal.totalGrossProfitAmount,\n            saleAmount: resultVal.totalSaleAmount ? fixedNum(resultVal.totalSaleAmount) : resultVal.totalSaleAmount\n          }\n          this.$emit(\"setLatestTime\", resultVal.latestTime || '-')\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.$tip.notify(e.message || '', 'error', '系统提示')\n      })\n    },\n    doExortHandel() {\n      if(this.searchContent.startDate && this.searchContent.endDate && changeDateToTimestamp(this.searchContent.startDate) > changeDateToTimestamp(this.searchContent.endDate)) {\n        this.$tip.message('结束时间不能早于开始时间！', 'warning')\n        return\n      }\n      let params = {\n        ...this.searchContent,\n        startDate: `${this.searchContent.startDate} 00:00:00`,\n        endDate: `${this.searchContent.endDate} 23:59:59`\n      }\n      this.exportLoading = true\n      this.$http.post(requestUrl.summaryByGoods, {...params}).then(res => {\n        this.exportLoading = false\n        if(res.code === 0) {\n          let resultVal = res.data ? res.data : {}\n          let tableDataList = resultVal.pageVo && resultVal.pageVo.result && resultVal.pageVo.result.length ? resultVal.pageVo.result : []\n          let tableDataListTemp = tableDataList.map((item, idx) => {\n            item.index = idx + 1\n            item.saleQty = item.saleQty ? fixedNum(item.saleQty, 3) : item.saleQty\n            item.saleAmount = item.saleAmount ? fixedNum(item.saleAmount) : item.saleAmount\n            item.storeSaleRatio = item.storeSaleRatio ? fixedNum(item.storeSaleRatio) : item.storeSaleRatio\n            item.grossProfitAmount = item.grossProfitAmount ? fixedNum(item.grossProfitAmount) : item.grossProfitAmount\n            return item\n          })\n          if(tableDataListTemp && tableDataListTemp.length > 0) {\n            const tHeader = objectToArray(this.exportConfig, false)\n            const filterVal = objectToArray(this.exportConfig, true)\n            exportExcel.ExportJsonToExcel({\n              header: tHeader,\n              filterVal,\n              data: tableDataListTemp,\n              filename: `本来鲜销售数据_${this.searchContent.startDate}~${this.searchContent.endDate}`\n            })\n          }else {\n            this.$tip.message('没有查询到要导出的数据！', 'warning')\n          }\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.exportLoading = false\n        this.$tip.notify(e.message || '', 'error', '系统提示')\n      })\n    },\n    clickInputHandel() {\n      this.vendorNos = this.searchContent.vendorNo && this.searchContent.vendorNo.length > 0 ? this.searchContent.vendorNo : this.vendors.map(item => {\n        return item.vendorNo\n      })\n      this.$refs.chooseStore.setDefault({\n        vendorNos: this.vendorNos,\n        defaultChecked: this.checkedStoreList\n      })\n    },\n    confirmHandel(result) {\n      this.checkedStoreList = result\n      this.searchContent.storeNoList = result.map(item => {\n        return item.storeNo\n      })\n      this.searchContent.storeNames = result.map(item => {\n        return item.storeName\n      }).join(',')\n    },\n    /**\n     * @description: 远程搜索商品\n     * @param {type} \n     * @return: \n     */\n    doFetchGoodsHandel(e) {\n      if(!e) return\n      clearTimeout(this.timeout)\n      this.timeout = setTimeout(() => {\n        let vendorNoListTemp = this.searchContent.vendorNoList && this.searchContent.vendorNoList.length > 0 ? this.searchContent.vendorNoList : this.vendors.map(item => {\n          return item.vendorNo\n        })\n        let params = {\n          pageNum: 1,\n          pageSize: -1,\n          vendorNoList: vendorNoListTemp,\n          searchValue: e\n        }\n        this.fetchLoading = true\n        this.goodsOptions = []\n        this.$http.post(commonUrl.queryVendorGoodsPageList, {...params}).then(res=>{\n          this.fetchLoading = false\n          if(res.code === 0) {\n            let goodsList = res.data && res.data.result && res.data.result.length ? res.data.result : []\n            let goodsListTemp = goodsList.map(item => {\n              let newItem = { \n                id: item.goodsId,\n                value: item.goodsNo,\n                label: item.goodsNoName\n              }\n              return newItem;\n            })\n            this.goodsOptions = goodsListTemp\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e=>{\n          this.fetchLoading = false\n          this.goodsOptions = []\n          this.$tip.notify(e.message || '', 'error', '系统提示')\n        })\n      }, 500);\n    },\n    /**\n     * @description: 点击搜索结果\n     * @param {type} \n     * @return {type} \n     */\n    selectAsyncHandel(val) {\n      this.searchContent.goodsNo = val\n    },\n    getSummaries(params) {\n      let sums = []\n      let newArray=[]\n      params.columns.forEach(item => {\n        if(this.totalSum[item.property] || this.totalSum[item.property] == 0) {\n          newArray.push(this.totalSum[item.property])\n        }else {\n          newArray.push('')\n        }\n      })\n      sums = newArray;\n      sums[0] = \"合计\";\n      return sums\n    },\n    /**\n     * @description: 按门店查看\n     * @param {*} row 列数据\n     */\n    goDetailPage(row) {\n      this.$storage.set('searchInfo', {...this.searchContent, checkedStoreList: this.checkedStoreList})\n      this.$router.push(`/sale_search/detail/${row.goodsNo}`)\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/module/views/Report/SaleSearch/GoodsSum.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"单据开始时间\"}},[_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"date\",\"placeholder\":\"单据开始时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\"},model:{value:(_vm.searchContent.startDate),callback:function ($$v) {_vm.$set(_vm.searchContent, \"startDate\", $$v)},expression:\"searchContent.startDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"单据结束时间\"}},[_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"date\",\"placeholder\":\"单据结束时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\"},model:{value:(_vm.searchContent.endDate),callback:function ($$v) {_vm.$set(_vm.searchContent, \"endDate\", $$v)},expression:\"searchContent.endDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"供应商\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"选择供应商\",\"multiple\":\"\",\"collapse-tags\":\"\",\"size\":\"small\"},model:{value:(_vm.searchContent.vendorNoList),callback:function ($$v) {_vm.$set(_vm.searchContent, \"vendorNoList\", $$v)},expression:\"searchContent.vendorNoList\"}},_vm._l((_vm.vendors),function(item){return _c('el-option',{key:item.vendorNo,attrs:{\"label\":item.vendorName,\"value\":item.vendorNo}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"点击选择门店\",\"readonly\":\"\"},model:{value:(_vm.searchContent.storeNames),callback:function ($$v) {_vm.$set(_vm.searchContent, \"storeNames\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.storeNames\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.clickInputHandel},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品名称/编码\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"remote\":\"\",\"placeholder\":\"商品名称/编码\",\"size\":\"small\",\"clearable\":\"\",\"remote-method\":_vm.doFetchGoodsHandel,\"loading\":_vm.fetchLoading},on:{\"change\":_vm.selectAsyncHandel},model:{value:(_vm.searchValStr),callback:function ($$v) {_vm.searchValStr=$$v},expression:\"searchValStr\"}},_vm._l((_vm.goodsOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品条码\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"商品条码\",\"clearable\":\"\"},model:{value:(_vm.searchContent.goodsBarcode),callback:function ($$v) {_vm.$set(_vm.searchContent, \"goodsBarcode\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.goodsBarcode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"货号\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"货号\",\"clearable\":\"\"},model:{value:(_vm.searchContent.vendorGoodsNo),callback:function ($$v) {_vm.$set(_vm.searchContent, \"vendorGoodsNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.vendorGoodsNo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同编码\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"货号\",\"clearable\":\"\"},model:{value:(_vm.searchContent.contractNo),callback:function ($$v) {_vm.$set(_vm.searchContent, \"contractNo\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.contractNo\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结算方式\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"结算方式\",\"filterable\":\"\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.searchContent.settlementMethodCode),callback:function ($$v) {_vm.$set(_vm.searchContent, \"settlementMethodCode\", $$v)},expression:\"searchContent.settlementMethodCode\"}},_vm._l((_vm.typeIdOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandle(true)}}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":_vm.exportLoading,\"size\":\"mini\",\"loading\":_vm.exportLoading},on:{\"click\":_vm.doExortHandel}},[_vm._v(\"导出\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search-form-wraper\"},[_c('bl-table',{attrs:{\"loading\":_vm.loading,\"border\":false,\"dataSource\":_vm.tableData,\"columns\":_vm.columns,\"showSummary\":true,\"getSummaries\":_vm.getSummaries}}),_vm._v(\" \"),_c('bl-pagination',{attrs:{\"showPagination\":_vm.tableData.length > 0,\"pageNum\":_vm.pageNum,\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent}})],1),_vm._v(\" \"),_c('choose-store',{ref:\"chooseStore\",on:{\"confirm\":_vm.confirmHandel}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-58b3a61b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/Report/SaleSearch/GoodsSum.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsSum.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsSum.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-58b3a61b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsSum.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/Report/SaleSearch/GoodsSum.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <div class=\"search-form-wraper\">\n      <el-form :model=\"searchContent\" label-position=\"top\">\n        <el-form-item label=\"单据开始时间\">\n          <el-date-picker \n            class=\"search-input\" \n            v-model=\"searchContent.startDate\" \n            type=\"date\" \n            placeholder=\"单据开始时间\"\n            format=\"yyyy-MM-dd\" \n            value-format=\"yyyy-MM-dd\" \n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"单据结束时间\">\n          <el-date-picker \n            class=\"search-input\" \n            v-model=\"searchContent.endDate\" \n            type=\"date\" \n            placeholder=\"单据结束时间\"\n            format=\"yyyy-MM-dd\" \n            value-format=\"yyyy-MM-dd\" \n            size=\"small\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"供应商\">\n          <el-select \n            class=\"search-input\" \n            v-model=\"searchContent.vendorNoList\" \n            placeholder=\"选择供应商\" \n            multiple\n            collapse-tags\n            size=\"small\">\n            <el-option \n              v-for=\"item in vendors\" \n              :key=\"item.vendorNo\" \n              :label=\"item.vendorName\" \n              :value=\"item.vendorNo\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"门店\">\n          <el-input \n            v-model.trim=\"storeNames\" \n            size=\"small\" \n            class=\"search-input\" \n            placeholder=\"点击选择门店\"\n            readonly>\n              <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"clickInputHandel\"></el-button>\n            </el-input>\n        </el-form-item>\n        <el-form-item label=\"结算方式\">\n          <el-select \n            class=\"search-input\" \n            v-model=\"searchContent.settlementMethodCode\" \n            placeholder=\"结算方式\" \n            filterable\n            clearable\n            size=\"small\">\n            <el-option \n              v-for=\"item in typeIdOptions\" \n              :key=\"item.value\" \n              :label=\"item.label\" \n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSearchHandle(true)\" size=\"mini\">搜索</el-button>\n        </el-form-item>\n        <el-form-item>\n          <el-button :disabled=\"exportLoading\" @click=\"doExortHandel\" size=\"mini\" :loading=\"exportLoading\">导出</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div class=\"search-form-wraper\">\n      <bl-table\n        :loading=\"loading\"\n        :border=\"false\"\n        :dataSource=\"tableData\"\n        :columns=\"columns\"\n        :showSummary=\"true\"\n        :getSummaries=\"getSummaries\"/>\n    </div>\n    <choose-store \n      ref=\"chooseStore\"\n      @confirm=\"confirmHandel\"/>\n  </div>\n</template>\n<script>\nimport vendorsMixin from '@/module/mixin/getVendors'\nimport requestUrl from '@/module/api/saleSearch'\nimport commonUrl from '@/module/api/common'\nimport {dateFormat, objectToArray, changeDateToTimestamp, fixedNum} from '@/utils/utils'\nimport exportExcel from '@/utils/exportExcel'\nimport ChooseStore from '@/module/component/SearchItem/ChooseStore'\nimport utilConst from '@/utils/constant'\nexport default {\n  mixins: [\n    vendorsMixin\n  ],\n  components: {\n    ChooseStore\n  },\n  data() {\n    return {\n      pageNum: 1,\n      pageSize: 10,\n      pageSizes: utilConst.pageSizeStart20,\n      loading: false,\n      exportLoading: false,\n      total: 0,\n      tableData: [],\n      searchContent: {\n        vendorNoList: [],\n        storeNoList: [],\n        startDate: dateFormat('yyyy-MM-dd', Date.parse(new Date()) - 86400000),\n        endDate: dateFormat('yyyy-MM-dd', Date.parse(new Date()) - 86400000),\n        settlementMethodCode: ''\n      },\n      typeIdOptions: [\n        {\n          value: '',\n          label: '全部'\n        },\n        {\n          value: 1,\n          label: '购销'\n        },\n        {\n          value: 2,\n          label: '联营'\n        },\n        {\n          value: 9,\n          label: '代营'\n        }\n      ],\n      totalSum: {\n        totalGrossProfitAmount: 0,\n        totalSaleAmount: 0\n      },\n      // 根据供应商选择门店\n      checkedStoreList: [],\n      vendorNos: [],\n      storeNames: '',\n      columns: [\n        {\n          title: '序号',\n          dataIndex: 'index',\n          minWidth: 60\n        },\n        {\n          title: '门店名称',\n          dataIndex: 'storeName',\n          minWidth: 130\n        },\n        {\n          title: '所在区域',\n          dataIndex: 'areaStr',\n          minWidth: 130\n        },\n        {\n          title: '销售额',\n          dataIndex: 'storeSaleAmount',\n          minWidth: 130,\n          sortable: true\n        },\n        {\n          title: '销售占比',\n          dataIndex: 'storeSaleRatio',\n          minWidth: 130,\n          sortable: true\n        },\n        {\n          title: '参考毛利额',\n          dataIndex: 'grossProfitAmount',\n          minWidth: 130,\n          sortable: true\n        }\n      ],\n      exportConfig: {\n        index: '序号',\n        storeName: '门店名称',\n        areaStr: '所在区域',\n        storeSaleAmount: '销售额',\n        storeSaleRatio: '销售占比',\n        grossProfitAmount: '毛利额'\n      }\n    }\n  },\n  methods: {\n    changeSize(value) {\n      this.pageSize = value\n      this.doSearchHandle()\n    },\n    changeCurrent(value) {\n      this.pageNum = value\n      this.doSearchHandle()\n    },\n    doSearchHandle(firstPage) {\n      if (firstPage === true) {\n        this.pageNum = 1\n      }\n      if(!this.searchContent.startDate || !this.searchContent.endDate) {\n        this.$tip.message('单据开始时间和结束时间都不能为空', 'warning')\n        return\n      }else if(changeDateToTimestamp(this.searchContent.startDate) > changeDateToTimestamp(this.searchContent.endDate)) {\n        this.$tip.message('结束时间不能早于开始时间！', 'warning')\n        return\n      }\n      let params = {\n        ...this.searchContent,\n        startDate: `${this.searchContent.startDate} 00:00:00`,\n        endDate: `${this.searchContent.endDate} 23:59:59`,\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      }\n      this.loading = true\n      this.$http.post(requestUrl.storeSale, {...params}).then(res => {\n        this.loading = false\n        if(res.code === 0) {\n          let resultVal = res.data ? res.data : {}\n          let tableDataList = resultVal.storeSaleList && resultVal.storeSaleList.length ? resultVal.storeSaleList : []\n          let tableDataListTemp = tableDataList.map((item, idx) => {\n            item.index = idx + 1\n            if(item.provinceName && item.cityName) {\n              item.areaStr = `${item.provinceName}-${item.cityName}`\n            }else if(item.provinceName) {\n              item.areaStr = `${item.provinceName}`\n            }else if(item.cityName) {\n              item.areaStr = `${item.cityName}`\n            }else {\n              item.areaStr = ''\n            }\n            item.storeSaleAmount = item.storeSaleAmount ? fixedNum(item.storeSaleAmount) : item.storeSaleAmount\n            item.storeSaleRatio = item.storeSaleRatio ? fixedNum(item.storeSaleRatio) : item.storeSaleRatio\n            item.grossProfitAmount = item.grossProfitAmount ? fixedNum(item.grossProfitAmount) : item.grossProfitAmount\n            return item\n          })\n          this.tableData = tableDataListTemp\n          this.totalSum = {\n            grossProfitAmount: resultVal.totalGrossProfitAmount ? fixedNum(resultVal.totalGrossProfitAmount) : resultVal.totalGrossProfitAmount,\n            storeSaleAmount: resultVal.totalSaleAmount ? fixedNum(resultVal.totalSaleAmount) : resultVal.totalSaleAmount\n          }\n          this.$emit(\"setLatestTime\", resultVal.latestTime || '-')\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.$tip.notify(e.message || '', 'error', '系统提示')\n      })\n    },\n    doExortHandel() {\n      if(this.tableData && this.tableData.length > 0) {\n        const tHeader = objectToArray(this.exportConfig, false)\n        const filterVal = objectToArray(this.exportConfig, true)\n        exportExcel.ExportJsonToExcel({\n          header: tHeader,\n          filterVal,\n          data: this.tableData,\n          filename: `本来鲜销售数据_${this.searchContent.startDate}~${this.searchContent.endDate}`\n        })\n      }else {\n        this.$tip.message('没有查询到要导出的数据！', 'warning')\n      }\n    },\n    clickInputHandel() {\n      this.vendorNos = this.searchContent.vendorNo && this.searchContent.vendorNo.length > 0 ? this.searchContent.vendorNo : this.vendors.map(item => {\n        return item.vendorNo\n      })\n      this.$refs.chooseStore.setDefault({\n        vendorNos: this.vendorNos,\n        defaultChecked: this.checkedStoreList\n      })\n    },\n    confirmHandel(result) {\n      this.checkedStoreList = result\n      this.searchContent.storeNoList = result.map(item => {\n        return item.storeNo\n      })\n      this.storeNames = result.map(item => {\n        return item.storeName\n      }).join(',')\n    },\n    getSummaries(params) {\n      let sums = []\n      let newArray=[]\n      params.columns.forEach(item => {\n        if(this.totalSum[item.property] || this.totalSum[item.property] == 0) {\n          newArray.push(this.totalSum[item.property])\n        }else {\n          newArray.push('')\n        }\n      })\n      sums = newArray;\n      sums[0] = \"合计\";\n      return sums\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/module/views/Report/SaleSearch/StoreGoodsSum.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"单据开始时间\"}},[_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"date\",\"placeholder\":\"单据开始时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\"},model:{value:(_vm.searchContent.startDate),callback:function ($$v) {_vm.$set(_vm.searchContent, \"startDate\", $$v)},expression:\"searchContent.startDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"单据结束时间\"}},[_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"date\",\"placeholder\":\"单据结束时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\"},model:{value:(_vm.searchContent.endDate),callback:function ($$v) {_vm.$set(_vm.searchContent, \"endDate\", $$v)},expression:\"searchContent.endDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"供应商\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"选择供应商\",\"multiple\":\"\",\"collapse-tags\":\"\",\"size\":\"small\"},model:{value:(_vm.searchContent.vendorNoList),callback:function ($$v) {_vm.$set(_vm.searchContent, \"vendorNoList\", $$v)},expression:\"searchContent.vendorNoList\"}},_vm._l((_vm.vendors),function(item){return _c('el-option',{key:item.vendorNo,attrs:{\"label\":item.vendorName,\"value\":item.vendorNo}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"点击选择门店\",\"readonly\":\"\"},model:{value:(_vm.storeNames),callback:function ($$v) {_vm.storeNames=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"storeNames\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.clickInputHandel},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结算方式\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"结算方式\",\"filterable\":\"\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.searchContent.settlementMethodCode),callback:function ($$v) {_vm.$set(_vm.searchContent, \"settlementMethodCode\", $$v)},expression:\"searchContent.settlementMethodCode\"}},_vm._l((_vm.typeIdOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandle(true)}}},[_vm._v(\"搜索\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"disabled\":_vm.exportLoading,\"size\":\"mini\",\"loading\":_vm.exportLoading},on:{\"click\":_vm.doExortHandel}},[_vm._v(\"导出\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"search-form-wraper\"},[_c('bl-table',{attrs:{\"loading\":_vm.loading,\"border\":false,\"dataSource\":_vm.tableData,\"columns\":_vm.columns,\"showSummary\":true,\"getSummaries\":_vm.getSummaries}})],1),_vm._v(\" \"),_c('choose-store',{ref:\"chooseStore\",on:{\"confirm\":_vm.confirmHandel}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-615b63fa\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/Report/SaleSearch/StoreGoodsSum.vue\n// module id = null\n// module chunks = ","<style scoped lang=\"less\">\n.pt4 {\n  padding-top: 4px !important;\n}\n.last-time-wraper {\n  position: absolute;\n  top: 0;\n  right: 0;\n  line-height: 46px;\n  .pr20 {\n    padding-right: 20px;\n  }\n}\n</style>\n<template>\n  <div class=\"main-wrapper pt4\">\n    <el-tabs v-model=\"activeName\" type=\"card\">\n      <el-tab-pane label=\"汇总\" name=\"first\">\n        <goods-sum ref = \"goodsSum\" @setLatestTime=\"setFirstLatestTime\"/>\n      </el-tab-pane>\n      <el-tab-pane label=\"门店汇总\" name=\"second\">\n        <store-goods-sum ref = \"storeGoodsSum\" @setLatestTime=\"setSecondLatestTime\"/>\n      </el-tab-pane>\n    </el-tabs>\n    <div class=\"last-time-wraper\">\n      <span class=\"pr20\">数据更新时间：{{activeName === 'first' ? firstLatestTime : secondLatestTime}}</span>\n      <span>\n        <el-popover\n          placement=\"bottom\"\n          width=\"320\"\n          trigger=\"click\"\n          title=\"表格字段说明\">\n          <div v-if=\"activeName === 'first'\">\n            <p>参考毛利额：联营商品的每个门店的销售额减去对应的扣点金额（销售额*门店费率）之和，以每阶段的实际扣点计算；</p>\n            <p>销售额：仅显示联营类型的商品销售额；</p>\n            <p>销售占比：该商品销售额占总销售额的占比；</p>\n          </div>\n          <div v-else-if=\"activeName === 'second'\">\n            <p>参考毛利额：联营商品的每个门店的销售额减去对应的扣点金额（销售额*门店费率）之和，以每阶段的实际扣点计算；</p>\n          </div>\n          <span class=\"el-icon-question\" slot=\"reference\">帮助</span>\n        </el-popover>\n      </span>\n    </div>\n  </div>\n</template>\n<script>\n  import GoodsSum from './GoodsSum'\n  import StoreGoodsSum from './StoreGoodsSum'\n  export default {\n    components: {\n      GoodsSum,\n      StoreGoodsSum\n    },\n    data() {\n      return {\n        activeName: 'first',\n        firstLatestTime: '',\n        secondLatestTime: ''\n      }\n    },\n    mounted() {\n      if(this.$refs.goodsSum) this.$refs.goodsSum.doSearchHandle(true)\n      if(this.$refs.storeGoodsSum) this.$refs.storeGoodsSum.doSearchHandle(true)\n    },\n    methods: {\n      setFirstLatestTime(timeStr) {\n        this.firstLatestTime = timeStr\n      },\n      setSecondLatestTime(timeStr) {\n        this.secondLatestTime = timeStr\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/module/views/Report/SaleSearch/index.vue","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StoreGoodsSum.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./StoreGoodsSum.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-615b63fa\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./StoreGoodsSum.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/Report/SaleSearch/StoreGoodsSum.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main-wrapper pt4\"},[_c('el-tabs',{attrs:{\"type\":\"card\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"汇总\",\"name\":\"first\"}},[_c('goods-sum',{ref:\"goodsSum\",on:{\"setLatestTime\":_vm.setFirstLatestTime}})],1),_vm._v(\" \"),_c('el-tab-pane',{attrs:{\"label\":\"门店汇总\",\"name\":\"second\"}},[_c('store-goods-sum',{ref:\"storeGoodsSum\",on:{\"setLatestTime\":_vm.setSecondLatestTime}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"last-time-wraper\"},[_c('span',{staticClass:\"pr20\"},[_vm._v(\"数据更新时间：\"+_vm._s(_vm.activeName === 'first' ? _vm.firstLatestTime : _vm.secondLatestTime))]),_vm._v(\" \"),_c('span',[_c('el-popover',{attrs:{\"placement\":\"bottom\",\"width\":\"320\",\"trigger\":\"click\",\"title\":\"表格字段说明\"}},[(_vm.activeName === 'first')?_c('div',[_c('p',[_vm._v(\"参考毛利额：联营商品的每个门店的销售额减去对应的扣点金额（销售额*门店费率）之和，以每阶段的实际扣点计算；\")]),_vm._v(\" \"),_c('p',[_vm._v(\"销售额：仅显示联营类型的商品销售额；\")]),_vm._v(\" \"),_c('p',[_vm._v(\"销售占比：该商品销售额占总销售额的占比；\")])]):(_vm.activeName === 'second')?_c('div',[_c('p',[_vm._v(\"参考毛利额：联营商品的每个门店的销售额减去对应的扣点金额（销售额*门店费率）之和，以每阶段的实际扣点计算；\")])]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"el-icon-question\",attrs:{\"slot\":\"reference\"},slot:\"reference\"},[_vm._v(\"帮助\")])])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7c3aacae\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/Report/SaleSearch/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7c3aacae\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!style-resources-loader?{\\\"patterns\\\":\\\"/Users/zhanyizhu/Desktop/projects/blx-code/supplier_web/src/assets/style/base.less\\\"}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7c3aacae\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7c3aacae\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/Report/SaleSearch/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}