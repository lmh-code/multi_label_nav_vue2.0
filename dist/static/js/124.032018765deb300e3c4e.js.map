{"version":3,"sources":["webpack:///src/components/GoodsMgt/LibaryGoods/AddLibaryGoods.vue","webpack:///./src/components/GoodsMgt/LibaryGoods/AddLibaryGoods.vue?7006","webpack:///./src/components/GoodsMgt/LibaryGoods/AddLibaryGoods.vue"],"names":["fileUrlList","mallGoodsMgt","numReg","ratioReg","AddLibaryGoods","data","isDisabled","saveLoading","imageUploadLoading","videoUploadLoading","addParamMesg","DIFFCITY","checkOrUpdate","categoryId","categoryPlatList","categoryName","videoImageList","detailImageList","detailImageUrl","qualityPeriod","imageList","initStock","marketPrice","pack","origin","goodsDesc","goodsId","sortNum","skuId","skuName","skuNo","spec","weight","buyName","goodsErpSkuRelations","isPick","isRefund","currentUpFileIdx","cateDefaultProps","children","label","value","categoryList","imageListArr","imgUrl","skuQueryVal","querySkuGoodsLoading","querySkuGoodsAsyncList","erpMotMsg","skuType","ratio","saleUnit","saleUnitName","validMsgDialogVisible","validMsg","created","this","getCategoryId","components","draggable","vuedraggable_common_default","a","methods","_this","$http","post","then","res","code","Error","msg","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","categoryVoList","err","return","catch","e","console","log","message","videoUploadReg","file","_this2","isVideo","type","indexOf","isMP4","isSizeNum","size","$message","error","isSize","promise_default","resolve","reject","_URL","window","URL","webkitURL","videoUrl","createObjectURL","videoObj","document","createElement","onloadedmetadata","evt","revokeObjectURL","src","load","emitUploadVideo","_this3","getToken","qiniu_min","fileName","token","subscribe","complete","urlImage","key","deleteVideo","imageUploadReg","_this4","isPic","isJPG","img","Image","onload","emitUpload","_this5","setImgUrl","hash","push","reduceRight","reverse","imageUploadRegForMore","_this6","width","height","_this7","param","fileExtension","$notify","title","setItemIdx","_idx","_imgUrl","currentIdx","detailItemMesg","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","map_default","map","i","_ref","_ref2","slicedToArray_default","parseInt","deleteUpFile","filter","idx","datadragEnd","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_ref3","_ref4","index","categoryChange","_val","_this8","currentValArr","setTimeout","$refs","getCheckedNodes","doSaveHandel","checkOrUpdateVal","_this9","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","test","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_ref5","_ref6","utils","extends_default","success","$router","doCancelHandel","_this10","$confirm","confirmButtonText","cancelButtonText","querySkuGoodsAsync","queryString","_this11","_params","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","skuNametemp","skuGoodsHandleSelect","_keyVal","checkedItem","j","doAddGoods","itemMsg","JSON","parse","stringify_default","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","warning","skuTypeFormater","row","column","cellValue","deleteErpGoods","_row","deleteDetailImg","blurHandel","_ratio","parseFloat","showConfirmButton","closeOnClickModal","closeOnPressEscape","LibaryGoods_AddLibaryGoods","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","filterable","remote","reserve-keyword","clearable","placeholder","remote-method","loading","on","change","callback","$$v","expression","_l","_v","icon","disabled","click","empty-text","prop","formatter","scopedSlots","_u","fn","scope","blur","$event","$set","align","staticStyle","line-height","padding-left","_e","required","slot","action","show-file-list","before-upload","http-request","directives","name","rawName","controls","update","options","props","visible","update:visible","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/124.032018765deb300e3c4e.js","sourcesContent":["<style>\r\n  @import \"../../../../static/style/file_upload.css\";\r\n  .mh-up-w {\r\n    float: left;\r\n    margin-left: 10px;\r\n  }\r\n  .mh-up-w:first-child {\r\n    margin-left: 0;\r\n  }\r\n  .mh-up-h-w {\r\n    padding: 0 5px;\r\n    line-height: 0;\r\n    margin-top: -8px;\r\n    margin-bottom: 8px;\r\n    text-align: center;\r\n  }\r\n  .up-h-i {\r\n    cursor: pointer;\r\n    padding-left: 6px;\r\n    padding-right: 6px;\r\n  }\r\n  .up-h-i:hover {\r\n    color: #3080fe;\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"add-form-wraper\">\r\n      <el-form ref=\"form\" :model=\"addParamMesg\" label-width=\"160px\">\r\n        <el-form-item label=\"ERP母商品\">\r\n          <el-select\r\n            v-model=\"skuQueryVal\"\r\n            filterable\r\n            remote\r\n            size=\"small\" \r\n            class=\"add-input\"\r\n            reserve-keyword\r\n            clearable\r\n            placeholder=\"请输入ERP编码/商品名称关键词搜索\"\r\n            :remote-method=\"querySkuGoodsAsync\"\r\n            :loading=\"querySkuGoodsLoading\"\r\n            @change=\"skuGoodsHandleSelect\">\r\n            <el-option\r\n              v-for=\"item in querySkuGoodsAsyncList\"\r\n              :key=\"item.skuId\"\r\n              :label=\"item.skuNametemp\"\r\n              :value=\"item.skuId\">\r\n            </el-option>\r\n          </el-select>\r\n          <el-button type=\"primary\" @click=\"doAddGoods\" size=\"mini\" icon=\"el-icon-plus\" :disabled=\"!skuQueryVal\"></el-button>\r\n          <span>请输入ERP编码/商品名称关键字，搜索ERP本城市门店线下可售卖的商品，ERP组合商品除外</span>\r\n          \r\n          <div>\r\n            <el-table\r\n              :data=\"addParamMesg.goodsErpSkuRelations\"\r\n              empty-text=\"暂无数据\"\r\n              size=\"small\">\r\n              <el-table-column width=\"90\" prop=\"skuNo\" label=\"ERP编码\"></el-table-column>\r\n              <el-table-column width=\"150\" prop=\"skuName\" label=\"母商品名称\"></el-table-column>\r\n              <el-table-column width=\"90\" prop=\"categoryName\" label=\"ERP分类\"></el-table-column>\r\n              <el-table-column width=\"90\" prop=\"skuType\" label=\"商品种类\" :formatter=\"skuTypeFormater\"></el-table-column>\r\n              <el-table-column label=\"转换比例\" width=\"120\">\r\n                <template slot-scope=\"scope\">\r\n                  <el-input v-model=\"scope.row.ratio\" size=\"small\" placeholder=\"转换比例\" @blur=\"blurHandel(scope.row.ratio)\"></el-input>\r\n                </template>\r\n              </el-table-column>\r\n              <el-table-column width=\"60\" prop=\"saleUnitName\" label=\"单位\"></el-table-column>\r\n              <el-table-column\r\n                align=\"center\"\r\n                width=\"60\">\r\n                <template slot-scope=\"scope\" size=\"small\">\r\n                  <div>\r\n                    <el-button type=\"text\" size=\"mini\" icon=\"el-icon-delete\" @click=\"deleteErpGoods(scope.row)\"></el-button>\r\n                  </div>\r\n                </template>\r\n              </el-table-column>\r\n            </el-table>\r\n            <p style=\"line-height: 20px;\">注：转换比例即线上售卖一份需减扣多少单位的母商品；</p>\r\n            <p style=\"padding-left: 2em; line-height: 20px;\">果切商品，请注意减扣母商品的重量，是否带皮；</p>\r\n            <p style=\"padding-left: 2em; line-height: 20px;\">ERP组合商品，不可订货，不能添加到线上商品库；</p>\r\n            <p style=\"padding-left: 2em; line-height: 20px;\">线上商品库，组合多个ERP商品时，只能选择标品或计量商品；</p>\r\n          </div>  \r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"扫码捡货\" v-if=\"addParamMesg.goodsErpSkuRelations.length === 1 && addParamMesg.goodsErpSkuRelations[0].skuType === 'W'\">\r\n          <el-radio-group v-model=\"addParamMesg.isPick\" size=\"small\">\r\n            <el-radio-button :label=\"1\">开启</el-radio-button>\r\n            <el-radio-button :label=\"0\">关闭</el-radio-button>\r\n          </el-radio-group>\r\n          <span>母商品为重量商品才能开启扫码捡货</span>\r\n        </el-form-item> \r\n\r\n        <el-form-item label=\"差额退款\" v-if=\"addParamMesg.isPick === 1\">\r\n          <el-radio-group v-model=\"addParamMesg.isRefund\" size=\"small\">\r\n            <el-radio-button :label=\"1\">开启</el-radio-button>\r\n            <el-radio-button :label=\"0\">关闭</el-radio-button>\r\n          </el-radio-group>\r\n          <span>开启了扫码捡货的商品才能开启差额退款</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"线上商品名称\" required>\r\n          <el-input v-model=\"addParamMesg.skuName\" size=\"small\" class=\"add-input\" placeholder=\"请输入线上商品名称\" clearable></el-input>\r\n          <span>商品名称限制30个字，请规范命名，案例：香蕉2根 约400g/份 或 麒麟瓜半个 不少于1000g/份</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"规格\" required>\r\n          <el-input v-model=\"addParamMesg.spec\" size=\"small\" class=\"add-input\" placeholder=\"请输入规格\" clearable></el-input>\r\n          <span>规格描述</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"商品卖点\">\r\n          <el-input v-model=\"addParamMesg.buyName\" size=\"small\" class=\"add-input\" placeholder=\"请输入商品卖点\" clearable></el-input>\r\n          <span>商品特色、优点，限制20个字</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"重量\" required>\r\n          <el-input v-model=\"addParamMesg.weight\" size=\"small\" class=\"add-input\" placeholder=\"请输入重量\" clearable>\r\n            <el-button slot=\"append\">g</el-button>\r\n          </el-input>\r\n          <span>京东到家平台用</span>\r\n        </el-form-item>\r\n        \r\n        <!-- <el-form-item label=\"市场价\" required>\r\n          <el-input v-model=\"addParamMesg.marketPrice\" size=\"small\" class=\"add-input\" placeholder=\"请输入市场价\"></el-input>\r\n          <span>市场价是大于0，小数保留小数点后2位</span>\r\n        </el-form-item> -->\r\n\r\n       <!--  <el-form-item label=\"初始库存\" required>\r\n          <el-input v-model=\"addParamMesg.initStock\" size=\"small\" class=\"add-input\" placeholder=\"请输入初始库存\"></el-input>\r\n          <span>初始库存为0-999的整数</span>\r\n        </el-form-item> -->\r\n\r\n        <el-form-item label=\"商品首图小视频\">\r\n          <div class=\"mh-up-w\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              action=\"\"\r\n              :show-file-list=\"false\"\r\n              :before-upload=\"videoUploadReg\"\r\n              :http-request=\"emitUploadVideo\">\r\n              <div v-loading=\"videoUploadLoading\">\r\n                <video v-if=\"addParamMesg.videoImageList && addParamMesg.videoImageList[0] && addParamMesg.videoImageList[0].imgUrl\" :src=\"addParamMesg.videoImageList && addParamMesg.videoImageList[0] && addParamMesg.videoImageList[0].imgUrl\" class=\"avatar\" controls=\"controls\">您的浏览器不支持视频播放</video>\r\n                <i v-else class=\"el-icon-upload2 avatar-uploader-icon\"></i>\r\n              </div>\r\n            </el-upload>\r\n            <div class=\"mh-up-h-w\" v-if=\"addParamMesg.videoImageList && addParamMesg.videoImageList[0] && addParamMesg.videoImageList[0].imgUrl\"> \r\n              <span class=\"up-h-i\" @click=\"deleteVideo\"><i class=\"el-icon-delete\"></i>删除</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"tip-txt-w\">\r\n            <span>请上传大小不超过10M的MP4格式的小视频</span>\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"商品方图\" required>\r\n          <div>\r\n            <draggable  v-model=\"imageListArr\" @update=\"datadragEnd\">\r\n              <transition-group>\r\n                <div class=\"mh-up-w\" v-for=\"(item, idx) of imageListArr\" @click=\"setItemIdx(idx)\" :key=\"item.imgUrl\">\r\n                  <el-upload\r\n                    class=\"avatar-uploader\"\r\n                    action=\"\"\r\n                    :show-file-list=\"false\"\r\n                    :before-upload=\"imageUploadRegForMore\"\r\n                    :http-request=\"emitUpload\">\r\n                    <div v-loading=\"imageUploadLoading && currentUpFileIdx == idx\">\r\n                      <img v-if=\"item.imgUrl\" :src=\"item.imgUrl\" class=\"avatar\">\r\n                      <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    </div>\r\n                  </el-upload>\r\n                  <div class=\"mh-up-h-w\" v-if=\"item.imgUrl && item.imgUrl != ''\"> \r\n                    <span class=\"up-h-i\" @click=\"deleteUpFile(idx)\"><i class=\"el-icon-delete\"></i></span>\r\n                    <span class=\"up-h-i\"><i class=\"el-icon-rank\"></i></span>\r\n                  </div>\r\n                </div>\r\n              </transition-group>\r\n            </draggable>\r\n            <div class=\"tip-txt-w\">\r\n              <span>请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张</span>\r\n            </div> \r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"商品详情图\">\r\n          <div @click=\"setItemIdx(-1)\">\r\n            <div class=\"mh-up-w\">\r\n              <el-upload\r\n                class=\"avatar-uploader\"\r\n                action=\"\"\r\n                :show-file-list=\"false\"\r\n                :before-upload=\"imageUploadReg\"\r\n                :http-request=\"emitUpload\">\r\n                <div v-loading=\"imageUploadLoading && currentUpFileIdx == -1\">\r\n                  <img v-if=\"addParamMesg.detailImageUrl\" :src=\"addParamMesg.detailImageUrl\" class=\"avatar\">\r\n                  <i v-else class=\"el-icon-upload2 avatar-uploader-icon\"></i>\r\n                </div>\r\n              </el-upload>\r\n              <div class=\"mh-up-h-w\" v-if=\"addParamMesg.detailImageUrl\"> \r\n                <span class=\"up-h-i\" @click=\"deleteDetailImg\"><i class=\"el-icon-delete\"></i>删除</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"tip-txt-w\">\r\n              <span>建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M</span>\r\n            </div> \r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"分类\" required>\r\n          <el-cascader\r\n            ref=\"cascaderCategory\"\r\n            placeholder=\"请选择分类\"\r\n            class=\"add-input\"\r\n            :options=\"categoryList\"\r\n            size=\"small\"\r\n            filterable\r\n            :props=\"cateDefaultProps\"\r\n            @change=\"categoryChange\"\r\n            v-model=\"addParamMesg.categoryPlatList\">\r\n          </el-cascader>\r\n          <span>店内分类</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"排序权重\">\r\n          <el-input v-model=\"addParamMesg.sortNum\" size=\"small\" class=\"add-input\" placeholder=\"请输入排序权重\" clearable></el-input>\r\n          <span>店内分类下的商品排序，0-999整数，数值越大越靠前</span>\r\n        </el-form-item>\r\n\r\n        <!-- <el-form-item label=\"商品描述\">\r\n          <el-input type=\"textarea\" v-model=\"addParamMesg.goodsDesc\" size=\"small\" class=\"add-input\" placeholder=\"请输入商品描述\"></el-input>\r\n          <span>描述小于250字</span>\r\n        </el-form-item> -->\r\n\r\n        <el-form-item label=\"产地\">\r\n          <el-input v-model=\"addParamMesg.origin\" size=\"small\" class=\"add-input\" placeholder=\"请输入产地\" clearable></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"保质期\">\r\n          <el-input v-model=\"addParamMesg.qualityPeriod\" size=\"small\" class=\"add-input\" placeholder=\"请输入保质期\" clearable></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"包装\">\r\n          <el-input v-model=\"addParamMesg.pack\" size=\"small\" class=\"add-input\" placeholder=\"请输入包装\" clearable></el-input>\r\n        </el-form-item>\r\n        \r\n        <hr class=\"s-slip-tb\">\r\n        <el-form-item>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel(false)\" :disabled=\"isDisabled\" :loading=\"saveLoading\">保存</el-button>\r\n          <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <el-dialog\r\n      title=\"系统提示\"\r\n      :visible.sync=\"validMsgDialogVisible\"\r\n      width=\"360px\">\r\n      <span>现商品库有相同规格的商品，确定要重复创建吗？</span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"mini\" @click=\"validMsgDialogVisible = false\">取 消</el-button>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"doSaveHandel(true)\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Draggable from 'vuedraggable'\r\n  import Storage from '@/utils/localStorage'\r\n  import * as utils from '@/utils/utils'\r\n  import * as qiniu from 'qiniu-js'\r\n  const fileUrlList = {\r\n    getQiNiuToken: '/foundation/qiniu/auth/file'\r\n  }\r\n  const mallGoodsMgt = {\r\n    // 获取三方平台店内分类\r\n    getCategoryTree: '/plateform/a/category/getCategoryTree',\r\n    // 商品库管理——编辑或新增 (完善商品资料)\r\n    updateOrInsert: '/plateform/a/product/goods/updateorinsert',\r\n    // 商品库管理(New)——选择下拉SKU\r\n    queryGoodsSku: '/plateform/a/product/goods/sku'\r\n  }\r\n  let nameReg = /^[\\u4E00-\\u9FA5][A-Za-z]{1,20}$/\r\n  let numReg = /^[1-9]*[1-9][0-9]*$/\r\n  let salePriceReg = /((^[1-9]\\d*)|^0)(\\.\\d{0,2}){0,1}$/\r\n  let ratioReg = /((^[1-9]\\d*)|^0)(\\.\\d{0,3}){0,1}$/\r\n  export default {\r\n    data() {\r\n      return {\r\n        // 是否禁止按钮可再点击\r\n        isDisabled: false, \r\n        // 保存时的loading\r\n        saveLoading: false,\r\n        // 商品详情图加载\r\n        imageUploadLoading: false,\r\n        // 小视频加载\r\n        videoUploadLoading: false,\r\n        addParamMesg: {\r\n          DIFFCITY: true,\r\n          checkOrUpdate: false,\r\n          categoryId: '', // 分类ID\r\n          categoryPlatList: [],\r\n          categoryName: '', // 分类名称\r\n          videoImageList: [],\r\n          // 商品详情图  imgUrl: 图片地址  sortNum: 序号 goodsId: 商品编码\r\n          detailImageList: [], \r\n          detailImageUrl: '', // 商品详情图地址\r\n          qualityPeriod: '', // 保质期\r\n          // 商品图  imgUrl: 图片地址  sortNum: 序号 goodsId: 商品编码\r\n          imageList: [], \r\n          initStock: '', // 初始库存\r\n          marketPrice: '', // 市场价\r\n          pack: '', // 包装\r\n          origin: '', // 产地\r\n          goodsDesc: '', // 商品描述\r\n          goodsId: '', // 商品id\r\n          sortNum: '', // 序号\r\n          skuId: '', // SKU_ID\r\n          skuName: '', // SKU 名称 // 线上商品名称\r\n          skuNo: '', // SKU 编号\r\n          spec: '', // 规格\r\n          weight: '', // 重量\r\n          buyName: '', // 商品卖点\r\n          goodsErpSkuRelations: [], // 关联商品\r\n          isPick: 0, // 是否开启扫码拣货(0:关闭 1:开启) 默认:0\r\n          isRefund: 0 // 是否开启差额退款(0:关闭 1:开启) 默认:0\r\n        },\r\n        currentUpFileIdx: -1, // 默认选中的文件上传框\r\n        // 默认分类参数\r\n        cateDefaultProps: {\r\n          children: 'categoryVoList',\r\n          label: 'categoryName',\r\n          value: 'categoryId'\r\n        },\r\n        // 商品分类id\r\n        categoryList: [],\r\n        // 商品图临时使用  imgUrl: 图片地址  sortNum: 序号 goodsId: 商品编码 \r\n        imageListArr: [\r\n          {\r\n            imgUrl: '',\r\n            sortNum: ''\r\n          }\r\n        ],\r\n\r\n        // 选择sku模糊查询条件\r\n        skuQueryVal: '',\r\n        querySkuGoodsLoading: false,\r\n        // 远程搜索到的内容\r\n        querySkuGoodsAsyncList: [],\r\n\r\n        // 单个母商品信息\r\n        erpMotMsg: {\r\n          skuNo: '',\r\n          skuName: '',\r\n          skuType: '',\r\n          ratio: '',\r\n          saleUnit: '',\r\n          saleUnitName: '',\r\n          categoryName: ''\r\n        },\r\n\r\n        validMsgDialogVisible: false,\r\n        validMsg: ''\r\n\r\n      }\r\n    },\r\n    created() {\r\n      // 获取三方平台店内分类\r\n      this.getCategoryId()\r\n    },\r\n    components: {\r\n      'draggable': Draggable\r\n    },\r\n    methods: {\r\n      /**\r\n       * [getCategoryId 三方平台店内分类]\r\n       * @return {[type]} [description]\r\n       */\r\n      getCategoryId() {\r\n        this.$http.post(mallGoodsMgt.getCategoryTree, {DIFFCITY: true}).then(res => {\r\n          if(res.code === 0) {\r\n            if(res.data && res.data.length) {\r\n              for(let item of res.data) {\r\n                if(item.categoryVoList && item.categoryVoList.length === 0) {\r\n                  item.categoryVoList = null\r\n                }\r\n              }\r\n              this.categoryList = res.data\r\n            }else {\r\n              this.categoryList = []\r\n            }\r\n            return \r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示(三方平台店内分类):\", e.message)\r\n        })\r\n      },\r\n      /**\r\n       * [videoUploadReg 上传视频检测]\r\n       * @param  {[type]} file [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      videoUploadReg (file) {\r\n        const isVideo = file.type.indexOf('video/') !== -1\r\n        const isMP4 = file.type === 'video/mp4'\r\n        const isSizeNum = file.size <= 10 * 1024 * 1024\r\n        if (!isVideo) {\r\n          this.$message.error('建议上传MP4格式，大小不能超过10M')\r\n        }\r\n        if (!isMP4) {\r\n          this.$message.error('建议上传MP4格式，大小不能超过10M')\r\n        }\r\n        if (!isSizeNum) {\r\n          this.$message.error('建议上传MP4格式，大小不能超过10M')\r\n        }\r\n        const isSize = new Promise(function(resolve, reject) {\r\n          let width = 1280\r\n\r\n          let _URL = window.URL || window.webkitURL\r\n          let videoUrl = _URL.createObjectURL(file);\r\n          let videoObj = document.createElement(\"video\");\r\n          videoObj.onloadedmetadata = function (evt) {\r\n              _URL.revokeObjectURL(videoUrl);\r\n              // 执行上传的方法，获取外网路径，上传进度等\r\n              // let valid = videoObj.videoWidth == width\r\n              let valid = true\r\n              valid ? resolve() : reject()\r\n          };\r\n          videoObj.src = videoUrl;\r\n          videoObj.load();\r\n        }).then(() => {\r\n          return file\r\n        }, () => {\r\n          this.$message.error('建议上传MP4格式，大小不能超过10M')\r\n          return Promise.reject()\r\n        })\r\n        return isVideo && isMP4 && isSizeNum && isSize\r\n      },\r\n      /**\r\n       * [emitUploadVideo 上传视频]\r\n       * @param  {[type]} e [description]\r\n       * @return {[type]}   [description]\r\n       */\r\n      emitUploadVideo(e) {\r\n        this.videoUploadLoading = true\r\n        this.getToken('mp4').then((res) => {\r\n          // 开始上传图片\r\n          let uploader = qiniu.upload(e.file, res.fileName, res.token)\r\n          uploader.subscribe({\r\n            error: () => {\r\n              this.videoUploadLoading = false\r\n            },\r\n            complete: (res) => {\r\n              console.log(res)\r\n              // 添加内容设置图片地址\r\n              let urlImage = 'http://retailimg01.benlailife.com/' + res.key\r\n              this.videoUploadLoading = false\r\n              // 设置对应的图片地址\r\n              this.addParamMesg.videoImageList = [{\r\n                imgUrl: urlImage,\r\n                sortNum: 1\r\n              }]\r\n            },\r\n            next: res => {\r\n            }\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [deleteDetailImg 删除商品详情图]\r\n       * @return {[type]} [description]\r\n       */\r\n      deleteVideo() {\r\n        this.addParamMesg.videoImageList = []\r\n      },\r\n      /**\r\n       * [imageUploadReg 上传图片检测]\r\n       * @param  {[type]} file [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      imageUploadReg (file) {\r\n        const isPic = file.type.indexOf('image/') !== -1\r\n        const isJPG = file.type === 'image/jpeg' || 'image/png'\r\n        const isSizeNum = file.size <= 1 * 1024 * 1024\r\n        if (!isPic) {\r\n          this.$message.error('建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M')\r\n        }\r\n        if (!isJPG) {\r\n          this.$message.error('建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M')\r\n        }\r\n        if (!isSizeNum) {\r\n          this.$message.error('建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M')\r\n        }\r\n        /**\r\n         * [检测上传图片宽高]\r\n         */\r\n        const isSize = new Promise(function(resolve, reject) {\r\n          let width = 750\r\n\r\n          let _URL = window.URL || window.webkitURL\r\n          let img = new Image();\r\n          img.onload = function() {\r\n            // let valid = img.width == width\r\n            let valid = true\r\n            valid ? resolve() : reject()\r\n          }\r\n          img.src = _URL.createObjectURL(file)\r\n        }).then(() => {\r\n          return file\r\n        }, () => {\r\n          this.$message.error('建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M')\r\n          return Promise.reject()\r\n        })\r\n        return isPic && isJPG && isSizeNum && isSize\r\n      },\r\n\r\n      /**\r\n       * [emitUpload 上传图片]\r\n       * @param  {[type]} e [description]\r\n       * @return {[type]}   [description]\r\n       */\r\n      emitUpload(e) {\r\n        if(this.imageListArr.length > 6 && this.currentUpFileIdx != -1) {\r\n          this.$message.error('商品方图，最多可添加6张')\r\n          return\r\n        }\r\n        this.imageUploadLoading = true\r\n        this.getToken().then((res) => {\r\n          // 开始上传图片\r\n          let uploader = qiniu.upload(e.file, res.fileName, res.token)\r\n          uploader.subscribe({\r\n            error: () => {\r\n              this.imageUploadLoading = false\r\n            },\r\n            complete: (res) => {\r\n              // 添加内容设置图片地址\r\n              let urlImage = 'http://retailimg01.benlailife.com/' + res.key\r\n              this.imageUploadLoading = false\r\n              // 设置对应的图片地址\r\n              this.setImgUrl(this.currentUpFileIdx, urlImage)\r\n\r\n              if(this.currentUpFileIdx != -1) {\r\n                let hash = {}\r\n                let imageListItem = {\r\n                  imgUrl: '',\r\n                  sortNum: ''\r\n                }\r\n                this.imageListArr.push(imageListItem)\r\n\r\n                // 去重  防止多个空对象\r\n                this.imageListArr = this.imageListArr.reduceRight((item, next) => {\r\n                  hash[next.imgUrl] ? '' : hash[next.imgUrl] = true && item.push(next)\r\n                  return item\r\n                }, [])\r\n                this.imageListArr.reverse()\r\n              }\r\n\r\n            },\r\n            next: res => {\r\n            }\r\n          })\r\n        })\r\n      },\r\n\r\n      /**\r\n       * [imageUploadReg 上传图片检测]\r\n       * @param  {[type]} file [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      imageUploadRegForMore (file) {\r\n        const isPic = file.type.indexOf('image/') !== -1\r\n        const isJPG = file.type === 'image/jpeg' || 'image/png'\r\n        const isSizeNum = file.size <= 1 * 230 * 1024\r\n        if (!isPic) {\r\n          this.$message.error('请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张')\r\n          return false\r\n        }\r\n        if (!isJPG) {\r\n          this.$message.error('请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张')\r\n          return false\r\n        }\r\n        if (!isSizeNum) {\r\n          this.$message.error('请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张')\r\n          return false\r\n        }\r\n        /**\r\n         * [检测上传图片宽高]\r\n         */\r\n        const isSize = new Promise(function(resolve, reject) {\r\n          let width = 800\r\n          let height = 800 \r\n\r\n          let _URL = window.URL || window.webkitURL\r\n          let img = new Image();\r\n          img.onload = function() {\r\n            let valid = img.width == width && img.height == height\r\n            valid ? resolve() : reject()\r\n          }\r\n          img.src = _URL.createObjectURL(file)\r\n        }).then(() => {\r\n          return file\r\n        }, () => {\r\n          this.$message.error('请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张')\r\n          return Promise.reject()\r\n        })\r\n        return isPic && isJPG && isSizeNum && isSize\r\n      },\r\n      /**\r\n       * [getToken 通过后台封装的接口获取七牛的token]\r\n       * @return {[type]}            [description]\r\n       */\r\n      getToken (e) {\r\n        let param = {}\r\n        if(e) {\r\n          param = {fileExtension: 'mp4'}\r\n        }\r\n        return this.$http.post(fileUrlList.getQiNiuToken, param).then(res => {\r\n          if (res.code == 0) {\r\n            let token = res.data.token\r\n            let fileName = res.data.key\r\n            return {fileName, token}\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.imageUploadLoading = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [setItemIdx 设置当前的上传文件的idx]\r\n       * @param {[type]} _idx [description]\r\n       */\r\n      setItemIdx(_idx) {\r\n        if(this.imageUploadLoading) {\r\n          return\r\n        }\r\n        this.currentUpFileIdx = _idx\r\n      },\r\n      /**\r\n       * [setImgUrl 设置对应的图片路径]\r\n       * @param {[type]} _idx    [description]\r\n       * @param {[type]} _imgUrl [description]\r\n       */\r\n      setImgUrl(_idx, _imgUrl) {\r\n        let urlImage = _imgUrl\r\n        let currentIdx = _idx\r\n        if(_idx === -1) {\r\n          this.addParamMesg.detailImageList = []\r\n          this.addParamMesg.detailImageUrl = urlImage\r\n          let detailItemMesg = {\r\n            imgUrl: urlImage,\r\n            sortNum: 1\r\n          }\r\n          this.addParamMesg.detailImageList.push(detailItemMesg)\r\n        }else {\r\n          for(let [i, item] of new Map(this.imageListArr.map((item, i) => [i, item]))) {\r\n            if(i === currentIdx) {\r\n              this.imageListArr[i].imgUrl = urlImage\r\n              this.imageListArr[i].sortNum = parseInt(currentIdx) + 1\r\n            }\r\n          }\r\n        }\r\n      },\r\n      /**\r\n       * [removeFileLeft 删除]\r\n       * @param  {[type]} _idx [description]\r\n       * @return {[type]}       [description]\r\n       */\r\n      deleteUpFile(_idx) {\r\n        let idx = _idx\r\n        this.imageListArr = this.imageListArr.filter((item, idx) => {\r\n          return idx != _idx\r\n        })\r\n      },\r\n      /**\r\n       * [datadragEnd 拖拽结束]\r\n       * @return {[type]} [description]\r\n       */\r\n      datadragEnd(evt) {\r\n        for(let [index, elem] of new Map(this.imageListArr.map((item, i) => [i, item]))){\r\n          elem.sortNum = index + 1\r\n        }\r\n\r\n        this.imageListArr = this.imageListArr.filter(item => {\r\n          return item.imgUrl != ''\r\n        });\r\n\r\n        let imageListItem = {\r\n          imgUrl: '',\r\n          sortNum: ''\r\n        }\r\n        this.imageListArr.push(imageListItem)\r\n      },\r\n      /**\r\n       * [categoryChange 分类发生变化启用]\r\n       * @param  {[type]} _val [当前选中的值]\r\n       * @return {[type]}      [description]\r\n       */\r\n      categoryChange(_val) {\r\n        let currentValArr = _val\r\n        if(currentValArr.length > 0) {\r\n          this.addParamMesg.categoryId = currentValArr[currentValArr.length - 1]\r\n        }\r\n        setTimeout(() => {\r\n          if(this.$refs['cascaderCategory'].getCheckedNodes()[0]) {\r\n            this.addParamMesg.categoryName = this.$refs['cascaderCategory'].getCheckedNodes()[0].data.categoryName\r\n          }\r\n        }, 500);\r\n      },\r\n      /**\r\n       * [doSaveHandel 保存]\r\n       * @return {[type]} [description]\r\n       */\r\n      doSaveHandel(checkOrUpdateVal) {\r\n        if(this.isDisabled === true) {\r\n          return\r\n        }\r\n        this.addParamMesg.checkOrUpdate = checkOrUpdateVal\r\n        if(this.addParamMesg.goodsErpSkuRelations.length === 0) {\r\n          this.$message(\"请选择并添加ERP母商品\")\r\n          return \r\n        }else {\r\n          for(let item of this.addParamMesg.goodsErpSkuRelations) {\r\n            if(!ratioReg.test(item.ratio)) {\r\n              this.$message(\"转换比例是大于0，小数保留小数点后3位\")\r\n              return \r\n            }\r\n          }\r\n        }\r\n\r\n        if(this.addParamMesg.isPick === 0) {\r\n          this.addParamMesg.isRefund = 0\r\n        }\r\n\r\n        if(this.addParamMesg.skuName == \"\") {\r\n          this.$message(\"请输入线上商品名称\")\r\n          return \r\n        }else {\r\n          if(this.addParamMesg.skuName.length > 30) {\r\n            this.$message(\"商品名称,限制30个汉字\")\r\n            return\r\n          }\r\n        }\r\n\r\n        if(!this.addParamMesg.spec) {\r\n          this.$message(\"请输入商品规格\")\r\n          return \r\n        }\r\n\r\n        // 处理要上传的商品方图\r\n        let imageListArr = this.imageListArr.filter((item, idx) => {\r\n          return item.imgUrl != '' \r\n        })\r\n        for(let [i, item] of new Map(imageListArr.map((item, i) => [i, item]))) {\r\n          item.sortNum = parseInt(i) + 1\r\n        }\r\n        this.addParamMesg.imageList = imageListArr\r\n        \r\n        if(this.addParamMesg.buyName) {\r\n          if(this.addParamMesg.buyName.length > 20) {\r\n            this.$message(\"卖点信息,限制20个字\")\r\n            return\r\n          }\r\n        }\r\n\r\n        if(this.addParamMesg.weight == \"\") {\r\n          this.$message(\"请输入商品重量\")\r\n          return \r\n        }else {\r\n          if(numReg.test(this.addParamMesg.weight)) {\r\n            if(this.addParamMesg.weight <= 0) {\r\n              this.$message(\"商品重量为大于0的整数\")\r\n              return\r\n            }\r\n          }else {\r\n            this.$message(\"商品重量大于0的整数\")\r\n            return\r\n          }\r\n        } \r\n\r\n        // if(this.addParamMesg.marketPrice == \"\") {\r\n        //   this.$message(\"请输入商品市场价\")\r\n        //   return \r\n        // }else {\r\n        //   if(!salePriceReg.test(this.addParamMesg.marketPrice)) {\r\n        //     this.$message('市场价是大于0，小数保留小数点后2位') \r\n        //     return\r\n        //   }\r\n        // }\r\n\r\n        // if(this.addParamMesg.initStock == \"\") {\r\n        //   this.$message(\"请输入初始库存\")\r\n        //   return \r\n        // }else if(this.addParamMesg.initStock == 0) {\r\n        //   this.addParamMesg.initStock = 0\r\n        // }else {\r\n        //   if(numReg.test(this.addParamMesg.initStock)) {\r\n        //     if(this.addParamMesg.initStock < 0 || this.addParamMesg.initStock > 999) {\r\n        //       this.$message(\"初始库存为0-999的整数\")\r\n        //       return\r\n        //     }\r\n        //   }else {\r\n        //     this.$message(\"初始库存为0-999的整数\")\r\n        //     return\r\n        //   }\r\n        // }\r\n\r\n        if(this.addParamMesg.imageList.length === 0) {\r\n          this.$message(\"请添加商品方图\")\r\n          return \r\n        }\r\n\r\n        // if(this.addParamMesg.detailImageList.length === 0) {\r\n        //   this.$message(\"请添加商品详情图片\")\r\n        //   return \r\n        // }\r\n\r\n        if(this.addParamMesg.categoryId == \"\" || this.addParamMesg.categoryPlatList.length === 0) {\r\n          this.$message(\"请选择分类\")\r\n          return \r\n        }\r\n        \r\n        if(this.addParamMesg.sortNum == \"\") {\r\n          this.addParamMesg.sortNum = 0\r\n        }else if(this.addParamMesg.sortNum == 0) {\r\n          this.addParamMesg.sortNum = 0\r\n        }else {\r\n          if(numReg.test(this.addParamMesg.sortNum)) {\r\n            if(this.addParamMesg.sortNum < 0 || this.addParamMesg.sortNum > 999) {\r\n              this.$message(\"店内分类下的商品排序，0-999的整数，数值越大越靠前\")\r\n              return\r\n            }\r\n          }else {\r\n            this.$message(\"店内分类下的商品排序，0-999的整数，数值越大越靠前\")\r\n            return\r\n          }\r\n        }\r\n\r\n        utils.showLoading()\r\n        this.isDisabled = true\r\n        this.$http.post(mallGoodsMgt.updateOrInsert, {...this.addParamMesg}).then(res => {\r\n          utils.clearLoading()\r\n          // 保存按钮可再次点击\r\n          setTimeout(() => {\r\n            this.isDisabled = false\r\n          }, 800)\r\n          if(res.code === 0) {\r\n            if(res.data && res.data.checkOrUpdate === true) {\r\n              this.validMsgDialogVisible = true\r\n              this.validMsg = res.data.validMsg\r\n            }else {\r\n              this.$message.success(\"成功\")\r\n              this.$router.push('/mall_goods_mgt')\r\n            }\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          utils.clearLoading()\r\n          // 保存按钮可再次点击\r\n          setTimeout(() => {\r\n            this.isDisabled = false\r\n          }, 800)\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n\r\n      },\r\n      /**\r\n       * [doCancelHandel 取消]\r\n       * @return {[type]} [description]\r\n       */\r\n      doCancelHandel() {\r\n        this.$confirm('确定取消生成商品吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push('/mall_goods_mgt')\r\n        }).catch(() => {})\r\n      },\r\n      /**\r\n       * [querySkuGoodsAsync 远程搜索SKU商品]\r\n       * @param  {[type]} queryString [输入的搜索参数]\r\n       * @return {[type]}             [description]\r\n       */\r\n      querySkuGoodsAsync(queryString) {\r\n        if(queryString === \"\") {\r\n          return\r\n        }\r\n        let _params = {\r\n          skuName: queryString,\r\n          DIFFCITY: true\r\n        }\r\n        this.querySkuGoodsLoading = true\r\n        this.$http.post(mallGoodsMgt.queryGoodsSku, _params).then(res => {\r\n          this.querySkuGoodsLoading = false\r\n          if(res.code === 0) {\r\n            if(res.data && res.data.length) {\r\n              for(let item of res.data) {\r\n                item.skuNametemp = item.skuNo + '-' + item.skuName + '-' + item.spec\r\n              }\r\n              this.querySkuGoodsAsyncList = res.data\r\n            }else {\r\n              this.querySkuGoodsAsyncList = []\r\n            }\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.querySkuGoodsLoading = false\r\n          console.log(\"提示(远程搜索SKU商品)：\", e.message)\r\n        })\r\n      },\r\n      /**\r\n       * [skuGoodsHandleSelect 选中的内容]\r\n       * @param  {[type]} _keyVal [description]\r\n       * @return {[type]}         [description]\r\n       */\r\n      skuGoodsHandleSelect(_keyVal) {\r\n        this.addParamMesg.isPick = 0\r\n        this.addParamMesg.isRefund = 0\r\n        let checkedItem = this.querySkuGoodsAsyncList.filter(j => {\r\n          return j.skuId == _keyVal\r\n        })[0]\r\n        if(checkedItem) {\r\n          this.addParamMesg.skuId = checkedItem.skuId\r\n          this.addParamMesg.skuName = checkedItem.skuName\r\n          this.addParamMesg.skuNo = checkedItem.skuNo\r\n          // this.addParamMesg.spec = checkedItem.spec\r\n          // 重量\r\n          this.addParamMesg.weight = checkedItem.weight\r\n          // 包装\r\n          this.addParamMesg.pack = checkedItem.pack\r\n          // 保质期\r\n          this.addParamMesg.qualityPeriod = checkedItem.qualityPeriod\r\n          // 产地\r\n          this.addParamMesg.origin = checkedItem.origin\r\n\r\n          // 设置单条目=母商品信息\r\n          this.erpMotMsg.skuNo = checkedItem.skuNo\r\n          this.erpMotMsg.skuName = checkedItem.skuName\r\n          this.erpMotMsg.skuType = checkedItem.skuType\r\n          this.erpMotMsg.ratio = ''\r\n          this.erpMotMsg.saleUnit = checkedItem.saleUnit\r\n          this.erpMotMsg.saleUnitName = checkedItem.saleUnitName\r\n          this.erpMotMsg.categoryName = checkedItem.categoryName\r\n        }\r\n      },\r\n      /**\r\n       * [doAddGoods 选中商品]\r\n       * @return {[type]} [description]\r\n       */\r\n      doAddGoods() {\r\n        let itemMsg = JSON.parse(JSON.stringify(this.erpMotMsg))\r\n        // 如果是重量商品  单位必须是 kg\r\n        if(itemMsg.skuType === 'W') {\r\n          if(itemMsg.saleUnit !== '2') {\r\n            this.$notify.warning({\r\n              title: '温馨提示',\r\n              message: '商品种类有误，请重新维护！'\r\n            })\r\n            return\r\n          }\r\n        } \r\n        for(let item of this.addParamMesg.goodsErpSkuRelations) {\r\n          if(item.skuNo === itemMsg.skuNo) {\r\n            this.$notify.warning({\r\n              title: '温馨提示',\r\n              message: '该母商品已在列表中存在，不要重复添加！'\r\n            })\r\n            return\r\n          }\r\n        }\r\n        this.addParamMesg.goodsErpSkuRelations.push(itemMsg)\r\n      },\r\n      /**\r\n       * [skuTypeFormater 表格数据格式化]\r\n       * @param  {[type]} row       [description]\r\n       * @param  {[type]} column    [description]\r\n       * @param  {[type]} cellValue [description]\r\n       * @return {[type]}           [description]\r\n       */\r\n      skuTypeFormater(row, column, cellValue) {\r\n        if(cellValue === 'C') {\r\n          return \"组合商品\"\r\n        }else if(cellValue == 'Q') {\r\n          return \"计量商品\"\r\n        }else if(cellValue == 'S') {\r\n          return \"标准商品\"\r\n        }else if(cellValue == 'W') {\r\n          return \"重量商品\"\r\n        }else {\r\n          return \"--\"\r\n        }\r\n      },\r\n      /**\r\n       * [deleteErpGoods 删除选中的商品]\r\n       * @param  {[type]} _row [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      deleteErpGoods(_row) {\r\n        let skuNo = _row.skuNo\r\n        this.addParamMesg.goodsErpSkuRelations = this.addParamMesg.goodsErpSkuRelations.filter(function(item) {\r\n          return item.skuNo != skuNo;\r\n        });\r\n      },\r\n      /**\r\n       * [deleteDetailImg 删除商品详情图]\r\n       * @return {[type]} [description]\r\n       */\r\n      deleteDetailImg() {\r\n        this.addParamMesg.detailImageList = []\r\n        this.addParamMesg.detailImageUrl = ''\r\n      },\r\n      /**\r\n       * [blurHandel 鼠标离开]\r\n       * @return {[type]} [description]\r\n       */\r\n      blurHandel(_ratio) {\r\n        let ratio = _ratio\r\n        if(ratio) {\r\n          if(!ratioReg.test(ratio)) {\r\n            this.$notify({\r\n              title: '温馨提示',\r\n              message: '转换比例是大于0，小数保留小数点后3位',\r\n              type: 'warning'\r\n            });\r\n            return \r\n          }\r\n\r\n          if(parseFloat(ratio) > 10) {\r\n            this.$confirm('转换比例数值过大，请确认是否正常', '系统提示', {\r\n              cancelButtonText: '关闭',\r\n              showConfirmButton: false,\r\n              closeOnClickModal: false,\r\n              closeOnPressEscape: false,\r\n              type: 'warning'\r\n            }).then(() => {}).catch(() => {});\r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/GoodsMgt/LibaryGoods/AddLibaryGoods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMesg,\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":\"ERP母商品\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"filterable\":\"\",\"remote\":\"\",\"size\":\"small\",\"reserve-keyword\":\"\",\"clearable\":\"\",\"placeholder\":\"请输入ERP编码/商品名称关键词搜索\",\"remote-method\":_vm.querySkuGoodsAsync,\"loading\":_vm.querySkuGoodsLoading},on:{\"change\":_vm.skuGoodsHandleSelect},model:{value:(_vm.skuQueryVal),callback:function ($$v) {_vm.skuQueryVal=$$v},expression:\"skuQueryVal\"}},_vm._l((_vm.querySkuGoodsAsyncList),function(item){return _c('el-option',{key:item.skuId,attrs:{\"label\":item.skuNametemp,\"value\":item.skuId}})}),1),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\",\"disabled\":!_vm.skuQueryVal},on:{\"click\":_vm.doAddGoods}}),_vm._v(\" \"),_c('span',[_vm._v(\"请输入ERP编码/商品名称关键字，搜索ERP本城市门店线下可售卖的商品，ERP组合商品除外\")]),_vm._v(\" \"),_c('div',[_c('el-table',{attrs:{\"data\":_vm.addParamMesg.goodsErpSkuRelations,\"empty-text\":\"暂无数据\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"width\":\"90\",\"prop\":\"skuNo\",\"label\":\"ERP编码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"150\",\"prop\":\"skuName\",\"label\":\"母商品名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"90\",\"prop\":\"categoryName\",\"label\":\"ERP分类\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"90\",\"prop\":\"skuType\",\"label\":\"商品种类\",\"formatter\":_vm.skuTypeFormater}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"转换比例\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"转换比例\"},on:{\"blur\":function($event){return _vm.blurHandel(scope.row.ratio)}},model:{value:(scope.row.ratio),callback:function ($$v) {_vm.$set(scope.row, \"ratio\", $$v)},expression:\"scope.row.ratio\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"60\",\"prop\":\"saleUnitName\",\"label\":\"单位\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteErpGoods(scope.row)}}})],1)]}}])})],1),_vm._v(\" \"),_c('p',{staticStyle:{\"line-height\":\"20px\"}},[_vm._v(\"注：转换比例即线上售卖一份需减扣多少单位的母商品；\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-left\":\"2em\",\"line-height\":\"20px\"}},[_vm._v(\"果切商品，请注意减扣母商品的重量，是否带皮；\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-left\":\"2em\",\"line-height\":\"20px\"}},[_vm._v(\"ERP组合商品，不可订货，不能添加到线上商品库；\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-left\":\"2em\",\"line-height\":\"20px\"}},[_vm._v(\"线上商品库，组合多个ERP商品时，只能选择标品或计量商品；\")])],1)],1),_vm._v(\" \"),(_vm.addParamMesg.goodsErpSkuRelations.length === 1 && _vm.addParamMesg.goodsErpSkuRelations[0].skuType === 'W')?_c('el-form-item',{attrs:{\"label\":\"扫码捡货\"}},[_c('el-radio-group',{attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMesg.isPick),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"isPick\", $$v)},expression:\"addParamMesg.isPick\"}},[_c('el-radio-button',{attrs:{\"label\":1}},[_vm._v(\"开启\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":0}},[_vm._v(\"关闭\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"母商品为重量商品才能开启扫码捡货\")])],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMesg.isPick === 1)?_c('el-form-item',{attrs:{\"label\":\"差额退款\"}},[_c('el-radio-group',{attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMesg.isRefund),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"isRefund\", $$v)},expression:\"addParamMesg.isRefund\"}},[_c('el-radio-button',{attrs:{\"label\":1}},[_vm._v(\"开启\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":0}},[_vm._v(\"关闭\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"开启了扫码捡货的商品才能开启差额退款\")])],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"线上商品名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入线上商品名称\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.skuName),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"skuName\", $$v)},expression:\"addParamMesg.skuName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"商品名称限制30个字，请规范命名，案例：香蕉2根 约400g/份 或 麒麟瓜半个 不少于1000g/份\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规格\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入规格\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.spec),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"spec\", $$v)},expression:\"addParamMesg.spec\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"规格描述\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品卖点\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入商品卖点\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.buyName),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"buyName\", $$v)},expression:\"addParamMesg.buyName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"商品特色、优点，限制20个字\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"重量\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入重量\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.weight),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"weight\", $$v)},expression:\"addParamMesg.weight\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},slot:\"append\"},[_vm._v(\"g\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"京东到家平台用\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品首图小视频\"}},[_c('div',{staticClass:\"mh-up-w\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.videoUploadReg,\"http-request\":_vm.emitUploadVideo}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.videoUploadLoading),expression:\"videoUploadLoading\"}]},[(_vm.addParamMesg.videoImageList && _vm.addParamMesg.videoImageList[0] && _vm.addParamMesg.videoImageList[0].imgUrl)?_c('video',{staticClass:\"avatar\",attrs:{\"src\":_vm.addParamMesg.videoImageList && _vm.addParamMesg.videoImageList[0] && _vm.addParamMesg.videoImageList[0].imgUrl,\"controls\":\"controls\"}},[_vm._v(\"您的浏览器不支持视频播放\")]):_c('i',{staticClass:\"el-icon-upload2 avatar-uploader-icon\"})])]),_vm._v(\" \"),(_vm.addParamMesg.videoImageList && _vm.addParamMesg.videoImageList[0] && _vm.addParamMesg.videoImageList[0].imgUrl)?_c('div',{staticClass:\"mh-up-h-w\"},[_c('span',{staticClass:\"up-h-i\",on:{\"click\":_vm.deleteVideo}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"删除\")])]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"tip-txt-w\"},[_c('span',[_vm._v(\"请上传大小不超过10M的MP4格式的小视频\")])])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品方图\",\"required\":\"\"}},[_c('div',[_c('draggable',{on:{\"update\":_vm.datadragEnd},model:{value:(_vm.imageListArr),callback:function ($$v) {_vm.imageListArr=$$v},expression:\"imageListArr\"}},[_c('transition-group',_vm._l((_vm.imageListArr),function(item,idx){return _c('div',{key:item.imgUrl,staticClass:\"mh-up-w\",on:{\"click\":function($event){return _vm.setItemIdx(idx)}}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadRegForMore,\"http-request\":_vm.emitUpload}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading && _vm.currentUpFileIdx == idx),expression:\"imageUploadLoading && currentUpFileIdx == idx\"}]},[(item.imgUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.imgUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])]),_vm._v(\" \"),(item.imgUrl && item.imgUrl != '')?_c('div',{staticClass:\"mh-up-h-w\"},[_c('span',{staticClass:\"up-h-i\",on:{\"click\":function($event){return _vm.deleteUpFile(idx)}}},[_c('i',{staticClass:\"el-icon-delete\"})]),_vm._v(\" \"),_c('span',{staticClass:\"up-h-i\"},[_c('i',{staticClass:\"el-icon-rank\"})])]):_vm._e()],1)}),0)],1),_vm._v(\" \"),_c('div',{staticClass:\"tip-txt-w\"},[_c('span',[_vm._v(\"请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张\")])])],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品详情图\"}},[_c('div',{on:{\"click\":function($event){return _vm.setItemIdx(-1)}}},[_c('div',{staticClass:\"mh-up-w\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadReg,\"http-request\":_vm.emitUpload}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading && _vm.currentUpFileIdx == -1),expression:\"imageUploadLoading && currentUpFileIdx == -1\"}]},[(_vm.addParamMesg.detailImageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.addParamMesg.detailImageUrl}}):_c('i',{staticClass:\"el-icon-upload2 avatar-uploader-icon\"})])]),_vm._v(\" \"),(_vm.addParamMesg.detailImageUrl)?_c('div',{staticClass:\"mh-up-h-w\"},[_c('span',{staticClass:\"up-h-i\",on:{\"click\":_vm.deleteDetailImg}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"删除\")])]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"tip-txt-w\"},[_c('span',[_vm._v(\"建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M\")])])])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类\",\"required\":\"\"}},[_c('el-cascader',{ref:\"cascaderCategory\",staticClass:\"add-input\",attrs:{\"placeholder\":\"请选择分类\",\"options\":_vm.categoryList,\"size\":\"small\",\"filterable\":\"\",\"props\":_vm.cateDefaultProps},on:{\"change\":_vm.categoryChange},model:{value:(_vm.addParamMesg.categoryPlatList),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"categoryPlatList\", $$v)},expression:\"addParamMesg.categoryPlatList\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"店内分类\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序权重\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入排序权重\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.sortNum),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"sortNum\", $$v)},expression:\"addParamMesg.sortNum\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"店内分类下的商品排序，0-999整数，数值越大越靠前\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"产地\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入产地\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.origin),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"origin\", $$v)},expression:\"addParamMesg.origin\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"保质期\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入保质期\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.qualityPeriod),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"qualityPeriod\", $$v)},expression:\"addParamMesg.qualityPeriod\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"包装\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入包装\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.pack),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"pack\", $$v)},expression:\"addParamMesg.pack\"}})],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled,\"loading\":_vm.saveLoading},on:{\"click\":function($event){return _vm.doSaveHandel(false)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"系统提示\",\"visible\":_vm.validMsgDialogVisible,\"width\":\"360px\"},on:{\"update:visible\":function($event){_vm.validMsgDialogVisible=$event}}},[_c('span',[_vm._v(\"现商品库有相同规格的商品，确定要重复创建吗？\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.validMsgDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.doSaveHandel(true)}}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2433813b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoodsMgt/LibaryGoods/AddLibaryGoods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2433813b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddLibaryGoods.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddLibaryGoods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddLibaryGoods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2433813b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddLibaryGoods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoodsMgt/LibaryGoods/AddLibaryGoods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}