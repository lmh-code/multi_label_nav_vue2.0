webpackJsonp([1],{"9GBZ":function(i,t){},"UQu/":function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("Dd8w"),l=e.n(a),s=e("RCQo"),n=e("Yehp"),o=e("eOiK"),r={mixins:[s.a],data:function(){return{isDisabled:!1,type:"",supplierId:"",statusOptions:[{label:"待上传",value:0},{label:"待审核",value:1},{label:"审核通过",value:2},{label:"已驳回",value:3},{label:"已过期",value:4},{label:"即将过期",value:5},{label:"即将过期-更换中",value:6}],id:"",qualificationModelId:"",qualificationModelName:"",qualificationNo:"",status:"",qualificationBasicMsgList:[],qualificationTimeMsgList:[],qualificationImgList:[],qualificationType:"old",showTab:!1,oldQualificationDetailMsg:{},newQualificationDetailMsg:{}}},created:function(){this.type=this.$route.params.type,this.id=this.$route.params.id,this.qualificationModelId=this.$route.params.modelId,this.supplierId=this.$route.params.supplierId},mounted:function(){this.getDetailMsg()},components:{"image-show":o.a},methods:{getDetailMsg:function(){var i=this,t=n.a.qualificationMsgDetail;"001"===this.type?t=n.a.qualificationMsgDetail:"002"===this.type&&(t=n.a.getGoodsDetail);var e={id:this.id,qualificationModelId:this.qualificationModelId,supplierId:this.supplierId};this.$loading.show(),this.$http.post(t,l()({},e)).then(function(t){if(i.$loading.hide(),0===t.code){var e=t.data&&t.data.length?t.data.filter(function(i){return 0===i.isNew})[0]:null,a=t.data&&t.data.length?t.data.filter(function(i){return 1===i.isNew})[0]:null;return i.oldQualificationDetailMsg=e,i.newQualificationDetailMsg=a,i.showTab=!(!e||!a),void(i.showTab?i.setStateRenderDom(e):i.setStateRenderDom(e||a))}throw new Error(t.msg)}).catch(function(t){i.$loading.hide(),i.$tip.notify(t.message||"","error","系统提示")})},setStateRenderDom:function(i){i&&(this.id=i.id,this.qualificationModelId=i.qualificationModelId,this.qualificationModelName=i.qualificationModelName,this.qualificationNo=i.qualificationNo,this.status=i.status,this.qualificationBasicMsgList=i.items&&i.items.length?i.items.filter(function(i){return 0===i.fieldType}):[],this.qualificationTimeMsgList=i.items&&i.items.length?i.items.filter(function(i){return 1===i.fieldType}):[],this.qualificationImgList=i.url?i.url.split(",").map(function(i,t){return{index:t,imageUrl:i}}):[{index:0,imageUrl:""}])},formatStatus:function(i){var t=this.statusOptions.filter(function(t){return t.value===i})[0];return t?t.label:""},qualificationTypeChange:function(i){"old"===i?this.setStateRenderDom(this.oldQualificationDetailMsg):"new"===i&&this.setStateRenderDom(this.newQualificationDetailMsg)},doCancelHandel:function(){"001"===this.type?this.closePage("/sc_qua"):"002"===this.type&&this.closePage("/goods_qua")}}},u={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"add-form-wraper"},[e("el-form",{attrs:{"label-position":"right","label-width":"160px"}},[i.showTab?e("el-radio-group",{attrs:{size:"small"},on:{change:i.qualificationTypeChange},model:{value:i.qualificationType,callback:function(t){i.qualificationType=t},expression:"qualificationType"}},[e("el-radio-button",{attrs:{label:"old"}},[i._v("旧资质")]),i._v(" "),e("el-radio-button",{attrs:{label:"new"}},[i._v("新资质")])],1):i._e(),i._v(" "),e("div",{staticClass:"title mt10"},[i._v("基本信息：")]),i._v(" "),e("el-form-item",{attrs:{label:"资质名称:"}},[i._v("\n      "+i._s(i.qualificationModelName)+"        资质状态： "+i._s(i.formatStatus(i.status))+"\n    ")]),i._v(" "),e("el-form-item",{attrs:{label:"资质编码:"}},[i._v("\n      "+i._s(i.qualificationNo)+"\n    ")]),i._v(" "),e("div",{staticClass:"title"},[i._v("普通信息：")]),i._v(" "),i._l(i.qualificationBasicMsgList,function(t,a){return[e("el-form-item",{key:a,attrs:{label:t.qualificationFieldName+":"}},[i._v("\n        "+i._s(t.textValue)+"\n      ")])]}),i._v(" "),e("div",{staticClass:"title"},[i._v("时间信息：")]),i._v(" "),i._l(i.qualificationTimeMsgList,function(t,a){return[e("el-form-item",{key:a+1e4,attrs:{label:t.qualificationFieldName+":"}},[i._v("\n        "+i._s(t.timeValue)+"\n      ")])]}),i._v(" "),e("div",[e("span",{staticClass:"title"},[i._v("资质图片：")]),i._v("(图片格式要求jpg、png ;图片大小不超过3M;上传的资质需是加盖供应商公章的彩色扫描件；资质要求清晰；最多只能上传3张。)\n    ")]),i._v(" "),e("el-form-item",{attrs:{label:"图片内容:"}},[e("image-show",{attrs:{previewImageList:i.qualificationImgList,imgAspect:2}})],1),i._v(" "),e("el-form-item",[e("hr",{staticClass:"s-slip-tb"}),i._v(" "),e("el-button",{attrs:{size:"small"},on:{click:i.doCancelHandel}},[i._v("关闭")])],1)],2)],1)},staticRenderFns:[]};var c=e("VU/8")(r,u,!1,function(i){e("9GBZ")},"data-v-2824632c",null);t.default=c.exports},eOiK:function(i,t,e){"use strict";var a={props:{previewImageList:{type:Array,default:function(){return[]}},imgAspect:{type:Number,default:1}},data:function(){return{dialogVisible:!1,bigImageUrl:""}},methods:{onPreviewHandel:function(i){this.bigImageUrl=i,this.dialogVisible=!0}}},l={render:function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"upload-img-wrap"},[i._l(i.previewImageList,function(t){return e("div",{key:t.imageUrl,class:2===i.imgAspect?"uploadImg3r4":3===i.imgAspect?"uploadImg4r3":"uploadImg1r1",on:{click:function(e){return i.onPreviewHandel(t.imageUrl)}}},[t.imageUrl?e("img",{attrs:{src:t.imageUrl,alt:"图片信息"}}):i._e()])}),i._v(" "),e("el-dialog",{attrs:{visible:i.dialogVisible},on:{"update:visible":function(t){i.dialogVisible=t}}},[e("img",{attrs:{width:"100%",src:i.bigImageUrl,alt:""}})])],2)},staticRenderFns:[]};var s=e("VU/8")(a,l,!1,function(i){e("mvM6")},"data-v-8697fb9e",null);t.a=s.exports},mvM6:function(i,t){}});
//# sourceMappingURL=1.64291ae4d975dcfe03d9.1615898974438.js.map