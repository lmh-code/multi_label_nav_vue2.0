webpackJsonp([142],{"9q4N":function(e,t){},zmKD:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Gu7T"),r=a.n(n),o=a("Dd8w"),s=a.n(o),i=a("ssT3"),l=a("bzuE"),c=a("XfvZ"),u=a("32kd"),p="/member/zt/group/groupList",h={data:function(){return{pageSizes:l.a.pageSizes20,loading:!1,pageNum:1,pageSize:20,total:0,tableData:[],searchContent:{regionCode:i.a.get("regionCode")||"",cityId:"",source:"web",defaultRange:[],createTimeEnd:"",createTimeStart:"",groupNo:"",groupStatus:"",orderNo:"",skuNoOrGoodsName:""},groupStatusOptions:[{label:"全部",value:""},{label:"待成团",value:10},{label:"成团成功",value:20},{label:"成团失败",value:30},{label:"已关闭",value:40}]}},mounted:function(){var e=i.a.get("searchContent");this.$route.meta.keepAlive&&e&&(this.pageNum=e.pageNum,this.searchContent=e.searchContent),i.a.remove("searchContent"),this.doSearchHandel()},components:{"date-picker-range":c.a,"region-city-store":u.a},methods:{StoreGroupChange:function(e){this.searchContent.regionCode=e.regionCode,this.searchContent.cityId=e.cityId,this.doSearchHandel(!0)},changeSize:function(e){this.pageSize=e,this.doSearchHandel()},changeCurrent:function(e){this.pageNum=e,this.doSearchHandel()},doSearchHandel:function(e){var t=this,a=this.searchContent.createTimeStart?new Date(this.searchContent.createTimeStart.replace(/-/g,"/")).getTime():0,n=this.searchContent.createTimeEnd?new Date(this.searchContent.createTimeEnd.replace(/-/g,"/")).getTime():0;this.searchContent.createTimeStart&&this.searchContent.createTimeEnd&&!isNaN(a)&&!isNaN(n)&&a>n?this.$message("开团结束日期不能早于开团开始日期"):(this.loading=!0,!0===e&&(this.pageNum=1),this.$http.post(p,s()({},this.searchContent,{pageNum:this.pageNum,pageSize:this.pageSize,DIFFCITY:!0})).then(function(e){if(t.loading=!1,0===e.code)return e.data&&e.data.list&&e.data.list.length?t.tableData=e.data.list:t.tableData=[],void(t.total=e.data.total);throw new Error(e.msg)}).catch(function(e){t.loading=!1,t.$notify.error({title:"提示",message:e.message})}))},groupStatusFormater:function(e,t,a){return 10===a?"待成团":20==a?"成团成功":30==a?"成团失败":40==a?"已关闭":"--"},showDetail:function(e){var t={searchContent:this.searchContent,pageNum:this.pageNum};i.a.set("searchContent",t),this.$router.push("/group_order/detail/"+e.groupNo)},datePickerRangeChange:function(e){this.searchContent.defaultRange=e?[].concat(r()(e)):e,this.searchContent.createTimeStart=e?e[0]:"",this.searchContent.createTimeEnd=e?e[1]:"",this.doSearchHandel(!0)}},beforeRouteLeave:function(e,t,a){t.meta.keepAlive=!1,a()}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"search-form-wraper"},[a("el-form",{attrs:{model:e.searchContent,"label-position":"top"}},[a("region-city-store",{attrs:{showGroup:!1,showStore:!1,defaultCityId:e.searchContent.cityId},on:{StoreGroupChange:e.StoreGroupChange}}),e._v(" "),a("el-form-item",{attrs:{label:"拼团号"}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入拼团号",size:"small",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearchHandel(!0)}},model:{value:e.searchContent.groupNo,callback:function(t){e.$set(e.searchContent,"groupNo","string"==typeof t?t.trim():t)},expression:"searchContent.groupNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入订单号",size:"small",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearchHandel(!0)}},model:{value:e.searchContent.orderNo,callback:function(t){e.$set(e.searchContent,"orderNo","string"==typeof t?t.trim():t)},expression:"searchContent.orderNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"拼团商品"}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"商品名称关键字",size:"small",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearchHandel(!0)}},model:{value:e.searchContent.skuNoOrGoodsName,callback:function(t){e.$set(e.searchContent,"skuNoOrGoodsName","string"==typeof t?t.trim():t)},expression:"searchContent.skuNoOrGoodsName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开团时间"}},[a("date-picker-range",{attrs:{defaultRange:e.searchContent.defaultRange,format:"yyyy-MM-dd",type:"daterange"},on:{datePickerRangeChange:e.datePickerRangeChange}})],1),e._v(" "),a("el-form-item",{attrs:{label:"拼团状态"}},[a("el-select",{staticClass:"search-input",attrs:{filterable:"",placeholder:"请选择业务类型",clearable:"",size:"small"},on:{change:function(t){return e.doSearchHandel(!0)}},model:{value:e.searchContent.groupStatus,callback:function(t){e.$set(e.searchContent,"groupStatus",t)},expression:"searchContent.groupStatus"}},e._l(e.groupStatusOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.doSearchHandel(!0)}}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("div",{staticClass:"table-wraper"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"fixed-height",staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":"没有查询到您想要的数据",size:"small"}},[a("el-table-column",{attrs:{"min-width":"140px",label:"拼团编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticClass:"order-id",on:{click:function(a){return e.showDetail(t.row)}}},[e._v(e._s(t.row.groupNo))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80px",prop:"joinLimitNum",label:"几人团"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"80px",prop:"groupJoinedNum",label:"已成团"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"110px",prop:"lastFor",label:"成团时长(分)"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"180px",prop:"createTime",label:"开团时间"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120px",prop:"groupStatus",label:"拼团状态",formatter:e.groupStatusFormater}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120px",prop:"groupCreateMemberName",label:"发起人"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120px",prop:"groupCreateMemberPhone",label:"发起人手机"}})],1),e._v(" "),e.total>0?a("el-pagination",{staticClass:"tc mt20",attrs:{background:"","current-page":e.pageNum,"page-sizes":e.pageSizes,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.changeSize,"current-change":e.changeCurrent,"update:currentPage":function(t){e.pageNum=t},"update:current-page":function(t){e.pageNum=t}}}):e._e()],1)])},staticRenderFns:[]};var m=a("VU/8")(h,d,!1,function(e){a("9q4N")},null,null);t.default=m.exports}});
//# sourceMappingURL=142.98e22663f6dd3cfe11b2.js.map