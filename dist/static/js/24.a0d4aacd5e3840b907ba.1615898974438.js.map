{"version":3,"sources":["webpack:///src/module/views/Reconciliation/Settlement/Print.vue","webpack:///./src/module/views/Reconciliation/Settlement/Print.vue?d1a6","webpack:///./src/module/views/Reconciliation/Settlement/Print.vue"],"names":["Print","components","printer-panel","PrinterPanel","print-table","PrintTable","data","settlementNo","this","$route","params","storeNo","loading","currentTime","Object","utils","Date","getTime","settlement","reconciliationVoList","chargeVoList","invoiceVoList","userName","reconciliationColumns","name","props","chargeColumns","invoiceColumns","created","settlementDetail","$storage","get","userNickname","methods","windowPrintHandel","winPrinter","$refs","printContent","_this","$http","post","api_settlement","then","res","code","_res$data","purchaseIOOrderDOList","storeSellList","feeList","invoiceList","typeCooperationMode","cooperationMode","map","item","index","length","taxReceipt","happenTime","catch","e","$tip","notify","message","Settlement_Print","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","attrs","showDesign","isWebPrint","on","windowPrint","_v","ref","_s","supplierName","span","settlementStartDate","settlementEndDate","statusName","shouldPay","shoudInvoiceMoney","havedInvoiceMoney","remark","pages","propsList","tableData","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/24.a0d4aacd5e3840b907ba.1615898974438.js","sourcesContent":["<template>\n  <div class=\"print-page\" v-loading=\"loading\">\n    <printer-panel \n      :showDesign=\"true\" \n      :isWebPrint=\"true\"\n      @windowPrint=\"windowPrintHandel\"></printer-panel>\n    <div class=\"print-content\" ref=\"printContent\">\n      <el-row><h2 class=\"suppler\">本来鲜科技有限公司结算单</h2></el-row>\n      <el-row class=\"mt-10\"><h4 class=\"company\">{{settlement.supplierName}}</h4></el-row>\n      <el-row class=\"mt-10\">\n        <el-col :span=\"6\">结算单号：{{settlementNo}}</el-col>\n        <el-col :span=\"6\">账期：{{settlement.settlementStartDate}}至{{settlement.settlementEndDate}}</el-col>\n        <el-col :span=\"6\">应结算日：{{settlement.settlementEndDate}}</el-col>\n        <el-col :span=\"6\">单据状态：{{settlement.statusName}}</el-col>\n        <el-col :span=\"6\">应结金额：￥{{settlement.shouldPay}}</el-col>\n        <el-col :span=\"6\">应开票金额：￥{{settlement.shoudInvoiceMoney}}</el-col>\n        <el-col :span=\"6\">已开票金额：￥{{settlement.havedInvoiceMoney}}</el-col>\n        <el-col :span=\"24\">备注：{{settlement.remark}}</el-col>\n      </el-row>\n      <div class=\"mt-20\">单据：</div>\n      <print-table \n        class=\"print-table\" \n        :pages=\"false\"\n        :propsList=\"reconciliationColumns\" \n        :tableData=\"reconciliationVoList\"/>\n      <div class=\"mt-10\">其他费用：</div>\n      <print-table \n        class=\"print-table\" \n        :pages=\"false\"\n        :propsList=\"chargeColumns\" \n        :tableData=\"chargeVoList\"/>\n      <div class=\"mt-10\">发票明细：</div>\n      <print-table \n        class=\"print-table\" \n        :pages=\"false\"\n        :propsList=\"invoiceColumns\"\n        :tableData=\"invoiceVoList\"/>\n      <el-row class=\"mt-10\">\n        <el-col :span=\"6\">打印人:{{userName}} </el-col>\n        <el-col :span=\"6\">打印时间:{{currentTime}}</el-col>\n      </el-row>\n    </div>\n  </div>\n</template>\n<script>\nimport PrintTable from '@/components/Common/Print/PrintTable'\nimport PrinterPanel from '@/components/Common/Print/PrinterPanel'\nimport settlementUrl from '@/module/api/settlement'\nimport {dateFormat} from '@/utils/utils'\nimport winPrinter from '@/utils/winPrinter';\nexport default {\n  components: {\n    'printer-panel': PrinterPanel,\n    'print-table': PrintTable\n  },\n  data() {\n    return {\n      settlementNo: this.$route.params.settlementNo || '',\n      storeNo: this.$route.params.storeNo || '',\n      loading: false,\n      currentTime: dateFormat('yyyy-MM-dd HH:mm:ss', new Date().getTime()),\n      settlement: {},\n      reconciliationVoList: [], // 单据信息\n      chargeVoList: [],\n      invoiceVoList: [],\n      userName:'',\n      reconciliationColumns: [\n        {\n          name: '序号',\n          props: 'index'\n        },\n        {\n          name: '订单编号',\n          props: 'reserveField1'\n        },\n        {\n          name: '进/退货单号',\n          props: 'oldIoOrderNumber'\n        },\n        {\n          name: '类型',\n          props: 'ioTypeName'\n        },\n        {\n          name: '结算金额',\n          props: 'totalMoney'\n        }\n      ],\n      chargeColumns: [\n        {\n          name: '序号',\n          props: 'index'\n        },\n        {\n          name: '单号',\n          props: 'feeNumber'\n        },\n        {\n          name: '费用类型',\n          props: 'feeName'\n        },\n        {\n          name: '费用金额',\n          props: 'feeMoney'\n        },\n        {\n          name: '类型',\n          props: 'taxReceipt'\n        }\n      ],\n      invoiceColumns: [\n        {\n          name: '序号',\n          props: 'index'\n        },\n        {\n          name: '开票日期',\n          props: 'invoiceTimeDate'\n        },\n        {\n          name: '发票代码',\n          props: 'invoiceCode'\n        },\n        {\n          name: '发票号',\n          props: 'invoiceNumber'\n        },\n        {\n          name: '价税合计',\n          props: 'invoiceMoney'\n        },\n        {\n          name: '税率汇总信息',\n          props: 'inTax'\n        }\n      ]\n    }\n  },\n  created() {\n    this.settlementDetail()\n    this.userName = this.$storage.get('loginInfo') ? this.$storage.get('loginInfo').userNickname || this.$storage.get('loginInfo').userName : ''\n  },\n  methods: {\n    windowPrintHandel() {\n      this.currentTime = dateFormat('yyyy-MM-dd HH:mm:ss', new Date().getTime())\n      winPrinter(this.$refs.printContent)\n    },\n    settlementDetail() {\n      this.loading = true;\n      this.$http.post(`${settlementUrl.settlementDetail}/${this.settlementNo}`).then(res => {\n        this.loading = false;\n        if(res.code === 0 && res.data) {\n          const { settlement, purchaseIOOrderDOList, storeSellList, feeList, invoiceList } = res.data;\n          this.settlement = settlement;\n          // 单据列表\n          const typeCooperationMode = settlement.cooperationMode\n          this.reconciliationVoList = typeCooperationMode == 1 ? purchaseIOOrderDOList.map((item,index)=>{\n            item.index = index + 1;\n            return item\n          }): storeSellList.map((item,index)=>{\n            item.index = index + 1\n            return item\n          });\n          //其他费用\n          this.chargeVoList = feeList && feeList.length >0 ? feeList.map((item,index) =>{\n            item.index = index + 1;\n            item.taxReceipt = item.taxReceipt ? '票扣' : '非票扣'\n            item.happenTime = dateFormat('yyyy-MM-dd', item.happenTime)\n            return item\n          }): [];\n          // 发票明细\n          this.invoiceVoList = invoiceList && invoiceList.length > 0 ? invoiceList.map((item,index)=> {\n            item.index = index + 1\n            return item\n          }) : []\n        }\n      }).catch(e => {\n        this.loading = false\n        this.$tip.notify(e.message || '', 'error', '系统提示')\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n  .suppler {\n    text-align: center;\n    font-weight: 700;\n    font-size: 20px\n  }\n  .company {\n    text-align: center;\n    font-weight: 500;\n    font-size: 16\n  }\n  .mt-10 {\n    margin-top: 10px\n  }\n  .mt-20 {\n    margin-top: 20px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/module/views/Reconciliation/Settlement/Print.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"print-page\"},[_c('printer-panel',{attrs:{\"showDesign\":true,\"isWebPrint\":true},on:{\"windowPrint\":_vm.windowPrintHandel}}),_vm._v(\" \"),_c('div',{ref:\"printContent\",staticClass:\"print-content\"},[_c('el-row',[_c('h2',{staticClass:\"suppler\"},[_vm._v(\"本来鲜科技有限公司结算单\")])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mt-10\"},[_c('h4',{staticClass:\"company\"},[_vm._v(_vm._s(_vm.settlement.supplierName))])]),_vm._v(\" \"),_c('el-row',{staticClass:\"mt-10\"},[_c('el-col',{attrs:{\"span\":6}},[_vm._v(\"结算单号：\"+_vm._s(_vm.settlementNo))]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_vm._v(\"账期：\"+_vm._s(_vm.settlement.settlementStartDate)+\"至\"+_vm._s(_vm.settlement.settlementEndDate))]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_vm._v(\"应结算日：\"+_vm._s(_vm.settlement.settlementEndDate))]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_vm._v(\"单据状态：\"+_vm._s(_vm.settlement.statusName))]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_vm._v(\"应结金额：￥\"+_vm._s(_vm.settlement.shouldPay))]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_vm._v(\"应开票金额：￥\"+_vm._s(_vm.settlement.shoudInvoiceMoney))]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_vm._v(\"已开票金额：￥\"+_vm._s(_vm.settlement.havedInvoiceMoney))]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_vm._v(\"备注：\"+_vm._s(_vm.settlement.remark))])],1),_vm._v(\" \"),_c('div',{staticClass:\"mt-20\"},[_vm._v(\"单据：\")]),_vm._v(\" \"),_c('print-table',{staticClass:\"print-table\",attrs:{\"pages\":false,\"propsList\":_vm.reconciliationColumns,\"tableData\":_vm.reconciliationVoList}}),_vm._v(\" \"),_c('div',{staticClass:\"mt-10\"},[_vm._v(\"其他费用：\")]),_vm._v(\" \"),_c('print-table',{staticClass:\"print-table\",attrs:{\"pages\":false,\"propsList\":_vm.chargeColumns,\"tableData\":_vm.chargeVoList}}),_vm._v(\" \"),_c('div',{staticClass:\"mt-10\"},[_vm._v(\"发票明细：\")]),_vm._v(\" \"),_c('print-table',{staticClass:\"print-table\",attrs:{\"pages\":false,\"propsList\":_vm.invoiceColumns,\"tableData\":_vm.invoiceVoList}}),_vm._v(\" \"),_c('el-row',{staticClass:\"mt-10\"},[_c('el-col',{attrs:{\"span\":6}},[_vm._v(\"打印人:\"+_vm._s(_vm.userName)+\" \")]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_vm._v(\"打印时间:\"+_vm._s(_vm.currentTime))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c95e0f0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/module/views/Reconciliation/Settlement/Print.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c95e0f0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Print.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Print.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Print.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c95e0f0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Print.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c95e0f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/module/views/Reconciliation/Settlement/Print.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}