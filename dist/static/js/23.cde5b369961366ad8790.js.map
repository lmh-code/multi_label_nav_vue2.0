{"version":3,"sources":["webpack:///src/components/StoreMgt/ScreenSet/AddPage.vue","webpack:///./src/components/StoreMgt/ScreenSet/AddPage.vue?a22f","webpack:///./src/components/StoreMgt/ScreenSet/AddPage.vue","webpack:///src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue","webpack:///./src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue?7e66","webpack:///./src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue"],"names":["fileUrlList","reqUrl","salePriceReg","AddPage","data","isDisabled","addParamMsg","detailImageList","templateType","templateName","tip","interval","cityId","moduleType","enable","display","storeNo","moduleGoodsReqList","categoryNos","categoryNamesStr","goodsTypes","showMemberPriceB","templateTypeOptions","label","value","enableOptions","moduleTypeOptions","displayOptions","goodsTypeOptions","cityOptions","storeOptions","showModel","categoryList","imageListArr","imgUrl","sortNum","imageUploadLoading","currentUpFileIdx","created","this","getGoodsType","getCityList","getCategoryList","components","goods-cat-dialog","GoodsCatDialog","draggable","vuedraggable_common_default","a","methods","_this","$http","get","then","res","code","Error","msg","length","catch","e","console","log","message","_this2","post","goodsTypeOptionsTemp","GoodsType","map","item","defGoodsTypes","forEach","_this3","cityList","cityName","cityChange","_this4","_params","DIFFCITY","pageNum","pageSize","extends_default","storeList","result","storeName","$notify","error","title","showChooseCatDialog","_row","_index","currentIdx","defaultCheckedKeys","$refs","chooseGoodsDialog","setDefaultMsg","confirmChooseCategory","categoryNames","checkedKeys","emitUpload","_this5","$message","getToken","qiniu_min","file","fileName","token","subscribe","complete","urlImage","key","setImgUrl","hash","push","reduceRight","next","reverse","imageUploadRegForMore","_this6","isPic","type","indexOf","isJPG","isSizeNum","size","isSize","promise_default","resolve","reject","_URL","window","URL","webkitURL","img","Image","onload","width","height","src","createObjectURL","_this7","setItemIdx","_idx","_imgUrl","_this8","detailImageUrl","detailItemMsg","i","parseInt","deleteUpFile","filter","idx","datadragEnd","evt","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","map_default","done","_ref","_ref2","slicedToArray_default","index","err","return","doSaveHandel","_this9","params","test","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","entries","_ref3","_ref4","showMemberPrice","imgUrlList","imgUrlListParams","modulePicReqList","modulePicReqListParams","tipTxt","$confirm","confirmButtonText","cancelButtonText","setTimeout","success","$router","doCancelHandel","_this10","ScreenSet_AddPage","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","required","placeholder","callback","$$v","$set","expression","_l","_v","filterable","on","change","_e","slot","staticStyle","line-height","icon","click","$event","multiple","collapse-tags","margin-top","update","action","show-file-list","before-upload","http-request","directives","name","rawName","_s","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","props","Array","default","defaultProps","children","tree","setCheckedKeys","concat","toConsumableArray_default","doConfirmHandel","getCheckedKeys","join","$emit","ScreenSet_GoodsCatDialog","close-on-click-modal","close-on-press-escape","visible","update:visible","max-height","overflow-y","show-checkbox","node-key","default-checked-keys"],"mappings":"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","file":"static/js/23.cde5b369961366ad8790.js","sourcesContent":["<style>\r\n  @import \"../../../../static/style/file_upload.css\";\r\n\r\n  .mh-up-w {\r\n    float: left;\r\n    margin-left: 10px;\r\n  }\r\n\r\n  .mh-up-w:first-child {\r\n    margin-left: 0;\r\n  }\r\n\r\n  .mh-up-h-w-sc {\r\n    padding: 0 5px;\r\n    line-height: 0;\r\n    margin-top: 10px;\r\n    margin-bottom: 8px;\r\n    text-align: center;\r\n  }\r\n\r\n  .up-h-i {\r\n    cursor: pointer;\r\n    padding-left: 6px;\r\n    padding-right: 6px;\r\n  }\r\n\r\n  .up-h-i:hover {\r\n    color: #3080fe;\r\n  }\r\n\r\n  .display-0-wrap {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n  }\r\n\r\n  .item-com {\r\n    margin-right: 10px;\r\n    padding: 6px;\r\n    border: 1px solid #ececec;\r\n    border-radius: 6px;\r\n  }\r\n\r\n</style>\r\n\r\n<template>\r\n  <div class=\"add-form-wraper\">\r\n    <el-form ref=\"form\" :model=\"addParamMsg\" label-width=\"160px\">\r\n      <el-form-item label=\"模板类型\" required>\r\n        <el-select class=\"add-input\" v-model=\"addParamMsg.templateType\" placeholder=\"请选择模板类型\" size=\"small\">\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in templateTypeOptions\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"区域\" required>\r\n        <el-select class=\"add-input\" v-model=\"addParamMsg.cityId\" placeholder=\"请选择区域\" size=\"small\" @change=\"cityChange\"\r\n          filterable>\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in cityOptions\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"门店\" v-if=\"addParamMsg.templateType === 2\" required>\r\n        <el-select class=\"add-input\" v-model=\"addParamMsg.storeNo\" placeholder=\"请选择门店\" size=\"small\" filterable>\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in storeOptions\"></el-option>\r\n        </el-select>\r\n        <span>请先选择区域再选择门店</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"模板名称\" required>\r\n        <el-input v-model=\"addParamMsg.templateName\" size=\"small\" class=\"add-input\" placeholder=\"模板名称\"></el-input>\r\n        <span>模板名称,限制20个汉字</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"温馨提示\">\r\n        <el-input v-model=\"addParamMsg.tip\" size=\"small\" class=\"add-input\" placeholder=\"温馨提示\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"滚动设置\" required>\r\n        <el-input v-model=\"addParamMsg.interval\" size=\"small\" class=\"add-input\" placeholder=\"翻页间隔（秒）\">\r\n          <el-button slot=\"append\">秒</el-button>\r\n        </el-input>\r\n        <span>翻页间隔（秒）是大于5的整数</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"页面模板设置\" required>\r\n        <el-select class=\"add-input-inline\" v-model=\"addParamMsg.moduleType\" size=\"small\">\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in moduleTypeOptions\">\r\n          </el-option>\r\n        </el-select>\r\n        <el-select class=\"add-input-inline\" v-model=\"addParamMsg.display\" size=\"small\">\r\n          <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in displayOptions\">\r\n          </el-option>\r\n        </el-select>\r\n        <div class=\"display-0-wrap\" v-if=\"addParamMsg.moduleType === 0\">\r\n          <div class=\"item-com display-item\" v-for=\"(item, index) in moduleGoodsReqList\" :key=\"index\">\r\n            <div>\r\n              <div style=\"line-height: 16px;\">选择商品分类：</div>\r\n              <el-input v-model=\"item.categoryNamesStr\" size=\"small\" class=\"search-input\" placeholder=\"商品分类\">\r\n                <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"showChooseCatDialog(item, index)\"></el-button>\r\n              </el-input>\r\n            </div>\r\n            <div>\r\n              <div style=\"line-height: 16px;\">选择要显示的商品种类：</div>\r\n              <el-select v-model=\"item.goodsTypes\" size=\"small\" class=\"search-input\" multiple collapse-tags\r\n                placeholder=\"要显示的商品种类\">\r\n                <el-option v-for=\"type in goodsTypeOptions\" :key=\"type.value\" :label=\"type.label\" :value=\"type.value\">\r\n                </el-option>\r\n              </el-select>\r\n            </div>\r\n            <div>\r\n              <div style=\"line-height: 16px;margin-top: 8px;\">是否显示以下字段：</div>\r\n              <el-checkbox v-model=\"item.showMemberPriceB\">显示会员价</el-checkbox>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"addParamMsg.moduleType === 1\">\r\n          <span>请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张</span>\r\n        </div>\r\n        <div v-if=\"addParamMsg.moduleType === 1\">\r\n          <draggable v-model=\"imageListArr\" @update=\"datadragEnd\">\r\n            <transition-group>\r\n              <div class=\"mh-up-w\" v-for=\"(item, idx) of imageListArr\" @click=\"setItemIdx(idx)\" :key=\"item.imgUrl\">\r\n                <el-upload class=\"avatar-uploader-8-mt\" action=\"\" :show-file-list=\"false\"\r\n                  :before-upload=\"imageUploadRegForMore\" :http-request=\"emitUpload\">\r\n                  <div v-loading=\"imageUploadLoading && currentUpFileIdx == idx\">\r\n                    <img v-if=\"item.imgUrl\" :src=\"item.imgUrl\" class=\"avatar-8-mt\">\r\n                    <i v-else class=\"el-icon-plus avatar-uploader-8-mt-icon\"></i>\r\n                  </div>\r\n                </el-upload>\r\n                <div class=\"mh-up-h-w-sc\" v-if=\"item.imgUrl && item.imgUrl != ''\">\r\n                  <span class=\"up-h-i\" @click=\"deleteUpFile(idx)\"><i class=\"el-icon-delete\"></i></span>\r\n                  <span class=\"up-h-i\"><i class=\"el-icon-rank\"></i></span>\r\n                </div>\r\n              </div>\r\n            </transition-group>\r\n          </draggable>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"启用状态\" required>\r\n        <el-radio-group v-model=\"addParamMsg.enable\" size=\"small\">\r\n          <el-radio-button :label=\"item.value\" v-for=\"(item, idx) in enableOptions\" :key=\"idx\">{{item.label}}\r\n          </el-radio-button>\r\n        </el-radio-group>\r\n        <span>开启后线上将直接启用</span>\r\n      </el-form-item>\r\n      <hr class=\"s-slip-tb\">\r\n      <el-form-item>\r\n        <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel\" :disabled=\"isDisabled\">保存</el-button>\r\n        <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <goods-cat-dialog ref=\"chooseGoodsDialog\" :categoryList=\"categoryList\"\r\n      @confirmChooseCategory=\"confirmChooseCategory\"></goods-cat-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Storage from '@/utils/localStorage'\r\n  import GoodsCatDialog from './GoodsCatDialog'\r\n  import Draggable from 'vuedraggable'\r\n  import * as utils from '@/utils/utils'\r\n  import * as qiniu from 'qiniu-js'\r\n  const fileUrlList = {\r\n    getQiNiuToken: '/foundation/qiniu/auth/file'\r\n  }\r\n  const reqUrl = {\r\n    // 查询用户区域店组一级列表\r\n    userAreaStoreGroupList: '/foundation/store/userStoreCityList',\r\n    // 查询用户权限分店列表\r\n    userStoreList: '/foundation/store/userStoreList',\r\n    // 根据批量CommonCode查询\r\n    listByCommonCodes: '/foundation/businessConfig/listByCommonCodes',\r\n    // 获取商品分类\r\n    categoryList: '/foundation/category/list',\r\n    // 保存/更新模板\r\n    update: '/plateform/p/tv/template/update'\r\n  }\r\n  let salePriceReg = /^[1-9]*[1-9][0-9]*$/\r\n  export default {\r\n    data() {\r\n      return {\r\n        isDisabled: false,\r\n        addParamMsg: {\r\n          detailImageList: [], // 图片\r\n          templateType: 2, // 模板类型 1：区域模板 2：门店模板\r\n          templateName: null,\r\n          tip: null,\r\n          interval: null,\r\n          cityId: null,\r\n          moduleType: 0, // 模块类型 0：商品 1：图片\r\n          enable: 0, // 0启用，1禁用\r\n          display: 0, // 0：横向 1：纵向\r\n          storeNo: null // 门店编码,门店模板必填\r\n        },\r\n        moduleGoodsReqList: [{\r\n            categoryNos: [],\r\n            categoryNamesStr: '',\r\n            goodsTypes: [],\r\n            showMemberPriceB: true\r\n          },\r\n          {\r\n            categoryNos: [],\r\n            categoryNamesStr: '',\r\n            goodsTypes: [],\r\n            showMemberPriceB: true\r\n          },\r\n          {\r\n            categoryNos: [],\r\n            categoryNamesStr: '',\r\n            goodsTypes: [],\r\n            showMemberPriceB: true\r\n          }\r\n        ],\r\n        templateTypeOptions: [{\r\n            label: '区域模板',\r\n            value: 1\r\n          },\r\n          {\r\n            label: '门店模板',\r\n            value: 2\r\n          }\r\n        ],\r\n        enableOptions: [{\r\n            label: '启用',\r\n            value: 0\r\n          },\r\n          {\r\n            label: '禁用',\r\n            value: 1\r\n          }\r\n        ],\r\n        moduleTypeOptions: [{\r\n            label: '商品模块',\r\n            value: 0\r\n          },\r\n          {\r\n            label: '图片模块',\r\n            value: 1\r\n          }\r\n        ],\r\n        displayOptions: [{\r\n          label: '横屏显示',\r\n          value: 0\r\n        }],\r\n        goodsTypeOptions: [],\r\n        cityOptions: [{\r\n            label: '商品模块',\r\n            value: 0\r\n          },\r\n          {\r\n            label: '图片模块',\r\n            value: 1\r\n          }\r\n        ],\r\n        storeOptions: [],\r\n        // 显示弹窗\r\n        showModel: false,\r\n        // 商品分类列表\r\n        categoryList: [],\r\n        // 商品图临时使用  imgUrl: 图片地址  sortNum: 序号 goodsId: 商品编码 \r\n        imageListArr: [{\r\n          imgUrl: '',\r\n          sortNum: ''\r\n        }],\r\n        // 商品详情图加载\r\n        imageUploadLoading: false,\r\n        currentUpFileIdx: -1 // 默认选中的文件上传框\r\n      }\r\n    },\r\n    created() {\r\n      this.getGoodsType()\r\n      this.getCityList()\r\n      this.getCategoryList()\r\n    },\r\n    components: {\r\n      'goods-cat-dialog': GoodsCatDialog,\r\n      'draggable': Draggable\r\n    },\r\n    methods: {\r\n      getCategoryList() {\r\n        this.$http.get(reqUrl.categoryList).then(res => {\r\n          if (res.code === 0) {\r\n            this.categoryList = res.data && res.data.length ? res.data : []\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示【获取区域列表】：\", e.message)\r\n        })\r\n      },\r\n      getGoodsType() {\r\n        this.$http.post(reqUrl.listByCommonCodes, ['GoodsType']).then(res => {\r\n          if (res.code === 0) {\r\n            let goodsTypeOptionsTemp = res.data && res.data.GoodsType && res.data.GoodsType.length ? res.data\r\n              .GoodsType : []\r\n            this.goodsTypeOptions = goodsTypeOptionsTemp.map(item => {\r\n              let newItem = {\r\n                label: item.value,\r\n                value: item.code\r\n              }\r\n              return newItem\r\n            })\r\n            let defGoodsTypes = goodsTypeOptionsTemp.map(item => {\r\n              return item.code\r\n            })\r\n            this.moduleGoodsReqList.forEach(item => {\r\n              item.goodsTypes = defGoodsTypes\r\n            })\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示【获取商品分类】：\", e.message)\r\n        })\r\n      },\r\n      getCityList() {\r\n        this.$http.get(reqUrl.userAreaStoreGroupList).then(res => {\r\n          if (res.code === 0) {\r\n            let cityList = res.data && res.data.length ? res.data : []\r\n            this.cityOptions = cityList.map(item => {\r\n              let newItem = {\r\n                label: `${item.cityId}_${item.cityName}`,\r\n                value: item.cityId\r\n              }\r\n              return newItem\r\n            })\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示【获取区域列表】：\", e.message)\r\n        })\r\n      },\r\n      cityChange(e) {\r\n        let _params = {\r\n          DIFFCITY: true,\r\n          pageNum: 1,\r\n          pageSize: -1,\r\n          cityId: e\r\n        }\r\n        this.addParamMsg.storeNo = null\r\n        this.$http.post(reqUrl.userStoreList, {\r\n          ..._params\r\n        }).then(res => {\r\n          if (res.code === 0) {\r\n            let storeList = res.data && res.data.result && res.data.result.length ? res.data.result : []\r\n            this.storeOptions = storeList.map(item => {\r\n              let newItem = {\r\n                label: `${item.storeNo}_${item.storeName}`,\r\n                value: item.storeNo\r\n              }\r\n              return newItem\r\n            })\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      showChooseCatDialog(_row, _index) {\r\n        let _params = {\r\n          showModel: true,\r\n          currentIdx: _index,\r\n          defaultCheckedKeys: _row.categoryNos\r\n        }\r\n        this.$refs.chooseGoodsDialog.setDefaultMsg(_params)\r\n      },\r\n      confirmChooseCategory(_params) {\r\n        let currentIdx = _params.currentIdx\r\n        let categoryNames = _params.categoryNames\r\n        let checkedKeys = _params.checkedKeys\r\n        this.moduleGoodsReqList[currentIdx].categoryNos = checkedKeys\r\n        this.moduleGoodsReqList[currentIdx].categoryNamesStr = categoryNames\r\n      },\r\n      /**\r\n       * [emitUpload 上传图片]\r\n       * @param  {[type]} e [description]\r\n       * @return {[type]}   [description]\r\n       */\r\n      emitUpload(e) {\r\n        if (this.imageListArr.length > 8 && this.currentUpFileIdx != -1) {\r\n          this.$message.error('上传图片最多可添加8张')\r\n          return\r\n        }\r\n        this.imageUploadLoading = true\r\n        this.getToken().then((res) => {\r\n          // 开始上传图片\r\n          let uploader = qiniu.upload(e.file, res.fileName, res.token)\r\n          uploader.subscribe({\r\n            error: () => {\r\n              this.imageUploadLoading = false\r\n            },\r\n            complete: (res) => {\r\n              // 添加内容设置图片地址\r\n              let urlImage = 'http://retailimg01.benlailife.com/' + res.key\r\n              this.imageUploadLoading = false\r\n              // 设置对应的图片地址\r\n              this.setImgUrl(this.currentUpFileIdx, urlImage)\r\n\r\n              if (this.currentUpFileIdx != -1) {\r\n                let hash = {}\r\n                let imageListItem = {\r\n                  imgUrl: '',\r\n                  sortNum: ''\r\n                }\r\n                this.imageListArr.push(imageListItem)\r\n\r\n                // 去重  防止多个空对象\r\n                this.imageListArr = this.imageListArr.reduceRight((item, next) => {\r\n                  hash[next.imgUrl] ? '' : hash[next.imgUrl] = true && item.push(next)\r\n                  return item\r\n                }, [])\r\n                this.imageListArr.reverse()\r\n              }\r\n            },\r\n            next: res => {}\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [imageUploadReg 上传图片检测]\r\n       * @param  {[type]} file [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      imageUploadRegForMore(file) {\r\n        const isPic = file.type.indexOf('image/') !== -1\r\n        const isJPG = file.type === 'image/jpeg' || file.type === 'image/png'\r\n        const isSizeNum = file.size <= 2 * 1024 * 1024\r\n        if (!isPic) {\r\n          this.$message.error('请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张')\r\n          return false\r\n        }\r\n        if (!isJPG) {\r\n          this.$message.error('请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张')\r\n          return false\r\n        }\r\n        if (!isSizeNum) {\r\n          this.$message.error('请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张')\r\n          return false\r\n        }\r\n        /**\r\n         * [检测上传图片宽高]\r\n         */\r\n        const isSize = new Promise(function (resolve, reject) {\r\n          let width = 1920\r\n          let height = 1080\r\n\r\n          let _URL = window.URL || window.webkitURL\r\n          let img = new Image();\r\n          img.onload = function () {\r\n            let valid = img.width == width && img.height == height\r\n            valid ? resolve() : reject()\r\n          }\r\n          img.src = _URL.createObjectURL(file)\r\n        }).then(() => {\r\n          return file\r\n        }, () => {\r\n          this.$message.error('请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张')\r\n          return Promise.reject()\r\n        })\r\n        return isPic && isJPG && isSizeNum && isSize\r\n      },\r\n      /**\r\n       * [getToken 通过后台封装的接口获取七牛的token]\r\n       * @return {[type]}            [description]\r\n       */\r\n      getToken() {\r\n        return this.$http.post(fileUrlList.getQiNiuToken, {}).then(res => {\r\n          if (res.code == 0) {\r\n            let token = res.data.token\r\n            let fileName = res.data.key\r\n            return {\r\n              fileName,\r\n              token\r\n            }\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.imageUploadLoading = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [setItemIdx 设置当前的上传文件的idx]\r\n       * @param {[type]} _idx [description]\r\n       */\r\n      setItemIdx(_idx) {\r\n        this.currentUpFileIdx = _idx\r\n      },\r\n      /**\r\n       * [setImgUrl 设置对应的图片路径]\r\n       * @param {[type]} _idx    [description]\r\n       * @param {[type]} _imgUrl [description]\r\n       */\r\n      setImgUrl(_idx, _imgUrl) {\r\n        let urlImage = _imgUrl\r\n        let currentIdx = _idx\r\n        if (_idx === -1) {\r\n          this.addParamMsg.detailImageList = []\r\n          this.addParamMsg.detailImageUrl = urlImage\r\n          let detailItemMsg = {\r\n            imgUrl: urlImage,\r\n            sortNum: 1\r\n          }\r\n          this.addParamMsg.detailImageList.push(detailItemMsg)\r\n        } else {\r\n          this.imageListArr.forEach((item, i) => {\r\n            if (i === currentIdx) {\r\n              this.imageListArr[i].imgUrl = urlImage\r\n              this.imageListArr[i].sortNum = parseInt(currentIdx) + 1\r\n            }\r\n          })\r\n        }\r\n      },\r\n      /**\r\n       * [removeFileLeft 删除]\r\n       * @param  {[type]} _idx [description]\r\n       * @return {[type]}       [description]\r\n       */\r\n      deleteUpFile(_idx) {\r\n        let idx = _idx\r\n        this.imageListArr = this.imageListArr.filter((item, idx) => {\r\n          return idx != _idx\r\n        })\r\n      },\r\n      /**\r\n       * [datadragEnd 拖拽结束]\r\n       * @return {[type]} [description]\r\n       */\r\n      datadragEnd(evt) {\r\n        for (let [index, elem] of new Map(this.imageListArr.map((item, i) => [i, item]))) {\r\n          elem.sortNum = index + 1\r\n        }\r\n\r\n        this.imageListArr = this.imageListArr.filter(item => {\r\n          return item.imgUrl != ''\r\n        });\r\n\r\n        let imageListItem = {\r\n          imgUrl: '',\r\n          sortNum: ''\r\n        }\r\n        this.imageListArr.push(imageListItem)\r\n      },\r\n      doSaveHandel() {\r\n        if (!this.addParamMsg.cityId) {\r\n          this.$message(\"[区域]: 请选择区域\")\r\n          return\r\n        }\r\n        let params = {\r\n          DIFFCITY: true,\r\n          templateType: this.addParamMsg.templateType, // 模板类型 1：区域模板 2：门店模板\r\n          templateName: this.addParamMsg.templateName,\r\n          tip: this.addParamMsg.tip,\r\n          interval: this.addParamMsg.interval,\r\n          cityId: this.addParamMsg.cityId,\r\n          moduleType: this.addParamMsg.moduleType,\r\n          enable: this.addParamMsg.enable,\r\n          display: this.addParamMsg.display\r\n        }\r\n        if (this.addParamMsg.templateType === 2) {\r\n          // 门店模板必须有门店编码\r\n          params.storeNo = this.addParamMsg.storeNo\r\n          if (!this.addParamMsg.storeNo) {\r\n            this.$message(\"[门店]: 请选择门店\")\r\n            return\r\n          }\r\n        }\r\n        if (!this.addParamMsg.templateName) {\r\n          this.$message(\"[模板名称]: 请输入模板名称\")\r\n          return\r\n        } else {\r\n          if (this.addParamMsg.templateName.length > 20) {\r\n            this.$message(\"[模板名称]: 模板名称,限制20个汉字\")\r\n            return\r\n          }\r\n        }\r\n        if (!this.addParamMsg.interval) {\r\n          this.$message(\"[滚动设置]: 请输入滚动设置，翻页间隔（秒）\")\r\n          return\r\n        } else {\r\n          if (salePriceReg.test(this.addParamMsg.interval)) {\r\n            if(parseInt(this.addParamMsg.interval) < 5) {\r\n              this.$message('[滚动设置]: 翻页间隔（秒）是大于5的整数')\r\n              return\r\n            }\r\n          }else {\r\n            this.$message('[滚动设置]: 翻页间隔（秒）是大于5的整数')\r\n            return\r\n          }\r\n        }\r\n        if (this.addParamMsg.moduleType === 0) {\r\n          // 模块类型 0：商品 1：图片\r\n          for (let [index, item] of this.moduleGoodsReqList.entries()) {\r\n            if (!item.categoryNos || item.categoryNos.length === 0) {\r\n              this.$message(`[页面模板设置]: 请选择第${index+1}块的商品分类`)\r\n              return\r\n            }\r\n          }\r\n\r\n          let moduleGoodsReqList = this.moduleGoodsReqList.map(item => {\r\n            let newItem = {\r\n              categoryNos: item.categoryNos,\r\n              goodsTypes: item.goodsTypes,\r\n              showMemberPrice: item.showMemberPriceB ? 1 : 0\r\n            }\r\n            return newItem\r\n          })\r\n          params.moduleGoodsReqList = moduleGoodsReqList\r\n        } else {\r\n          let imgUrlList = this.imageListArr.filter(item => {\r\n            return item.imgUrl\r\n          })\r\n          if (!imgUrlList || imgUrlList.length === 0) {\r\n            this.$message(`[页面模板设置]: 请上传图片`)\r\n            return\r\n          }\r\n          let imgUrlListParams = imgUrlList.map(item => {\r\n            return item.imgUrl\r\n          })\r\n          params.modulePicReqList = []\r\n          let modulePicReqListParams = {\r\n            imgUrlList: imgUrlListParams\r\n          }\r\n          params.modulePicReqList.push(modulePicReqListParams)\r\n        }\r\n\r\n        let tipTxt = ''\r\n        if (params.enable === 0) {\r\n          tipTxt = \"一个门店或区域有且仅有一个可生效模板，开启后原模板将被禁用，保存时确定要直接启用吗?\"\r\n        } else if (params.enable === 1) {\r\n          tipTxt = \"保存时确定要直接禁用吗?\"\r\n        }\r\n        this.$confirm(tipTxt, '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.isDisabled = true\r\n          this.$http.post(reqUrl.update, {\r\n            ...params\r\n          }).then(res => {\r\n            setTimeout(() => {\r\n              this.isDisabled = false\r\n            }, 500);\r\n            if (res.code === 0) {\r\n              this.$message.success(\"保存成功\")\r\n              this.$router.push('/sc861816')\r\n              return\r\n            }\r\n            throw new Error(res.msg)\r\n          }).catch(e => {\r\n            setTimeout(() => {\r\n              this.isDisabled = false\r\n            }, 500);\r\n            this.$notify.error({\r\n              title: '提示',\r\n              message: e.message\r\n            })\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [doCancelHandel 取消操作]\r\n       * @return {[type]} [description]\r\n       */\r\n      doCancelHandel() {\r\n        this.$confirm('确定取消吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push('/sc861816')\r\n        }).catch(() => {})\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/StoreMgt/ScreenSet/AddPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMsg,\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":\"模板类型\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"placeholder\":\"请选择模板类型\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.templateType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"templateType\", $$v)},expression:\"addParamMsg.templateType\"}},_vm._l((_vm.templateTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"区域\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"placeholder\":\"请选择区域\",\"size\":\"small\",\"filterable\":\"\"},on:{\"change\":_vm.cityChange},model:{value:(_vm.addParamMsg.cityId),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"cityId\", $$v)},expression:\"addParamMsg.cityId\"}},_vm._l((_vm.cityOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),(_vm.addParamMsg.templateType === 2)?_c('el-form-item',{attrs:{\"label\":\"门店\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"placeholder\":\"请选择门店\",\"size\":\"small\",\"filterable\":\"\"},model:{value:(_vm.addParamMsg.storeNo),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"storeNo\", $$v)},expression:\"addParamMsg.storeNo\"}},_vm._l((_vm.storeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('span',[_vm._v(\"请先选择区域再选择门店\")])],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"模板名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"模板名称\"},model:{value:(_vm.addParamMsg.templateName),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"templateName\", $$v)},expression:\"addParamMsg.templateName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"模板名称,限制20个汉字\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"温馨提示\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"温馨提示\"},model:{value:(_vm.addParamMsg.tip),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"tip\", $$v)},expression:\"addParamMsg.tip\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"滚动设置\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"翻页间隔（秒）\"},model:{value:(_vm.addParamMsg.interval),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"interval\", $$v)},expression:\"addParamMsg.interval\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},slot:\"append\"},[_vm._v(\"秒\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"翻页间隔（秒）是大于5的整数\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"页面模板设置\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input-inline\",attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMsg.moduleType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"moduleType\", $$v)},expression:\"addParamMsg.moduleType\"}},_vm._l((_vm.moduleTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-select',{staticClass:\"add-input-inline\",attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMsg.display),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"display\", $$v)},expression:\"addParamMsg.display\"}},_vm._l((_vm.displayOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),(_vm.addParamMsg.moduleType === 0)?_c('div',{staticClass:\"display-0-wrap\"},_vm._l((_vm.moduleGoodsReqList),function(item,index){return _c('div',{key:index,staticClass:\"item-com display-item\"},[_c('div',[_c('div',{staticStyle:{\"line-height\":\"16px\"}},[_vm._v(\"选择商品分类：\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"placeholder\":\"商品分类\"},model:{value:(item.categoryNamesStr),callback:function ($$v) {_vm.$set(item, \"categoryNamesStr\", $$v)},expression:\"item.categoryNamesStr\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.showChooseCatDialog(item, index)}},slot:\"append\"})],1)],1),_vm._v(\" \"),_c('div',[_c('div',{staticStyle:{\"line-height\":\"16px\"}},[_vm._v(\"选择要显示的商品种类：\")]),_vm._v(\" \"),_c('el-select',{staticClass:\"search-input\",attrs:{\"size\":\"small\",\"multiple\":\"\",\"collapse-tags\":\"\",\"placeholder\":\"要显示的商品种类\"},model:{value:(item.goodsTypes),callback:function ($$v) {_vm.$set(item, \"goodsTypes\", $$v)},expression:\"item.goodsTypes\"}},_vm._l((_vm.goodsTypeOptions),function(type){return _c('el-option',{key:type.value,attrs:{\"label\":type.label,\"value\":type.value}})}),1)],1),_vm._v(\" \"),_c('div',[_c('div',{staticStyle:{\"line-height\":\"16px\",\"margin-top\":\"8px\"}},[_vm._v(\"是否显示以下字段：\")]),_vm._v(\" \"),_c('el-checkbox',{model:{value:(item.showMemberPriceB),callback:function ($$v) {_vm.$set(item, \"showMemberPriceB\", $$v)},expression:\"item.showMemberPriceB\"}},[_vm._v(\"显示会员价\")])],1)])}),0):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.moduleType === 1)?_c('div',[_c('span',[_vm._v(\"请上传1920*1080，大小不超过2M的jpg或png图片，最多可添加8张\")])]):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.moduleType === 1)?_c('div',[_c('draggable',{on:{\"update\":_vm.datadragEnd},model:{value:(_vm.imageListArr),callback:function ($$v) {_vm.imageListArr=$$v},expression:\"imageListArr\"}},[_c('transition-group',_vm._l((_vm.imageListArr),function(item,idx){return _c('div',{key:item.imgUrl,staticClass:\"mh-up-w\",on:{\"click\":function($event){return _vm.setItemIdx(idx)}}},[_c('el-upload',{staticClass:\"avatar-uploader-8-mt\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadRegForMore,\"http-request\":_vm.emitUpload}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading && _vm.currentUpFileIdx == idx),expression:\"imageUploadLoading && currentUpFileIdx == idx\"}]},[(item.imgUrl)?_c('img',{staticClass:\"avatar-8-mt\",attrs:{\"src\":item.imgUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-8-mt-icon\"})])]),_vm._v(\" \"),(item.imgUrl && item.imgUrl != '')?_c('div',{staticClass:\"mh-up-h-w-sc\"},[_c('span',{staticClass:\"up-h-i\",on:{\"click\":function($event){return _vm.deleteUpFile(idx)}}},[_c('i',{staticClass:\"el-icon-delete\"})]),_vm._v(\" \"),_c('span',{staticClass:\"up-h-i\"},[_c('i',{staticClass:\"el-icon-rank\"})])]):_vm._e()],1)}),0)],1)],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"启用状态\",\"required\":\"\"}},[_c('el-radio-group',{attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMsg.enable),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"enable\", $$v)},expression:\"addParamMsg.enable\"}},_vm._l((_vm.enableOptions),function(item,idx){return _c('el-radio-button',{key:idx,attrs:{\"label\":item.value}},[_vm._v(_vm._s(item.label)+\"\\n        \")])}),1),_vm._v(\" \"),_c('span',[_vm._v(\"开启后线上将直接启用\")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled},on:{\"click\":_vm.doSaveHandel}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('goods-cat-dialog',{ref:\"chooseGoodsDialog\",attrs:{\"categoryList\":_vm.categoryList},on:{\"confirmChooseCategory\":_vm.confirmChooseCategory}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6936fe7e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/StoreMgt/ScreenSet/AddPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6936fe7e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6936fe7e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/StoreMgt/ScreenSet/AddPage.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <el-dialog \n      title=\"商品分类\" \n      :close-on-click-modal = \"false\"\n      :close-on-press-escape = \"false\"\n      :visible.sync=\"showModel\" \n      width='400px'>\n      <div style=\"max-height: 300px;overflow-y: auto;\">\n        <el-tree\n          ref=\"tree\"\n          :data=\"categoryList\"\n          show-checkbox\n          node-key=\"categoryNo\"\n          :default-checked-keys=\"defaultCheckedKeys\"\n          :props=\"defaultProps\">\n        </el-tree>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showModel = false\" size=\"mini\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"doConfirmHandel\" size=\"mini\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  export default {\n    props: {\n      categoryList: {\n        type: Array,\n        default: function() {return []}\n      }\n    },\n    data() {\n      return {\n        defaultProps: {\n          children: 'childrenList',\n          label: 'categoryName'\n        },\n        showModel: false,\n        currentIdx: 0,\n        defaultCheckedKeys: []\n      }\n    },\n    methods: {\n      setDefaultMsg(_params) {\n        this.showModel = _params.showModel\n        this.currentIdx = _params.currentIdx\n        this.defaultCheckedKeys = _params.defaultCheckedKeys\n        setTimeout(() => {\n          this.$refs.tree.setCheckedKeys([..._params.defaultCheckedKeys])\n        }, 0);\n      },\n      doConfirmHandel () {\n        this.showModel = false\n        // let categoryNames = this.$refs.tree.getCheckedNodes(true).map(item => {\n        //   return item.categoryName\n        // }).join(',')\n        let checkedKeys = this.$refs.tree.getCheckedKeys(true)\n        let categoryNames = checkedKeys.join(',')\n        let _params = {\n          categoryNames: categoryNames,\n          checkedKeys: checkedKeys,\n          currentIdx: this.currentIdx\n        }\n        this.$emit(\"confirmChooseCategory\", _params)\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"商品分类\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"visible\":_vm.showModel,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.showModel=$event}}},[_c('div',{staticStyle:{\"max-height\":\"300px\",\"overflow-y\":\"auto\"}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.categoryList,\"show-checkbox\":\"\",\"node-key\":\"categoryNo\",\"default-checked-keys\":_vm.defaultCheckedKeys,\"props\":_vm.defaultProps}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.showModel = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.doConfirmHandel}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c7f38b8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsCatDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./GoodsCatDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c7f38b8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./GoodsCatDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/StoreMgt/ScreenSet/GoodsCatDialog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}