webpackJsonp([114],{uxoo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Gu7T"),s=a.n(o),r=a("Dd8w"),i=a.n(r),n=a("BO1k"),l=a.n(n),c=a("ssT3"),d=a("rNjK"),h=a("hfie"),p=a("3GJe"),m=a("wn3n"),u=a("8uth"),f=a("32kd"),g=a("enjp"),v=a("oAV5"),y=a("bzuE"),k="/plateform/a/category/getCategoryTree",C="/plateform/a/platformCityGoods/presale/list",b="/plateform/a/platformCityGoods/presale/remove",T="/plateform/a/platformCityGoods/presale/mark/saveMark",w="/plateform/a/platformCityGoods/presale/mark/updateMark",M="/plateform/a/platformCityGoods/presale/store/import",_="/plateform/a/platformCityGoods/presale/checkSFBatchInsert",I="/plateform/a/platformCityGoods/presale/batchInsert",S={data:function(){return{pageSizes:y.a.pageSizes10,isDisabled:!1,loading:!1,pageNum:1,pageSize:10,total:0,searchContent:{DIFFCITY:!0,regionCode:c.a.get("regionCode")||"",cityId:"",queryString:"",platformCityGoodsIds:[],saleType:4,platformId:5,categoryIdList:[],markType:"",categoryId:"",vendorType:""},cateDefaultProps:{children:"categoryVoList",label:"categoryName",value:"categoryId"},markTypeOptions:[{label:"全部",value:""},{label:"角标",value:1},{label:"底标",value:2}],categoryList:[],tableData:[],checkedList:[],storeOptions:[],isShow:!1,dialogFormVisible:!1,setMarkTypeParams:{imgUrl:"",platformCityGoodsIdList:[],bottomMark:"",topMark:""},dialogDelFormVisible:!1,delMarkTypeParams:{platformCityGoodsIdList:[],isDeleteBottomMark:!1,isDeleteTopMark:!1,isBottomMark:0,isTopMark:0},exportLoading:!1,useType:3,tempConfig:{goodsNo:"SKU编码（必填）",platformCityGoodsName:"商品名称（必填，限制30个汉字）",presalePrice:"区域售价（必填，保留小数点后2位）",bigImageUrl:"商品大图url（选填）"},hasErrorMsgData:[],showTipErrorMsg:!1,isShowTip:!0,vendorTypeOptions:[{label:"全部",value:""},{label:"是",value:1},{label:"否",value:2}]}},created:function(){this.getCategoryId()},mounted:function(){var e=c.a.get("searchTimelyGoodsContent");this.$route.meta.keepAlive&&e&&(this.searchContent=e.searchContent,this.pageNum=e.pageNum,c.a.remove("searchTimelyGoodsContent")),this.doSearchHandel(),this.goodsSelectInit()},components:{"choose-store":d.a,"batch-update-price":h.a,"goods-select":p.a,"batch-add-goods":m.a,"region-city-store":f.a,"excel-add":g.a},methods:{StoreGroupChange:function(e){this.searchContent.regionCode=e.regionCode,this.searchContent.cityId=e.cityId,this.doSearchHandel(!0)},goAddGoodsPage:function(){this.$router.push("/timely_goods/add_goods")},getCategoryId:function(){var e=this;this.$http.post(k,{DIFFCITY:!0}).then(function(t){if(0!==t.code)throw new Error(t.msg);if(t.data&&t.data.length){var a=!0,o=!1,s=void 0;try{for(var r,i=l()(t.data);!(a=(r=i.next()).done);a=!0){var n=r.value;n.categoryVoList&&0===n.categoryVoList.length&&(n.categoryVoList=null)}}catch(e){o=!0,s=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw s}}e.categoryList=t.data}else e.categoryList=[]}).catch(function(e){console.log("提示(三方平台店内分类):",e.message)})},doCategorysChangeHandel:function(){this.goodsSelectInit(),this.doSearchHandel(!0)},goodsSelectInit:function(){if(this.$refs.GoodsSelect){var e={queryString:this.searchContent.queryString,categoryIdList:this.searchContent.categoryIdList,saleType:this.searchContent.saleType,platformId:this.searchContent.platformId,platformCityGoodsIds:this.searchContent.platformCityGoodsIds};this.$refs.GoodsSelect.setDefaultMesg(e)}},changeSize:function(e){this.pageSize=e,this.doSearchHandel()},changeCurrent:function(e){this.pageNum=e,this.doSearchHandel()},doSearchHandel:function(e){var t=this;this.checkedList=[];var a=this.searchContent.categoryIdList.length-1;this.searchContent.categoryId=this.searchContent.categoryIdList[a],this.loading=!0,!0===e&&(this.pageNum=1),this.$http.post(C,i()({},this.searchContent,{pageNum:this.pageNum,pageSize:this.pageSize})).then(function(e){if(t.loading=!1,0===e.code)return t.tableData=e.data&&e.data.result&&e.data.result.length?e.data.result:[],void(t.total=e.data.total);throw new Error(e.msg)}).catch(function(e){t.loading=!1,t.$notify.error({title:"提示",message:e.message})})},editItem:function(e){var t={searchContent:this.searchContent,pageNum:this.pageNum};c.a.set("searchTimelyGoodsContent",t),this.$router.push("/timely_goods/edit_goods/"+e.platformCityGoodsId)},deleteItem:function(e){var t=this,a=[];a.push(e.platformCityGoodsId),this.$confirm("您确定要删除所选商品吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http.post(b,{platformCityGoodsIds:a,DIFFCITY:!0}).then(function(e){if(0===e.code)return t.$message.success("删除成功"),void t.doSearchHandel();throw new Error(e.msg)}).catch(function(e){t.$notify.error({title:"提示",message:e.message})})}).catch(function(){})},batchRemove:function(){var e=this,t=[],a=!0,o=!1,s=void 0;try{for(var r,i=l()(this.checkedList);!(a=(r=i.next()).done);a=!0){var n=r.value;t.push(n.platformCityGoodsId)}}catch(e){o=!0,s=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw s}}this.$confirm("您确定要删除所选商品吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$http.post(b,{platformCityGoodsIds:t,DIFFCITY:!0}).then(function(t){if(0===t.code)return e.$message.success("删除成功"),void e.doSearchHandel();throw new Error(t.msg)}).catch(function(t){e.$notify.error({title:"提示",message:t.message})})}).catch(function(){})},setMarkType:function(){this.setMarkTypeParams={imgUrl:this.checkedList[0].imgUrl,platformCityGoodsIdList:[],bottomMark:"",topMark:""},this.dialogFormVisible=!0},deleteMarkType:function(){this.delMarkTypeParams={platformCityGoodsIdList:[],isDeleteBottomMark:!1,isDeleteTopMark:!1,isBottomMark:0,isTopMark:0},this.dialogDelFormVisible=!0},presaleStatusFormatter:function(e,t,a,o){return 0===a?"已失效":1===a?"未开始":2===a?"进行中":3===a?"售罄":void 0},handleSelect:function(e,t){var a={},o=[];if(v.m(t.platformCityGoodsId,"platformCityGoodsId",this.checkedList))this.checkedList=v.q("platformCityGoodsId",t.platformCityGoodsId,this.checkedList);else{o.push(t);var r=[].concat(o,s()(this.checkedList));this.checkedList=r.reduceRight(function(e,t){return!a[t.platformCityGoodsId]&&(a[t.platformCityGoodsId]=e.push(t)),e},[])}},handleSelectAll:function(e){var t={};if(e.length>0){var a=!0,o=!1,s=void 0;try{for(var r,i=l()(e);!(a=(r=i.next()).done);a=!0){var n=r.value;this.checkedList.push(n)}}catch(e){o=!0,s=e}finally{try{!a&&i.return&&i.return()}finally{if(o)throw s}}this.checkedList=this.checkedList.reduceRight(function(e,a){return!t[a.platformCityGoodsId]&&(t[a.platformCityGoodsId]=e.push(a)),e},[])}else{var c=[],d=!0,h=!1,p=void 0;try{for(var m,u=l()(this.tableData);!(d=(m=u.next()).done);d=!0){var f=m.value;c.push(f)}}catch(e){h=!0,p=e}finally{try{!d&&u.return&&u.return()}finally{if(h)throw p}}var g=v.i(this.checkedList,c,"platformCityGoodsId");this.checkedList=g&&g.length>0?g:[]}},importStore:function(){if(0!==this.checkedList.length){var e={title:"批量发布至门店及时达",platformId:this.searchContent.platformId,regionCode:this.searchContent.regionCode};this.$refs.chooseStore.setDefault(e)}else this.$message("请选择商品")},showStoreState:function(e){var t=e.platformCityGoodsId;this.$router.push("/store_timely?platformCityGoodsId="+t)},doSetMarkTypeConfirmHandel:function(){var e=this;if(this.setMarkTypeParams.topMark&&this.setMarkTypeParams.topMark.length>6)this.$message("角标限制6个字");else if(this.setMarkTypeParams.bottomMark&&this.setMarkTypeParams.bottomMark.length>10)this.$message("底标限制10个字");else{var t=[],a=!0,o=!1,s=void 0;try{for(var r,n=l()(this.checkedList);!(a=(r=n.next()).done);a=!0){var c=r.value;t.push(c.platformCityGoodsId)}}catch(e){o=!0,s=e}finally{try{!a&&n.return&&n.return()}finally{if(o)throw s}}this.setMarkTypeParams.platformCityGoodsIdList=t,this.isDisabled=!0,this.$http.post(T,i()({},this.setMarkTypeParams,{DIFFCITY:!0})).then(function(t){if(setTimeout(function(){e.isDisabled=!1},800),0===t.code)return e.$message.success("设置标签成功"),e.dialogFormVisible=!1,void e.doSearchHandel();throw new Error(t.msg)}).catch(function(t){e.isDisabled=!1,e.$notify.error({title:"提示",message:t.message})})}},doDelMarkTypeConfirmHandel:function(){var e=this,t=[],a=!0,o=!1,s=void 0;try{for(var r,n=l()(this.checkedList);!(a=(r=n.next()).done);a=!0){var c=r.value;t.push(c.platformCityGoodsId)}}catch(e){o=!0,s=e}finally{try{!a&&n.return&&n.return()}finally{if(o)throw s}}this.delMarkTypeParams.platformCityGoodsIdList=t,!1===this.delMarkTypeParams.isDeleteBottomMark?this.delMarkTypeParams.isBottomMark=0:!0===this.delMarkTypeParams.isDeleteBottomMark&&(this.delMarkTypeParams.isBottomMark=1),!1===this.delMarkTypeParams.isDeleteTopMark?this.delMarkTypeParams.isTopMark=0:!0===this.delMarkTypeParams.isDeleteTopMark&&(this.delMarkTypeParams.isTopMark=1),this.isDisabled=!0,this.$http.post(w,i()({},this.delMarkTypeParams,{DIFFCITY:!0})).then(function(t){if(setTimeout(function(){e.isDisabled=!1},800),0===t.code)return e.$message.success("删除标签成功"),e.dialogDelFormVisible=!1,void e.doSearchHandel();throw new Error(t.msg)}).catch(function(t){e.isDisabled=!1,e.$notify.error({title:"提示",message:t.message})})},DoSelectGoodsHandel:function(e){var t=e.checkedList,a=e.queryString,o=[],s=!0,r=!1,i=void 0;try{for(var n,c=l()(t);!(s=(n=c.next()).done);s=!0){var d=n.value;o.push(d.platformCityGoodsId)}}catch(e){r=!0,i=e}finally{try{!s&&c.return&&c.return()}finally{if(r)throw i}}this.searchContent.platformCityGoodsIds=o,this.searchContent.queryString=a,this.doSearchHandel(!0)},batchAddGoods:function(){var e={title:"批量添加",saleType:this.searchContent.saleType,platformId:this.searchContent.platformId,regionCode:this.searchContent.regionCode,DIFFCITY:this.searchContent.DIFFCITY};this.$refs.batchAddGoods.setDefaultMesg(e)},exportData:function(){var e=this,t=v.u(Date.parse(new Date))+"_区域商品",a={platformCityGoodsId:"区域商品id",goodsNo:"SKU编码",skuNo:"ERP编码",goodsName:"区域商品名称",goodsId:"商品id",spec:"规格",categoryName:"分类",price:"区域售价",bigImageUrl:"商品大图URl"};this.exportLoading=!0;var o=this.searchContent.categoryIdList.length-1;this.searchContent.categoryId=this.searchContent.categoryIdList[o],this.$http.post(C,i()({},this.searchContent)).then(function(o){if(e.exportLoading=!1,0!==o.code)throw new Error(o.msg);if(o.data&&o.data.result&&o.data.result.length){o.data.result.forEach(function(e){e.platformCityGoodsName=e.goodsName,e.presalePrice=e.price,e.preSaleImageUrl=e.bigImageUrl});var s=o.data.result,r=v.o(a,!1),i=v.o(a,!0);u.a.ExportJsonToExcel({header:r,filterVal:i,data:s,filename:t}),e.$notify.success({title:"温馨提示",message:t+"导出成功"})}else e.$notify.warning({title:"温馨提示",message:"没有查询到要导出的数据"})}).catch(function(t){e.exportLoading=!1,e.$notify.error({title:"提示(导出数据)：",message:t.message})})},confirmHandel:function(e){var t=this,a=e.checkedList.map(function(e){return e.storeNo}),o={platformCityGoodsIdList:this.checkedList.map(function(e){return e.platformCityGoodsId}),platformId:this.searchContent.platformId,regionCode:this.searchContent.regionCode,storeNoList:a,DIFFCITY:!0};this.$http.post(M,i()({},o)).then(function(e){if(0===e.code)return t.$refs.chooseStore.closeDialog(),t.$refs.chooseStore.closeDisabled(),t.$message.success("引入门店成功"),void t.doSearchHandel();throw new Error(e.msg)}).catch(function(e){t.$refs.chooseStore.closeDisabled(),t.$notify.error({title:"提示",message:e.message})})},batchAddSFGoods:function(){if(this.$refs.excelAdd){var e={title:"Excel 批量导入",tempConfig:this.tempConfig};this.$refs.excelAdd.setDefaultMsg(e)}},doConfirmHandel:function(e){var t=this,a=e.dataList||[];a.forEach(function(e){e.vendorType=2});var o={platformId:5,regionCode:this.searchContent.regionCode,saleType:4,goodsExcelReqs:a,DIFFCITY:this.searchContent.DIFFCITY};this.$http.post(_,o).then(function(e){if(t.$refs.excelAdd.closeDisabled(),t.$refs.excelAdd.closeDialog(),0===e.code)return t.hasErrorMsgData=e.data&&e.data.cityGoodsVos&&e.data.cityGoodsVos.length?e.data.cityGoodsVos:[],void(t.hasErrorMsgData.some(function(e){return 1===e.msgType})?t.showTipErrorMsg=!0:t.$http.post(I,o).then(function(e){if(t.$refs.excelAdd.closeDisabled(),t.$refs.excelAdd.closeDialog(),0===e.code)return t.$message.success("批量添加成功"),t.isShow=!1,void t.doSearchHandel();throw new Error(e.msg)}).catch(function(e){t.$refs.excelAdd.closeDisabled(),t.$refs.excelAdd.closeDialog(),t.$notify.error({title:"提示",message:e.message})}));throw new Error(e.msg)}).catch(function(e){t.$refs.excelAdd.closeDisabled(),t.$refs.excelAdd.closeDialog(),t.$notify.error({title:"提示",message:e.message})})},downLoadErrorMsg:function(){var e=this,t=i()({},this.tempConfig);t.msgTypeStr="验证结果",t.msg="失败原因",this.hasErrorMsgData.forEach(function(e){e.msgTypeStr=1===e.msgType?"验证失败":"验证成功"});var a=v.o(t,!1),o=v.o(t,!0);u.a.ExportJsonToExcel({header:a,filterVal:o,data:this.hasErrorMsgData,filename:"Excel批量导入模板"}),setTimeout(function(){e.$notify.success({title:"温馨提示",message:"Excel批量导入模板下载成功"}),e.isDisabled=!1},500)},isShowTipHandel:function(){this.isShowTip=!1}},beforeRouteLeave:function(e,t,a){t.meta.keepAlive=!1,a()}},D={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowTip,expression:"isShowTip"}],staticClass:"error-t-w"},[a("i",{staticClass:"el-icon-warning"}),e._v("注意：顺丰标品，请使用添加顺丰标品入口添加，系统会校验顺丰标品资料是否维护正确，确保系统能够要货成功\n    "),a("span",{staticClass:"c-btn-w"},[a("i",{staticClass:"el-icon-close",on:{click:e.isShowTipHandel}})])]),e._v(" "),a("div",{staticClass:"handel-search-wraper"},[a("div",{staticClass:"handel-wraper"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.goAddGoodsPage}},[e._v("添加商品")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:e.batchAddGoods}},[e._v("批量添加")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:e.batchAddSFGoods}},[e._v("添加顺丰标品")])],1),e._v(" "),a("hr",{staticClass:"s-slip"}),e._v(" "),a("div",{staticClass:"search-form-wraper"},[a("el-form",{attrs:{model:e.searchContent,"label-position":"top"}},[a("region-city-store",{attrs:{showGroup:!1,showStore:!1,defaultCityId:e.searchContent.cityId},on:{StoreGroupChange:e.StoreGroupChange}}),e._v(" "),a("el-form-item",{attrs:{label:"商品分类"}},[a("el-cascader",{staticClass:"search-input",attrs:{placeholder:"请选择分类",options:e.categoryList,"change-on-select":"",size:"small",clearable:"",filterable:"",props:e.cateDefaultProps},on:{change:e.doCategorysChangeHandel},model:{value:e.searchContent.categoryIdList,callback:function(t){e.$set(e.searchContent,"categoryIdList",t)},expression:"searchContent.categoryIdList"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"SKU编码/商品名称"}},[a("goods-select",{ref:"GoodsSelect",on:{DoSelectGoodsHandel:e.DoSelectGoodsHandel}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签"}},[a("el-select",{staticClass:"search-input",attrs:{filterable:"",placeholder:"请选择标签",clearable:"",size:"small"},on:{change:function(t){return e.doSearchHandel(!0)}},model:{value:e.searchContent.markType,callback:function(t){e.$set(e.searchContent,"markType",t)},expression:"searchContent.markType"}},e._l(e.markTypeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否为供应商专供"}},[a("el-select",{staticClass:"search-input",attrs:{filterable:"",placeholder:"是否为供应商专供",clearable:"",size:"small"},on:{change:function(t){return e.doSearchHandel(!0)}},model:{value:e.searchContent.vendorType,callback:function(t){e.$set(e.searchContent,"vendorType",t)},expression:"searchContent.vendorType"}},e._l(e.vendorTypeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.doSearchHandel(!0)}}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-download",loading:e.exportLoading,size:"mini"},on:{click:e.exportData}},[e._v("导出")])],1)],1)],1)]),e._v(" "),a("div",{staticClass:"table-wraper"},[a("div",{staticClass:"batch-handel-w"},[a("el-button",{staticClass:"sup-mini",attrs:{size:"mini",icon:"el-icon-edit",disabled:0===e.checkedList.length},on:{click:e.setMarkType}},[e._v("设置标签")]),e._v(" "),a("el-button",{staticClass:"sup-mini",attrs:{size:"mini",icon:"el-icon-delete",disabled:0===e.checkedList.length},on:{click:e.deleteMarkType}},[e._v("删除标签")]),e._v(" "),a("el-button",{staticClass:"sup-mini",attrs:{size:"mini",icon:"el-icon-edit",disabled:0===e.checkedList.length},on:{click:e.importStore}},[e._v("发布及时达")]),e._v(" "),a("el-button",{staticClass:"sup-mini",attrs:{size:"mini",icon:"el-icon-delete",disabled:0===e.checkedList.length},on:{click:e.batchRemove}},[e._v("批量删除")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"fixed-height",staticStyle:{width:"100%"},attrs:{data:e.tableData,"empty-text":"没有查询到您想要的数据",size:"small"},on:{select:e.handleSelect,"select-all":e.handleSelectAll}},[a("el-table-column",{attrs:{type:"selection",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"250px",label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"p-m-w"},[a("div",{staticClass:"img-w g-m-r"},[a("p",{directives:[{name:"show",rawName:"v-show",value:t.row.topMark,expression:"scope.row.topMark"}],staticClass:"t-m-w"},[e._v(e._s(t.row.topMark))]),e._v(" "),t.row.imgUrl&&""!=t.row.imgUrl?a("img",{attrs:{src:t.row.imgUrl,alt:"",onerror:"onerror=null;src='/shop/static/img_error.png'"}}):a("img",{attrs:{src:"/shop/static/img_error.png",alt:""}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:t.row.bottomMark,expression:"scope.row.bottomMark"}],staticClass:"b-m-w"},[e._v(e._s(t.row.bottomMark))])]),e._v(" "),a("div",{staticClass:"p-m-c-r"},[a("div",[e._v(e._s(t.row.goodsName||"--"))]),e._v(" "),a("div",{staticClass:"erp-p-no"},[e._v("SKU编码："+e._s(t.row.goodsNo||"--"))]),e._v(" "),a("div",{staticClass:"erp-p-no"},[e._v("商品ID："+e._s(t.row.platformCityGoodsId||"--"))]),e._v(" "),t.row.sfGoodsDesc?a("div",[a("el-tag",{attrs:{size:"mini"}},[e._v("顺丰标品")]),e._v(" "),t.row.sfGoodsValidStatus?e._e():a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.sfGoodsDesc,placement:"top-start"}},[a("span",{staticStyle:{color:"red"}},[e._v("校验异常")])])],1):e._e(),e._v(" "),1===t.row.vendorType?a("div",[a("el-tag",{attrs:{size:"mini",type:"warning",effect:"dark"}},[e._v("\n                  供应商专供\n                ")])],1):e._e()])])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120px",prop:"spec",label:"规格"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120px",prop:"regionName",label:"区域"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120px",prop:"categoryName",label:"分类"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120px",prop:"price",label:"区域售价"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-edit"},on:{click:function(a){return e.editItem(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(a){return e.deleteItem(t.row)}}},[e._v("删除")])],1),e._v(" "),a("div",[a("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-view"},on:{click:function(a){return e.showStoreState(t.row)}}},[e._v("查看门店状态")])],1)]}}])})],1),e._v(" "),e.total>0?a("el-pagination",{staticClass:"tc mt20",attrs:{background:"","current-page":e.pageNum,"page-sizes":e.pageSizes,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.changeSize,"current-change":e.changeCurrent,"update:currentPage":function(t){e.pageNum=t},"update:current-page":function(t){e.pageNum=t}}}):e._e()],1),e._v(" "),a("choose-store",{ref:"chooseStore",on:{confirmHandel:e.confirmHandel}}),e._v(" "),a("el-dialog",{attrs:{title:"批量设置标签",visible:e.dialogFormVisible,width:"460px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.setMarkTypeParams,"label-width":"60px"}},[a("el-form-item",{attrs:{label:"角标"}},[a("el-input",{staticClass:"search-input",attrs:{size:"small",placeholder:"请输入角标"},model:{value:e.setMarkTypeParams.topMark,callback:function(t){e.$set(e.setMarkTypeParams,"topMark",t)},expression:"setMarkTypeParams.topMark"}}),e._v(" "),a("span",[e._v("限制6个字")])],1),e._v(" "),a("el-form-item",{attrs:{label:"底标"}},[a("el-input",{staticClass:"search-input",attrs:{size:"small",placeholder:"请输入底标"},model:{value:e.setMarkTypeParams.bottomMark,callback:function(t){e.$set(e.setMarkTypeParams,"bottomMark",t)},expression:"setMarkTypeParams.bottomMark"}}),e._v(" "),a("span",[e._v("限制10个字")])],1),e._v(" "),a("el-form-item",{attrs:{label:"预览"}},[a("div",{staticClass:"mt-show-w"},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.setMarkTypeParams.topMark,expression:"setMarkTypeParams.topMark"}],staticClass:"t-m-w"},[e._v(e._s(e.setMarkTypeParams.topMark))]),e._v(" "),e.setMarkTypeParams.imgUrl&&""!=e.setMarkTypeParams.imgUrl?a("img",{attrs:{src:e.setMarkTypeParams.imgUrl,alt:"",onerror:"onerror=null;src='/shop/static/img_error.png'"}}):a("img",{attrs:{src:"/shop/static/img_error.png",alt:""}}),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.setMarkTypeParams.bottomMark,expression:"setMarkTypeParams.bottomMark"}],staticClass:"b-m-w"},[e._v(e._s(e.setMarkTypeParams.bottomMark))])])])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:e.doSetMarkTypeConfirmHandel}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"批量删除标签",visible:e.dialogDelFormVisible,width:"460px"},on:{"update:visible":function(t){e.dialogDelFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.delMarkTypeParams,"label-width":"60px"}},[a("el-checkbox",{model:{value:e.delMarkTypeParams.isDeleteTopMark,callback:function(t){e.$set(e.delMarkTypeParams,"isDeleteTopMark",t)},expression:"delMarkTypeParams.isDeleteTopMark"}},[e._v("删除角标")]),e._v(" "),a("el-checkbox",{model:{value:e.delMarkTypeParams.isDeleteBottomMark,callback:function(t){e.$set(e.delMarkTypeParams,"isDeleteBottomMark",t)},expression:"delMarkTypeParams.isDeleteBottomMark"}},[e._v("删除底标")])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.dialogDelFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDisabled},on:{click:e.doDelMarkTypeConfirmHandel}},[e._v("确 定")])],1)],1),e._v(" "),a("batch-update-price",{ref:"batchUpdatePrice",on:{doSearchHandel:e.doSearchHandel}}),e._v(" "),a("batch-add-goods",{ref:"batchAddGoods",on:{doSearchHandel:e.doSearchHandel}}),e._v(" "),a("excel-add",{ref:"excelAdd",on:{doConfirmHandel:e.doConfirmHandel}}),e._v(" "),a("el-dialog",{attrs:{title:"批量导入失败",visible:e.showTipErrorMsg,"close-on-click-modal":!1,"close-on-press-escape":!1,width:"450px"},on:{"update:visible":function(t){e.showTipErrorMsg=t}}},[a("div",[e._v("\n      部分商品不符合要求，请按要求修改后再重新导入。"),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.downLoadErrorMsg}},[e._v("下载查看失败原因")])],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.showTipErrorMsg=!1}}},[e._v("关 闭")])],1)])],1)},staticRenderFns:[]};var x=a("VU/8")(S,D,!1,function(e){a("wzB/")},null,null);t.default=x.exports},"wzB/":function(e,t){}});
//# sourceMappingURL=114.9b1ac28290e600ebf514.js.map