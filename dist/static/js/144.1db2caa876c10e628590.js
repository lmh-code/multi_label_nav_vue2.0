webpackJsonp([144],{"7EEy":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("oAV5"),s="/plateform/a/preSale/activity/detail",i={data:function(){return{isDisabled:!1,activityId:"",addParamMsg:{platformId:5,DIFFCITY:!0,regionCode:"",activityType:41,activityTypeName:"新人专享",activityName:"",startDatetime:"",endDatetime:"",shortCycleType:1,cutoffTime:"22:00",cutoffTypeName:"",shortPickUpType:0,goodsReqList:[],storeNoList:[]},activityStoresCheckedList:[],checkedList:[]}},created:function(){this.activityId=this.$route.params.activityId,this.getDetail()},methods:{getDetail:function(){var t=this;r.r(),this.$http.post(s,{activityId:this.activityId,DIFFCITY:!0}).then(function(e){if(r.c(),0!==e.code)throw new Error(e.msg);e.data&&(t.addParamMsg.regionCode=e.data.regionCode,t.addParamMsg.regionName=e.data.regionName,t.addParamMsg.activityName=e.data.activityName,e.data.activityType&&(t.addParamMsg.activityType=e.data.activityType||41),e.data.presaleType&&(t.addParamMsg.presaleType=e.data.presaleType),e.data.cycleType&&(t.addParamMsg.cycleType=e.data.cycleType),t.addParamMsg.startDatetime=e.data.activityStartDate?e.data.activityStartDate:"",t.addParamMsg.endDatetime=e.data.activityEndDate?e.data.activityEndDate:"",t.addParamMsg.shortCycleType=e.data.cutoffDays?parseInt(e.data.cutoffDays):1,t.addParamMsg.shortPickUpType=0,t.addParamMsg.cutoffTime=e.data.cutoffTime,t.addParamMsg.cutoffTypeName=e.data.cutoffTypeName||"",t.activityStoresCheckedList=e.data.storeNoList&&e.data.storeNoList.length?e.data.storeNoList:[],t.checkedList=e.data.goodsVoList&&e.data.goodsVoList.length>0?e.data.goodsVoList:[])}).catch(function(e){r.c(),t.$notify.error({title:"提示",message:e.message})})},limitGroupTypeFormater:function(t,e,a){return 0===a?"全部":1===a?"新会员":2===a?"老会员":void 0},onCopySuc:function(){this.$message.success("链接已复制至剪切板，仅限微信公众号中使用")},sfInStockHeader:function(){var t=this.$createElement;return t("el-popover",{attrs:{placement:"top-start",width:"260",trigger:"hover"}},[t("div",[t("p",["1、顺丰标品设为顺丰仓现货时，下单会校验仓库库存；"]),t("p",["2、本来鲜生鲜品无需设置；"])]),t("span",{slot:"reference"},["是否为顺丰仓现货",t("i",{class:"el-icon-question"})])])},onCopyError:function(){this.$message.error("复制链接失败,请手动复制")},doCancelHandel:function(){this.$router.push("/store_act")},sortNumHeader:function(){var t=this.$createElement;return t("el-popover",{attrs:{placement:"top-start",trigger:"hover",content:"0-299 越大越靠前"}},[t("span",{slot:"reference"},["排序权重",t("i",{class:"el-icon-question"})])])}},beforeRouteLeave:function(t,e,a){t.meta.keepAlive=!0,a()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"add-form-wraper"},[a("el-form",{ref:"form",attrs:{model:t.addParamMsg,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"活动类型"}},[a("p",{staticStyle:{color:"#222","font-size":"16px","font-weight":"bold"}},[t._v(t._s(t.addParamMsg.activityTypeName))])]),t._v(" "),a("el-form-item",{attrs:{label:"选择区域"}},[a("p",[t._v(t._s(t.addParamMsg.regionName))])]),t._v(" "),a("el-form-item",{attrs:{label:"活动名称"}},[a("p",[t._v(t._s(t.addParamMsg.activityName))])]),t._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[t._v("\n        "+t._s(t.addParamMsg.startDatetime)+"\n      ")]),t._v(" "),a("el-form-item",{attrs:{label:"结束时间"}},[t._v("\n        "+t._s(t.addParamMsg.endDatetime)+"\n      ")]),t._v(" "),a("el-form-item",{attrs:{label:"截单时间"}},[a("div",[a("span",[t._v(t._s(t.addParamMsg.cutoffTypeName))]),t._v("\n              \n          "),a("span",[t._v(t._s(t.addParamMsg.cutoffTime))])])]),t._v(" "),a("el-form-item",{attrs:{label:"提货日期"}},[a("div",[t._v("截单后第2天")])]),t._v(" "),a("el-form-item",{attrs:{label:"参与门店"}},[t.activityStoresCheckedList.length>0?a("div",{staticClass:"store-check-wraper"},[a("el-table",{staticClass:"fixed-height",attrs:{data:t.activityStoresCheckedList,"empty-text":"暂无选中任何门店","max-height":"300",size:"small"}},[a("el-table-column",{attrs:{"min-width":"220px",label:"门店编码/名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n                  "+t._s(e.row.erpStoreNo)+"_"+t._s(e.row.erpStoreName)+"\n                ")])]}}],null,!1,3945522565)}),t._v(" "),a("el-table-column",{attrs:{"min-width":"80",prop:"cityName",label:"城市"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":"80",prop:"saleTypeName",label:"门店类型"}})],1)],1):t._e()]),t._v(" "),a("el-form-item",{attrs:{label:"参与商品"}},[t.checkedList.length>0?a("div",[a("el-table",{staticClass:"fixed-height choose-goods-wrap",staticStyle:{width:"100%"},attrs:{data:t.checkedList,"empty-text":"暂无选中任何商品","max-height":"560",size:"small"}},[a("el-table-column",{attrs:{"min-width":"220px",label:"商品信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"ll-p-m-w"},[a("div",{staticClass:"ll-img-w"},[e.row.imgUrl&&""!=e.row.imgUrl?a("img",{attrs:{src:e.row.imgUrl,alt:"",onerror:"onerror=null;src='/shop/static/img_error.png'"}}):a("img",{attrs:{src:"/shop/static/img_error.png",alt:""}})]),t._v(" "),a("div",{staticClass:"ll-p-m-c-r"},[a("div",[t._v("\n                      "+t._s(e.row.goodsName||"-")+"\n                    ")]),t._v(" "),a("div",{staticClass:"ll-erp-p-no"},[t._v("SKU编码："+t._s(e.row.goodsNo||"--"))]),t._v(" "),a("div",{staticClass:"ll-erp-p-no"},[t._v("商品ID："+t._s(e.row.platformCityGoodsId||"--"))]),t._v(" "),a("div",{staticClass:"ll-erp-p-no"},[t._v("商品编码："+t._s(e.row.goodsId||"--"))])])])]}}],null,!1,71480822)}),t._v(" "),a("el-table-column",{attrs:{"min-width":"100px",prop:"spec",label:"规格"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":"100px",label:"原价(必填)",prop:"price"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":"110px",label:"活动价(必填)",prop:"preSalePrice"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":"90px",label:"活动库存(选填)",prop:"stock"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":"90px",label:"每人限购",prop:"limitCount"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":"90px","render-header":t.sortNumHeader,prop:"sortNum"}}),t._v(" "),a("el-table-column",{attrs:{"min-width":"190px","render-header":t.sfInStockHeader},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v("\n                  "+t._s(e.row.sfInStock?"是":"否")+"\n                ")])]}}],null,!1,983918543)})],1),t._v(" "),a("p",[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；\n          ")]),t._v(" "),a("p",[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("活动进行中时新上门店，请在活动商品中发布至门店；\n          ")])],1):t._e()]),t._v(" "),a("hr",{staticClass:"s-slip-tb"}),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small"},on:{click:t.doCancelHandel}},[t._v("返回")])],1)],1)],1)])},staticRenderFns:[]};var l=a("VU/8")(i,o,!1,function(t){a("zlu2")},null,null);e.default=l.exports},zlu2:function(t,e){}});
//# sourceMappingURL=144.1db2caa876c10e628590.js.map