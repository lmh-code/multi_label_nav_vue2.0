webpackJsonp([25],{LPWg:function(e,s){},NOlb:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r=t("Dd8w"),a=t.n(r),i=t("BO1k"),o=t.n(i),d=t("RCQo"),n=t("Msnf"),l=t("segh"),v=(t("8e4C"),{mixins:[n.a,d.a],data:function(){return{isDisabled:!1}},methods:{doCancelHandel:function(){this.closePage("/order_mgt")},doEditHandel:function(){var e=this,s=this.paperNo,t=this.orderSumTableData.filter(function(e){return e.vendorPrice||"0"===e.vendorPrice||e.vendorQty||"0"===e.vendorQty||e.vendorRemark});if(0!==t.length){var r=!0,i=!1,d=void 0;try{for(var n,v=o()(t);!(r=(n=v.next()).done);r=!0){var c=n.value;if(c.vendorRemark&&c.vendorRemark.length>50)return void this.$tip.message("备注：最多允许填写50个字!","warning")}}catch(e){i=!0,d=e}finally{try{!r&&v.return&&v.return()}finally{if(i)throw d}}var u={paperNo:s,orderRefuseDetailReqs:t.map(function(e){return{id:e.id,erpGoodsNo:e.erpGoodsNo,vendorPrice:e.vendorPrice,vendorQty:e.vendorQty,vendorRemark:e.vendorRemark}})};this.isDisabled=!0,this.$http.post(l.a.refuseOrder,a()({},u)).then(function(t){if(e.isDisabled=!1,0===t.code)return e.$tip.message("拒绝接单成功!","success"),e.editSuccessHandel("/order_mgt"),void e.closePage("/order_mgt/detail/001/"+s+"/"+e.storeNo);throw new Error(t.msg)}).catch(function(s){e.isDisabled=!1,e.$tip.notify(s.message||"","error","系统提示")})}else this.$tip.message("请填写拒绝接单原因!","warning")}}}),c={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[t("div",{staticClass:"search-form-wraper pr"},[t("div",{staticClass:"tow-row"},[t("div",{staticClass:"left"},[t("div",{staticClass:"row-item"},[t("div",{staticClass:"f1"},[e._v("门店/仓库："+e._s(e.orderMsg.storeName||"--"))]),e._v(" "),t("div",{staticClass:"f1"},[e._v("订单编号："+e._s(e.orderMsg.paperNo))])]),e._v(" "),t("div",{staticClass:"row-item"},[t("div",{staticClass:"f1"},[e._v("联系人: "+e._s(e.orderMsg.createUserName||"--"))]),e._v(" "),t("div",{staticClass:"f1"},[e._v("联系电话: "+e._s(e.orderMsg.userPhone||"--"))])]),e._v(" "),t("div",{staticClass:"row-item"},[t("div",{staticClass:"f1"},[e._v("单据时间: "+e._s(e.orderMsg.createTime||"--"))]),e._v(" "),t("div",{staticClass:"f1"},[e._v("期望送达时间: "+e._s(e.orderMsg.expectDate||"--"))])])]),e._v(" "),t("div",{staticClass:"right"},[t("bar-code",{attrs:{barCodeMsg:e.paperNo}})],1),e._v(" "),t("div",{staticClass:"status-tag"},[e._v(e._s(e.orderMsg.tagName))])]),e._v(" "),t("div",{staticClass:"tow-row"},[e._v("备注："+e._s(e.orderMsg.remark))])]),e._v(" "),t("div",{staticClass:"table-wraper"},[t("bl-table",{attrs:{loading:e.loading,border:!1,selection:!1,dataSource:e.orderSumTableData,columns:e.orderSumTableColumn}}),e._v(" "),t("div",[t("hr",{staticClass:"s-slip-tb"}),e._v(" "),t("el-button",{attrs:{type:"primary",size:"small",disabled:e.isDisabled,loading:e.isDisabled},on:{click:e.doEditHandel}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{size:"small"},on:{click:e.doCancelHandel}},[e._v("关闭")])],1)],1)])},staticRenderFns:[]};var u=t("VU/8")(v,c,!1,function(e){t("LPWg")},"data-v-3c42140a",null);s.default=u.exports}});
//# sourceMappingURL=25.ee331a374ea1d6304ecf.1615898974438.js.map