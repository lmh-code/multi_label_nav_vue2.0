{"version":3,"sources":["webpack:///src/components/Activity/StoreAct/NewUser/AddNewUser.vue","webpack:///./src/components/Activity/StoreAct/NewUser/AddNewUser.vue?2bba","webpack:///./src/components/Activity/StoreAct/NewUser/AddNewUser.vue"],"names":["numReg","salePriceReg","requestUrl","AddNewUser","data","isDisabled","addParamMsg","platformId","DIFFCITY","regionCode","localStorage","get","activityType","presaleType","cycleType","activityTypeName","activityName","startDatetime","endDatetime","shortCycleType","cutoffTime","shortPickUpType","goodsReqList","storeNoList","shortCircleOptions","label","value","shortPickUpTypeOptions","pickerOptions","disabledDate","time","getTime","Date","now","checkedList","activityStoresCheckedList","tempConfig","platformCityGoodsId","goodsNo","skuNo","goodsName","price","preSalePrice","stock","limitCount","sortNum","sfInStockStr","showTipErrorMsg","hasErrorMsgData","components","excel-add","AddByExcel","choose-goods","ChooseGoods","choose-store","ChooseStore","region","Region","methods","doSaveHandel","_this","this","length","$message","startDatetimeNum","parse","map","item","erpStoreNo","goodsReqListArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","test","parseFloat","goodsReqListItem","goodsId","spec","sfInStock","push","err","return","params","cutoffType","cutoffDays","pickUpType","$http","post","extends_default","then","res","setTimeout","code","success","$router","Error","msg","catch","e","$notify","error","title","message","doCancelHandel","_this2","$confirm","confirmButtonText","cancelButtonText","type","goAddGoodsDialog","$refs","chooseGoods","_params","setDefault","confirmChooseGoods","val","deleteItem","_row","resCheckedListArr","filter","JSON","stringify_default","sortNumHeader","h","$createElement","attrs","placement","trigger","content","slot","class","chooseStoreOpen","chooseStore","deleteStoreItem","confirmChooseStore","sfInStockHeader","width","doConfirmHandel","_this3","excelDataList","dataList","forEach","concat","toConsumableArray_default","excelAdd","closeDisabled","closeDialog","some","msgType","checkedListTemp","i","j","hash","reduceRight","showExcelBatchInsertDialog","setDefaultMsg","downLoadErrorMsg","_this4","downloadExcelConfig","msgTypeStr","tHeader","utils","filterVal","exportExcel","ExportJsonToExcel","header","filename","NewUser_AddNewUser","render","_vm","_h","_c","_self","staticClass","ref","model","label-width","required","staticStyle","color","font-size","font-weight","_v","_s","className","size","placeholder","callback","$$v","$set","expression","format","value-format","picker-options","_l","key","icon","on","click","empty-text","max-height","min-width","scopedSlots","_u","fn","scope","row","erpStoreName","prop","align","$event","_e","imgUrl","src","alt","onerror","render-header","fixed","disabled","visible","close-on-click-modal","close-on-press-escape","update:visible","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wSA0QAA,EAAA,sBACAC,EAAA,oCACAC,EAEA,6CAFAA,EAIA,sDAEAC,GACAC,KADA,WAEA,OACAC,YAAA,EACAC,aACAC,WAAA,EACAC,UAAA,EACAC,WAAAC,EAAA,EAAAC,IAAA,kBACAC,aAAA,GACAC,YAAA,EACAC,UAAA,EACAC,iBAAA,OACAC,aAAA,GACAC,cAAA,GACAC,YAAA,GACAC,eAAA,EACAC,WAAA,QACAC,gBAAA,EACAC,gBACAC,gBAEAC,qBAEAC,MAAA,KACAC,MAAA,IAGAD,MAAA,MACAC,MAAA,IAGAC,yBAEAF,MAAA,UACAC,MAAA,IAGAE,eACAC,aADA,SACAC,GACA,OAAAA,EAAAC,UAAAC,KAAAC,MAAA,QAIAC,eAEAC,6BACAC,YACAC,oBAAA,aACAC,QAAA,YACAC,MAAA,cACAC,UAAA,iBAEAC,MAAA,SACAC,aAAA,UACAC,MAAA,iBACAC,WAAA,iBACAC,QAAA,SACAC,aAAA,uBAGAC,iBAAA,EAEAC,qBAIAC,YACAC,YAAAC,EAAA,EACAC,eAAAC,EAAA,EACAC,eAAAC,EAAA,EACAC,OAAAC,EAAA,GAEAC,SAKAC,aALA,WAKA,IAAAC,EAAAC,KACA,GAAAA,KAAAvD,YAAAU,aAIA,GAAA6C,KAAAvD,YAAAU,aAAA8C,OAAA,GACAD,KAAAE,SAAA,oBAKA,GAAAF,KAAAvD,YAAAW,cAIA,GAAA4C,KAAAvD,YAAAY,YAAA,CAIA,IAAA8C,EAAAhC,KAAAiC,MAAA,IAAAjC,KAAA6B,KAAAvD,YAAAW,gBAEA,GADAe,KAAAiC,MAAA,IAAAjC,KAAA6B,KAAAvD,YAAAY,eACA8C,EACAH,KAAAE,SAAA,4BAGA,GAAAF,KAAAvD,YAAAc,WAAA,CAIA,IAAAG,EAAAsC,KAAA1B,0BAAA+B,IAAA,SAAAC,GACA,OAAAA,EAAAC,aAGA,GADAP,KAAAvD,YAAAiB,cACA,IAAAsC,KAAAvD,YAAAiB,YAAAuC,OAAA,CAIA,IAAAO,KArCAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAsCA,QAAAC,EAAAC,EAAAC,IAAAf,KAAA3B,eAAAoC,GAAAI,EAAAC,EAAAE,QAAAC,MAAAR,GAAA,OAAAH,EAAAO,EAAAhD,MACA,IAAAyC,EAAA3B,UAEA,YADAqB,KAAAE,SAAA,OAAAI,EAAA3B,UAAA,UAOA,IAAA2B,EAAA1B,MAEA,YADAoB,KAAAE,SAAA,OAAAI,EAAA3B,UAAA,QAGA,IAAAvC,EAAA8E,KAAAZ,EAAA1B,QAAA,GAAA0B,EAAA1B,MAEA,YADAoB,KAAAE,SAAA,qBAIA,IAAAI,EAAAzB,aAEA,YADAmB,KAAAE,SAAA,OAAAI,EAAA3B,UAAA,SAGA,IAAAvC,EAAA8E,KAAAZ,EAAAzB,eAAA,GAAAyB,EAAAzB,aAEA,YADAmB,KAAAE,SAAA,sBAKA,GAAAiB,WAAAb,EAAAzB,cAAAsC,WAAAb,EAAA1B,OAEA,YADAoB,KAAAE,SAAA,IAAAI,EAAA3B,UAAA,iBAIA,MAAA2B,EAAAxB,OAAAwB,EAAAxB,MAAA,CACA,IAAA3C,EAAA+E,KAAAZ,EAAAxB,OAOA,YADAkB,KAAAE,SAAA,eALA,GAAAI,EAAAxB,MAAA,EAEA,YADAkB,KAAAE,SAAA,eASA,MAAAI,EAAAvB,YAAAuB,EAAAvB,WAAA,CACA,IAAA5C,EAAA+E,KAAAZ,EAAAvB,YAOA,YADAiB,KAAAE,SAAA,eALA,GAAAI,EAAAvB,WAAA,EAEA,YADAiB,KAAAE,SAAA,aASA,MAAAI,EAAAtB,SAAAsB,EAAAtB,QAAA,CACA,IAAA7C,EAAA+E,KAAAZ,EAAAtB,SAOA,YADAgB,KAAAE,SAAA,yBALA,GAAAI,EAAAtB,QAAA,GAAAsB,EAAAtB,QAAA,IAEA,YADAgB,KAAAE,SAAA,yBASA,IAAAkB,GACAC,QAAAf,EAAAe,QACA5C,QAAA6B,EAAA7B,QACAC,MAAA4B,EAAA5B,MACAC,UAAA2B,EAAA3B,UAEAE,aAAAyB,EAAAzB,aACAD,MAAA0B,EAAA1B,MACAE,MAAAwB,EAAAxB,MACAC,WAAAuB,EAAAvB,WACAC,QAAAsB,EAAAtB,QACAsC,KAAAhB,EAAAgB,KACA9C,oBAAA8B,EAAA9B,oBACA+C,UAAAjB,EAAAiB,WAEAf,EAAAgB,KAAAJ,IA1HA,MAAAK,GAAAf,GAAA,EAAAC,EAAAc,EAAA,aAAAhB,GAAAK,EAAAY,QAAAZ,EAAAY,SAAA,WAAAhB,EAAA,MAAAC,GA4HA,OAAAH,EAAAP,OAAA,CAIA,IAAA0B,GACAhF,SAAAqD,KAAAvD,YAAAE,SACAC,WAAAoD,KAAAvD,YAAAG,WACAO,aAAA6C,KAAAvD,YAAAU,aACAH,YAAAgD,KAAAvD,YAAAO,YACAI,cAAA4C,KAAAvD,YAAAW,cACAC,YAAA2C,KAAAvD,YAAAY,YACAK,YAAAsC,KAAAvD,YAAAiB,YACAX,aAAAiD,KAAAvD,YAAAM,aACAE,UAAA+C,KAAAvD,YAAAQ,UACA2E,WAAA,EACAC,WAAA7B,KAAAvD,YAAAa,eACAC,WAAAyC,KAAAvD,YAAAc,WACAuE,WAAA9B,KAAAvD,YAAAe,gBACAC,aAAA+C,GAEAR,KAAAxD,YAAA,EACAwD,KAAA+B,MAAAC,KAAA3F,EAAA4F,OAAAN,IAAAO,KAAA,SAAAC,GAKA,GAHAC,WAAA,WACArC,EAAAvD,YAAA,GACA,KACA,IAAA2F,EAAAE,KAGA,OAFAtC,EAAAG,SAAAoC,QAAA,aACAvC,EAAAwC,QAAAf,KAAA,cAGA,UAAAgB,MAAAL,EAAAM,OACAC,MAAA,SAAAC,GACA5C,EAAAvD,YAAA,EACAuD,EAAA6C,QAAAC,OACAC,MAAA,KACAC,QAAAJ,EAAAI,iBAnCA/C,KAAAE,SAAA,iBA3FAF,KAAAE,SAAA,gBARAF,KAAAE,SAAA,gBAVAF,KAAAE,SAAA,kBAJAF,KAAAE,SAAA,kBAVAF,KAAAE,SAAA,YAsKA8C,eA7KA,WA6KA,IAAAC,EAAAjD,KACAA,KAAAkD,SAAA,eACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,YACAnB,KAAA,WACAe,EAAAV,QAAAf,KAAA,gBACAkB,MAAA,eAMAY,iBA1LA,WA2LA,GAAAtD,KAAAuD,MAAAC,YAAA,CACA,IAAAC,GACAX,MAAA,OACAlG,WAAAoD,KAAAvD,YAAAG,WACAyB,YAAA2B,KAAA3B,aAEA2B,KAAAuD,MAAAC,YAAAE,WAAAD,KAQAE,mBAzMA,SAyMAC,GACA5D,KAAA3B,YAAAuF,EAAAvF,iBAOAwF,WAjNA,SAiNAC,GACA,IAAAtF,EAAAsF,EAAAtF,oBACAuF,EAAA/D,KAAA3B,YAAA2F,OAAA,SAAA1D,GACA,OAAAA,EAAA9B,yBAGAwB,KAAA3B,YAAA4F,KAAA7D,MAAA8D,IAAAH,KAEAI,cAzNA,WAyNA,IAAAC,EAAApE,KAAAqE,eACA,OACAD,EAAA,cAAAE,OACAC,UAAA,YACAC,QAAA,QACAC,QAAA,iBACAL,EAAA,QAAAM,KAAA,qBAAAN,EAAA,KAAAO,MAAA,0BAQAC,gBAvOA,WAwOA,IAAAjD,GACAjF,WAAAsD,KAAAvD,YAAAC,WACAE,WAAAoD,KAAAvD,YAAAG,WACAkG,MAAA,OACAzE,YAAA2B,KAAA1B,2BAEA0B,KAAAuD,MAAAsB,YAAAnB,WAAA/B,IAOAmD,gBArPA,SAqPAhB,GACA,IAAAvD,EAAAuD,EAAAvD,WACAP,KAAA1B,0BAAA0B,KAAA1B,0BAAA0F,OAAA,SAAA1D,GACA,OAAAA,EAAAC,kBAQAwE,mBAhQA,SAgQAlH,GACA,IAAAS,KAEAA,EADAT,EAAAQ,aAAAR,EAAAQ,YAAA4B,OACApC,EAAAQ,eAIA2B,KAAA1B,6BAEA0G,gBAzQA,WAyQA,IAAAZ,EAAApE,KAAAqE,eACA,OACAD,EAAA,cAAAE,OACAC,UAAA,YACAU,MAAA,MACAT,QAAA,WACAJ,EAAA,OACAA,EAAA,mCACAA,EAAA,yBAEAA,EAAA,QAAAM,KAAA,yBAAAN,EAAA,KAAAO,MAAA,0BASAO,gBA5RA,SA4RArH,GAAA,IAAAsH,EAAAnF,KACAoF,EAAAvH,EAAAwH,aACAD,EAAAE,QAAA,SAAAhF,GACAA,EAAAvD,aAAA,KAEAiD,KAAA+B,MAAAC,KAAA3F,KAAAkJ,OAAAC,IAAAJ,KAAAlD,KAAA,SAAAC,GAGA,GAFAgD,EAAA5B,MAAAkC,SAAAC,gBACAP,EAAA5B,MAAAkC,SAAAE,cACA,IAAAxD,EAAAE,KA+BA,UAAAG,MAAAL,EAAAM,KA1BA,GAJA0C,EAAAhG,gBAAAgD,EAAA5F,MAAA4F,EAAA5F,KAAA0D,OAAAkC,EAAA5F,QACA4I,EAAAhG,gBAAAyG,KAAA,SAAAtF,GACA,WAAAA,EAAAuF,UAGAV,EAAAjG,iBAAA,MACA,CACA,IAAA4G,KAAAP,OAAAC,IAAAL,EAAA9G,cACAyH,EAAAR,QAAA,SAAAS,GACAZ,EAAAhG,gBAAAmG,QAAA,SAAAU,GACAD,EAAA1E,UAAA2E,EAAA3E,SAAA0E,EAAAtH,UAAAuH,EAAAvH,SAAAsH,EAAAvH,sBAAAwH,EAAAxH,qBAAAuH,EAAArH,QAAAsH,EAAAtH,QACAqH,EAAApH,UAAAqH,EAAArH,UAEAoH,EAAAnH,MAAAoH,EAAApH,MACAmH,EAAAlH,aAAAmH,EAAAnH,aACAkH,EAAAjH,MAAAkH,EAAAlH,MACAiH,EAAAhH,WAAAiH,EAAAjH,WACAgH,EAAA/G,QAAAgH,EAAAhH,QACA+G,EAAAxE,UAAAyE,EAAAzE,eAIA,IAAA0E,KACAd,EAAA9G,eAAAkH,OAAAC,IAAAM,GAAAN,IAAAL,EAAAhG,kBAAA+G,YAAA,SAAA5F,EAAAU,GAEA,OADAiF,EAAAjF,EAAAxC,uBAAAyH,EAAAjF,EAAAxC,qBAAA8B,EAAAkB,KAAAR,IACAV,UAMAoC,MAAA,SAAAC,GACAwC,EAAA5B,MAAAkC,SAAAC,gBACAP,EAAA5B,MAAAkC,SAAAE,cACAR,EAAAvC,QAAAC,OACAC,MAAA,KACAC,QAAAJ,EAAAI,aAIAoD,2BA7UA,WA8UA,GAAAnG,KAAAuD,MAAAkC,SAAA,CACA,IAAA7B,GACAd,MAAA,aACAvE,WAAAyB,KAAAzB,YAEAyB,KAAAuD,MAAAkC,SAAAW,cAAAxC,KAGAyC,iBAtVA,WAsVA,IAAAC,EAAAtG,KACAuG,EAAAtE,OAAAjC,KAAAzB,YACAgI,EAAAC,WAAA,OACAD,EAAA9D,IAAA,OACAzC,KAAAb,gBAAAmG,QAAA,SAAAhF,GACAA,EAAAkG,WAAA,IAAAlG,EAAAuF,QAAA,gBAEA,IAAAY,EAAAC,EAAA,EAAAH,GAAA,GACAI,EAAAD,EAAA,EAAAH,GAAA,GACMK,EAAA,EAANC,mBACAC,OAAAL,EACAE,YACApK,KAAAyD,KAAAb,gBACA4H,SAAA,gBAEA3E,WAAA,WACAkE,EAAA1D,QAAAN,SACAQ,MAAA,OACAC,QAAA,oBAEAuD,EAAA9J,YAAA,GACA,QClsBewK,GADEC,OAFjB,WAA0B,IAAAC,EAAAlH,KAAamH,EAAAD,EAAA7C,eAA0B+C,EAAAF,EAAAG,MAAAD,IAAAD,EAAwB,OAAAC,EAAA,OAAiBE,YAAA,oBAA8BF,EAAA,WAAgBG,IAAA,OAAAjD,OAAkBkD,MAAAN,EAAAzK,YAAAgL,cAAA,WAA+CL,EAAA,gBAAqB9C,OAAO1G,MAAA,OAAA8J,SAAA,MAA8BN,EAAA,KAAUO,aAAaC,MAAA,OAAAC,YAAA,OAAAC,cAAA,UAAwDZ,EAAAa,GAAAb,EAAAc,GAAAd,EAAAzK,YAAAS,uBAAAgK,EAAAa,GAAA,KAAAX,EAAA,UAAgFE,YAAA,cAAAhD,OAAiC2D,UAAA,YAAArK,MAAA,OAAA8J,UAAA,KAAwDR,EAAAa,GAAA,KAAAX,EAAA,gBAAiC9C,OAAO1G,MAAA,OAAA8J,SAAA,MAA8BN,EAAA,YAAiBE,YAAA,YAAAhD,OAA+B4D,KAAA,QAAAC,YAAA,WAAuCX,OAAQ3J,MAAAqJ,EAAAzK,YAAA,aAAA2L,SAAA,SAAAC,GAA8DnB,EAAAoB,KAAApB,EAAAzK,YAAA,eAAA4L,IAA+CE,WAAA,8BAAwCrB,EAAAa,GAAA,KAAAX,EAAA,QAAAF,EAAAa,GAAA,qBAAAb,EAAAa,GAAA,KAAAX,EAAA,gBAAoF9C,OAAO1G,MAAA,OAAA8J,SAAA,MAA8BN,EAAA,kBAAuBE,YAAA,YAAAhD,OAA+B4D,KAAA,QAAA7E,KAAA,WAAAmF,OAAA,sBAAAC,eAAA,sBAAAC,iBAAAxB,EAAAnJ,cAAAoK,YAAA,WAAgKX,OAAQ3J,MAAAqJ,EAAAzK,YAAA,cAAA2L,SAAA,SAAAC,GAA+DnB,EAAAoB,KAAApB,EAAAzK,YAAA,gBAAA4L,IAAgDE,WAAA,+BAAyCrB,EAAAa,GAAA,KAAAX,EAAA,QAAAF,EAAAa,GAAA,gBAAAb,EAAAa,GAAA,KAAAX,EAAA,gBAA+E9C,OAAO1G,MAAA,OAAA8J,SAAA,MAA8BN,EAAA,kBAAuBE,YAAA,YAAAhD,OAA+B4D,KAAA,QAAA7E,KAAA,WAAAmF,OAAA,sBAAAC,eAAA,sBAAAC,iBAAAxB,EAAAnJ,cAAAoK,YAAA,WAAgKX,OAAQ3J,MAAAqJ,EAAAzK,YAAA,YAAA2L,SAAA,SAAAC,GAA6DnB,EAAAoB,KAAApB,EAAAzK,YAAA,cAAA4L,IAA8CE,WAAA,6BAAuCrB,EAAAa,GAAA,KAAAX,EAAA,QAAAF,EAAAa,GAAA,gBAAAb,EAAAa,GAAA,KAAAX,EAAA,gBAA+E9C,OAAO1G,MAAA,OAAA8J,SAAA,MAA8BN,EAAA,aAAkBE,YAAA,mBAAAhD,OAAsC6D,YAAA,OAAAD,KAAA,SAAoCV,OAAQ3J,MAAAqJ,EAAAzK,YAAA,eAAA2L,SAAA,SAAAC,GAAgEnB,EAAAoB,KAAApB,EAAAzK,YAAA,iBAAA4L,IAAiDE,WAAA,+BAA0CrB,EAAAyB,GAAAzB,EAAA,4BAAA5G,GAAgD,OAAA8G,EAAA,aAAuBwB,IAAAtI,EAAAzC,MAAAyG,OAAsB1G,MAAA0C,EAAA1C,MAAAC,MAAAyC,EAAAzC,WAAyC,GAAAqJ,EAAAa,GAAA,KAAAX,EAAA,kBAAsCE,YAAA,mBAAAhD,OAAsC6D,YAAA,OAAAK,OAAA,QAAAC,eAAA,QAAAP,KAAA,SAA4EV,OAAQ3J,MAAAqJ,EAAAzK,YAAA,WAAA2L,SAAA,SAAAC,GAA4DnB,EAAAoB,KAAApB,EAAAzK,YAAA,aAAA4L,IAA6CE,WAAA,4BAAsCrB,EAAAa,GAAA,KAAAX,EAAA,QAAAF,EAAAa,GAAA,sCAAAb,EAAAa,GAAA,KAAAX,EAAA,gBAAqG9C,OAAO1G,MAAA,OAAA8J,SAAA,MAA8BN,EAAA,aAAkBE,YAAA,YAAAhD,OAA+B6D,YAAA,OAAAD,KAAA,SAAoCV,OAAQ3J,MAAAqJ,EAAAzK,YAAA,gBAAA2L,SAAA,SAAAC,GAAiEnB,EAAAoB,KAAApB,EAAAzK,YAAA,kBAAA4L,IAAkDE,WAAA,gCAA2CrB,EAAAyB,GAAAzB,EAAA,gCAAA5G,GAAoD,OAAA8G,EAAA,aAAuBwB,IAAAtI,EAAAzC,MAAAyG,OAAsB1G,MAAA0C,EAAA1C,MAAAC,MAAAyC,EAAAzC,WAAyC,GAAAqJ,EAAAa,GAAA,KAAAX,EAAA,QAAAF,EAAAa,GAAA,yBAAAb,EAAAa,GAAA,KAAAX,EAAA,gBAA2F9C,OAAO1G,MAAA,OAAA8J,SAAA,MAA8BN,EAAA,aAAkB9C,OAAO4D,KAAA,QAAAW,KAAA,gBAAqCC,IAAKC,MAAA7B,EAAAtC,mBAA6BsC,EAAAa,GAAA,UAAAb,EAAAa,GAAA,KAAAb,EAAA5I,0BAAA2B,OAAA,EAAAmH,EAAA,OAAoFE,YAAA,4BAAsCF,EAAA,YAAiBE,YAAA,eAAAhD,OAAkC/H,KAAA2K,EAAA5I,0BAAA0K,aAAA,WAAAC,aAAA,MAAAf,KAAA,WAAgGd,EAAA,mBAAwB9C,OAAO4E,YAAA,QAAAtL,MAAA,WAAsCuL,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,OAAAF,EAAAa,GAAA,qBAAAb,EAAAc,GAAAsB,EAAAC,IAAAhJ,YAAA,IAAA2G,EAAAc,GAAAsB,EAAAC,IAAAC,cAAA,0BAAsI,qBAAwBtC,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4E,YAAA,KAAAO,KAAA,WAAA7L,MAAA,QAAiDsJ,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4E,YAAA,KAAAO,KAAA,eAAA7L,MAAA,UAAuDsJ,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAOoF,MAAA,SAAA9L,MAAA,KAAAqH,MAAA,OAA4CkE,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,aAAwB9C,OAAOjB,KAAA,OAAA6E,KAAA,OAAAW,KAAA,kBAAoDC,IAAKC,MAAA,SAAAY,GAAyB,OAAAzC,EAAApC,gBAAAwE,EAAAC,SAAwCrC,EAAAa,GAAA,YAAmB,uBAAyB,OAAAb,EAAA0C,MAAA,GAAA1C,EAAAa,GAAA,KAAAX,EAAA,gBAAsD9C,OAAO1G,MAAA,OAAA8J,SAAA,MAA8BN,EAAA,aAAkB9C,OAAOjB,KAAA,UAAA6E,KAAA,OAAAW,KAAA,gBAAqDC,IAAKC,MAAA7B,EAAA5D,oBAA8B4D,EAAAa,GAAA,UAAAX,EAAA,aAAmC9C,OAAO4D,KAAA,OAAAW,KAAA,gBAAoCC,IAAKC,MAAA7B,EAAAf,8BAAwCe,EAAAa,GAAA,eAAAb,EAAAa,GAAA,KAAAX,EAAA,YAAmDE,YAAA,iCAAAK,aAA0D1C,MAAA,QAAeX,OAAQ/H,KAAA2K,EAAA7I,YAAA2K,aAAA,WAAAC,aAAA,MAAAf,KAAA,WAAkFd,EAAA,mBAAwB9C,OAAO4E,YAAA,QAAAtL,MAAA,QAAmCuL,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,OAAkBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,aAAuBgC,EAAAC,IAAAM,QAAA,IAAAP,EAAAC,IAAAM,OAAAzC,EAAA,OAAyD9C,OAAOwF,IAAAR,EAAAC,IAAAM,OAAAE,IAAA,GAAAC,QAAA,mDAA2F5C,EAAA,OAAY9C,OAAOwF,IAAA,6BAAAC,IAAA,QAA6C7C,EAAAa,GAAA,KAAAX,EAAA,OAA0BE,YAAA,eAAyBF,EAAA,OAAAF,EAAAa,GAAA,uBAAAb,EAAAc,GAAAsB,EAAAC,IAAA5K,WAAA,6BAAAuI,EAAAa,GAAA,KAAAX,EAAA,OAA2HE,YAAA,gBAA0BJ,EAAAa,GAAA,SAAAb,EAAAc,GAAAsB,EAAAC,IAAA9K,SAAA,SAAAyI,EAAAa,GAAA,KAAAX,EAAA,OAA6EE,YAAA,gBAA0BJ,EAAAa,GAAA,QAAAb,EAAAc,GAAAsB,EAAAC,IAAA/K,qBAAA,SAAA0I,EAAAa,GAAA,KAAAX,EAAA,OAAwFE,YAAA,gBAA0BJ,EAAAa,GAAA,QAAAb,EAAAc,GAAAsB,EAAAC,IAAAlI,SAAA,oBAA+D6F,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4E,YAAA,QAAAO,KAAA,OAAA7L,MAAA,QAAgDsJ,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4E,YAAA,QAAAtL,MAAA,UAAqCuL,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,OAAAA,EAAA,YAAiC9C,OAAO4D,KAAA,QAAAC,YAAA,QAAoCX,OAAQ3J,MAAAyL,EAAAC,IAAA,MAAAnB,SAAA,SAAAC,GAAiDnB,EAAAoB,KAAAgB,EAAAC,IAAA,QAAAlB,IAAkCE,WAAA,sBAA+B,UAAWrB,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4E,YAAA,QAAAtL,MAAA,WAAsCuL,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,OAAAA,EAAA,YAAiC9C,OAAO4D,KAAA,QAAAC,YAAA,SAAqCX,OAAQ3J,MAAAyL,EAAAC,IAAA,aAAAnB,SAAA,SAAAC,GAAwDnB,EAAAoB,KAAAgB,EAAAC,IAAA,eAAAlB,IAAyCE,WAAA,6BAAsC,UAAWrB,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4E,YAAA,QAAAtL,MAAA,YAAuCuL,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,OAAAA,EAAA,YAAiC9C,OAAO4D,KAAA,QAAAC,YAAA,QAAoCX,OAAQ3J,MAAAyL,EAAAC,IAAA,MAAAnB,SAAA,SAAAC,GAAiDnB,EAAAoB,KAAAgB,EAAAC,IAAA,QAAAlB,IAAkCE,WAAA,sBAA+B,UAAWrB,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4E,YAAA,QAAAtL,MAAA,QAAmCuL,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,OAAAA,EAAA,YAAiC9C,OAAO4D,KAAA,QAAAC,YAAA,QAAoCX,OAAQ3J,MAAAyL,EAAAC,IAAA,WAAAnB,SAAA,SAAAC,GAAsDnB,EAAAoB,KAAAgB,EAAAC,IAAA,aAAAlB,IAAuCE,WAAA,2BAAoC,UAAWrB,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4E,YAAA,QAAAe,gBAAA/C,EAAA/C,eAAsDgF,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,OAAAA,EAAA,YAAiC9C,OAAO4D,KAAA,QAAAC,YAAA,kBAA8CX,OAAQ3J,MAAAyL,EAAAC,IAAA,QAAAnB,SAAA,SAAAC,GAAmDnB,EAAAoB,KAAAgB,EAAAC,IAAA,UAAAlB,IAAoCE,WAAA,wBAAiC,UAAWrB,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4E,YAAA,QAAAe,gBAAA/C,EAAAlC,iBAAwDmE,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,OAAAA,EAAA,YAAiC9C,OAAO1G,OAAA,GAAa4J,OAAQ3J,MAAAyL,EAAAC,IAAA,UAAAnB,SAAA,SAAAC,GAAqDnB,EAAAoB,KAAAgB,EAAAC,IAAA,YAAAlB,IAAsCE,WAAA,yBAAmCrB,EAAAa,GAAA,OAAAb,EAAAa,GAAA,KAAAX,EAAA,YAA2C9C,OAAO1G,OAAA,GAAc4J,OAAQ3J,MAAAyL,EAAAC,IAAA,UAAAnB,SAAA,SAAAC,GAAqDnB,EAAAoB,KAAAgB,EAAAC,IAAA,YAAAlB,IAAsCE,WAAA,yBAAmCrB,EAAAa,GAAA,kBAAyBb,EAAAa,GAAA,KAAAX,EAAA,mBAAoC9C,OAAO4F,MAAA,QAAAR,MAAA,SAAA9L,MAAA,KAAAqH,MAAA,MAA2DkE,YAAAjC,EAAAkC,KAAsBR,IAAA,UAAAS,GAAA,SAAAC,GAAiC,OAAAlC,EAAA,aAAwB9C,OAAOjB,KAAA,OAAA6E,KAAA,OAAAW,KAAA,kBAAoDC,IAAKC,MAAA,SAAAY,GAAyB,OAAAzC,EAAArD,WAAAyF,EAAAC,SAAmCrC,EAAAa,GAAA,gBAAsB,GAAAb,EAAAa,GAAA,KAAAX,EAAA,KAAAA,EAAA,QAAqCO,aAAaC,MAAA,SAAeV,EAAAa,GAAA,OAAAb,EAAAa,GAAA,gDAAAb,EAAAa,GAAA,KAAAX,EAAA,KAAAA,EAAA,QAAsGO,aAAaC,MAAA,SAAeV,EAAAa,GAAA,OAAAb,EAAAa,GAAA,0CAAAb,EAAAa,GAAA,KAAAX,EAAA,MAAsFE,YAAA,cAAwBJ,EAAAa,GAAA,KAAAX,EAAA,gBAAAA,EAAA,aAAiD9C,OAAOjB,KAAA,UAAA6E,KAAA,QAAAiC,SAAAjD,EAAA1K,WAAAqM,KAAA3B,EAAA1K,WAAA,wBAA2GsM,IAAKC,MAAA7B,EAAApH,gBAA0BoH,EAAAa,GAAA,QAAAb,EAAAa,GAAA,KAAAX,EAAA,aAA6C9C,OAAO4D,KAAA,SAAeY,IAAKC,MAAA7B,EAAAlE,kBAA4BkE,EAAAa,GAAA,gBAAAb,EAAAa,GAAA,KAAAX,EAAA,gBAAwDG,IAAA,cAAAuB,IAAsBnF,mBAAAuD,EAAAvD,sBAA6CuD,EAAAa,GAAA,KAAAX,EAAA,gBAAiCG,IAAA,cAAAuB,IAAsB/D,mBAAAmC,EAAAnC,sBAA6CmC,EAAAa,GAAA,KAAAX,EAAA,aAA8BG,IAAA,WAAAuB,IAAmB5D,gBAAAgC,EAAAhC,mBAAuCgC,EAAAa,GAAA,KAAAX,EAAA,aAA8B9C,OAAOxB,MAAA,SAAAsH,QAAAlD,EAAAhI,gBAAAmL,wBAAA,EAAAC,yBAAA,EAAArF,MAAA,SAA0H6D,IAAKyB,iBAAA,SAAAZ,GAAkCzC,EAAAhI,gBAAAyK,MAA6BvC,EAAA,OAAAF,EAAAa,GAAA,mCAAAX,EAAA,aAAsE9C,OAAOjB,KAAA,OAAA6E,KAAA,QAA4BY,IAAKC,MAAA7B,EAAAb,oBAA8Ba,EAAAa,GAAA,kBAAAb,EAAAa,GAAA,KAAAX,EAAA,OAAiDE,YAAA,gBAAAhD,OAAmCI,KAAA,UAAgBA,KAAA,WAAe0C,EAAA,aAAkB9C,OAAO4D,KAAA,QAAcY,IAAKC,MAAA,SAAAY,GAAyBzC,EAAAhI,iBAAA,MAA8BgI,EAAAa,GAAA,oBAE35TyC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErO,EACA0K,GATF,EAVA,SAAA4D,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/140.888d25dee7359de906b3.js","sourcesContent":["<style>\r\n  .ll-p-m-w {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n  }\r\n  .ll-img-w {\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n  .ll-img-w>img {\r\n    width: 60px;\r\n  }\r\n  .ll-p-m-c-r {\r\n    padding: 0 10px;\r\n  }\r\n  .ll-erp-p-no {\r\n    color: #666;\r\n    font-size: 12px;\r\n  }\r\n  .c-g-sfw {\r\n    padding-top: 0 !important;\r\n    padding-bottom: 0 !important;\r\n  }\r\n\r\n  .choose-store-table-wrap {\r\n    width: 500px;\r\n    border: 1px solid #ececec;\r\n    border-radius: 4px;\r\n  }\r\n  .choose-goods-wrap {\r\n    border: 1px solid #ececec;\r\n    border-radius: 4px;\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <div class=\"add-form-wraper\">\r\n    <el-form ref=\"form\" :model=\"addParamMsg\" label-width=\"160px\">\r\n      <el-form-item label=\"活动类型\" required>\r\n        <p\r\n          style=\"color: #222;font-size: 16px; font-weight: bold;\"\r\n        >{{addParamMsg.activityTypeName}}</p>\r\n      </el-form-item>\r\n      <region class=\"region-wrap\" className=\"add-input\" label=\"选择区域\" :required=\"true\"></region>\r\n      <el-form-item label=\"活动名称\" required>\r\n        <el-input v-model=\"addParamMsg.activityName\" size=\"small\" class=\"add-input\" placeholder=\"请输入活动名称\"></el-input>\r\n        <span>活动名称，限制30个字</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"开始时间\" required>\r\n        <el-date-picker\r\n          class=\"add-input\"\r\n          size=\"small\"\r\n          v-model=\"addParamMsg.startDatetime\"\r\n          type=\"datetime\"\r\n          format=\"yyyy-MM-dd HH:mm:ss\"\r\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n          :picker-options=\"pickerOptions\"\r\n          placeholder=\"请输入开始时间\">\r\n        </el-date-picker>\r\n        <span>活动开始时间</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"结束时间\" required>\r\n        <el-date-picker\r\n          class=\"add-input\"\r\n          size=\"small\"\r\n          v-model=\"addParamMsg.endDatetime\"\r\n          type=\"datetime\"\r\n          format=\"yyyy-MM-dd HH:mm:ss\"\r\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n          :picker-options=\"pickerOptions\"\r\n          placeholder=\"请输入结束时间\">\r\n        </el-date-picker>\r\n        <span>活动结束时间</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"截单时间\" required>\r\n        <el-select class=\"add-input-inline\" v-model=\"addParamMsg.shortCycleType\" placeholder=\"截单时间\" size=\"small\">\r\n          <el-option\r\n            v-for=\"item in shortCircleOptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n        <el-time-picker\r\n          class=\"add-input-inline\"\r\n          v-model=\"addParamMsg.cutoffTime\"\r\n          placeholder=\"选择时间\"\r\n          format=\"HH:mm\"\r\n          value-format=\"HH:mm\"\r\n          size=\"small\">\r\n        </el-time-picker>\r\n        <span>每天截单即24小时一个周期，每2天截单即48小时一个周期</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"提货日期\" required>\r\n        <el-select class=\"add-input\" v-model=\"addParamMsg.shortPickUpType\" placeholder=\"提货日期\" size=\"small\">\r\n          <el-option\r\n            v-for=\"item in shortPickUpTypeOptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n        <span>表示一个周期结束后的第二天提货</span>\r\n      </el-form-item>\r\n      <el-form-item label=\"参与门店\" required>\r\n        <el-button size=\"small\" @click=\"chooseStoreOpen\" icon=\"el-icon-plus\">选择门店</el-button>\r\n        <div v-if=\"activityStoresCheckedList.length > 0\" class=\"choose-store-table-wrap\">\r\n          <el-table\r\n            class=\"fixed-height\"\r\n            :data=\"activityStoresCheckedList\"\r\n            empty-text=\"暂无选中任何门店\"\r\n            max-height=\"300\"\r\n            size=\"small\">\r\n            <el-table-column min-width=\"220px\" label=\"门店编码/名称\">\r\n              <template slot-scope=\"scope\">\r\n                <div>\r\n                  {{scope.row.erpStoreNo}}_{{scope.row.erpStoreName}}\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column min-width=\"80\" prop=\"cityName\" label=\"城市\"></el-table-column>\r\n            <el-table-column min-width=\"80\" prop=\"saleTypeName\" label=\"门店类型\"></el-table-column>\r\n            <el-table-column\r\n              align=\"center\"\r\n              label=\"操作\"\r\n              width=\"100\">\r\n              <template slot-scope=\"scope\" size=\"small\">\r\n                <el-button @click=\"deleteStoreItem(scope.row)\" type=\"text\" size=\"mini\" icon=\"el-icon-delete\">删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"活动商品\" required>\r\n        <el-button type=\"primary\" @click=\"goAddGoodsDialog\" size=\"mini\" icon=\"el-icon-plus\">添加商品</el-button><el-button @click=\"showExcelBatchInsertDialog\" size=\"mini\" icon=\"el-icon-plus\">Excel批量导入</el-button>\r\n        <el-table\r\n          class=\"fixed-height choose-goods-wrap\"\r\n          :data=\"checkedList\"\r\n          empty-text=\"暂无选中任何商品\"\r\n          style=\"width:100%;\"\r\n          max-height=\"560\"\r\n          size=\"small\">\r\n          <el-table-column min-width=\"220px\" label=\"商品信息\">\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"ll-p-m-w\">\r\n                <div class=\"ll-img-w\">\r\n                  <img v-if=\"scope.row.imgUrl && scope.row.imgUrl != ''\" :src=\"scope.row.imgUrl\" alt=\"\" onerror=\"onerror=null;src='/shop/static/img_error.png'\">\r\n                  <img v-else src=\"/shop/static/img_error.png\" alt=\"\">\r\n                </div>\r\n                <div class=\"ll-p-m-c-r\">\r\n                  <div>\r\n                    {{scope.row.goodsName || '-'}}\r\n                  </div>\r\n                  <div class=\"ll-erp-p-no\">SKU编码：{{scope.row.goodsNo || '--'}}</div>\r\n                  <div class=\"ll-erp-p-no\">商品ID：{{scope.row.platformCityGoodsId || '--'}}</div>\r\n                  <div class=\"ll-erp-p-no\">商品编码：{{scope.row.goodsId || '--'}}</div>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column min-width=\"100px\" prop=\"spec\" label=\"规格\"></el-table-column>\r\n          <!-- <el-table-column min-width=\"130px\" label=\"活动商品名称\">\r\n            <template slot-scope=\"scope\">\r\n              <div>\r\n                <el-input v-model=\"scope.row.activityGoodsName\" size=\"small\" placeholder=\"输入名称\"></el-input>\r\n              </div>\r\n            </template>\r\n          </el-table-column> -->\r\n          <el-table-column min-width=\"130px\" label=\"原价(必填)\">\r\n            <template slot-scope=\"scope\">\r\n              <div>\r\n                <el-input v-model=\"scope.row.price\" size=\"small\" placeholder=\"输入原价\"></el-input>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column min-width=\"130px\" label=\"活动价(必填)\">\r\n            <template slot-scope=\"scope\">\r\n              <div>\r\n                <el-input v-model=\"scope.row.preSalePrice\" size=\"small\" placeholder=\"输入活动价\"></el-input>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column min-width=\"130px\" label=\"活动库存(选填)\">\r\n            <template slot-scope=\"scope\">\r\n              <div>\r\n                <el-input v-model=\"scope.row.stock\" size=\"small\" placeholder=\"活动库存\"></el-input>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column min-width=\"140px\" label=\"每人限购\">\r\n            <template slot-scope=\"scope\">\r\n              <div>\r\n                <el-input v-model=\"scope.row.limitCount\" size=\"small\" placeholder=\"每人限购\"></el-input>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column min-width=\"140px\" :render-header=\"sortNumHeader\">\r\n            <template slot-scope=\"scope\">\r\n              <div>\r\n                <el-input v-model=\"scope.row.sortNum\" size=\"small\" placeholder=\"排序（0-299越大越靠前）\"></el-input>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column min-width=\"190px\" :render-header=\"sfInStockHeader\">\r\n            <template slot-scope=\"scope\">\r\n              <div>\r\n                <el-radio v-model=\"scope.row.sfInStock\" :label=\"true\">是</el-radio>\r\n                <el-radio v-model=\"scope.row.sfInStock\" :label=\"false\">否</el-radio>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            fixed=\"right\"\r\n            align=\"center\"\r\n            label=\"操作\"\r\n            width=\"80\">\r\n            <template slot-scope=\"scope\" size=\"small\">\r\n              <el-button @click=\"deleteItem(scope.row)\" type=\"text\" size=\"mini\" icon=\"el-icon-delete\">删除</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <p>\r\n          <span style=\"color:red;\">*</span>活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；\r\n        </p>\r\n        <p>\r\n          <span style=\"color:red;\">*</span>活动进行中时新上门店，请在活动商品中发布至门店；\r\n        </p>\r\n      </el-form-item>\r\n      \r\n      <hr class=\"s-slip-tb\">\r\n      <el-form-item>\r\n        <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel\" :disabled=\"isDisabled\" :icon=\"isDisabled ? 'el-icon-loading' : null\">保存</el-button>\r\n        <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    \r\n    <!-- 选择商品 -->\r\n    <choose-goods ref=\"chooseGoods\" @confirmChooseGoods=\"confirmChooseGoods\"></choose-goods>\r\n    <!-- 选择门店 -->\r\n    <choose-store ref=\"chooseStore\" @confirmChooseStore=\"confirmChooseStore\"></choose-store>\r\n    <excel-add ref=\"excelAdd\" @doConfirmHandel=\"doConfirmHandel\"></excel-add>\r\n    <el-dialog \r\n      title=\"批量导入失败\" \r\n      :visible.sync=\"showTipErrorMsg\" \r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      width='450px'>\r\n      <div>\r\n        部分商品不符合要求，请按要求修改后再重新导入。<el-button type=\"text\" size=\"mini\" @click=\"downLoadErrorMsg\">下载查看失败原因</el-button>\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"showTipErrorMsg = false\" size=\"mini\">关 闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Storage from '@/utils/localStorage'\r\n  import * as utils from '@/utils/utils'\r\n  import ChooseStore from \"@/components/Activity/Common/ChooseStore\"\r\n  import ChooseGoods from \"@/components/Activity/Common/ChooseGoods\"\r\n  import AddByExcel from \"@/components/Common/Excel/AddByExcel\"\r\n  import exportSheet from '@/utils/exportExcel'\r\n  import Region from '@/components/Common/StoreCommon/Region'\r\n  const numReg = /^[1-9]*[1-9][0-9]*$/\r\n  const salePriceReg = /((^[1-9]\\d*)|^0)(\\.\\d{0,2}){0,1}$/\r\n  const requestUrl = {\r\n    // 保存活动\r\n    saveActivity: '/plateform/a/preSale/activity/saveActivity',\r\n    // 校验新增活动商品\r\n    checkPreGoodsInsert: '/newretail-shop/a/preSale/goods/checkPreGoodsInsert'\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        isDisabled: false,\r\n        addParamMsg: {\r\n          platformId: 5,\r\n          DIFFCITY: true,\r\n          regionCode: Storage.get('regionCode') || '', // 区域ID\r\n          activityType: 41, // 活动类型\r\n          presaleType: 2, // 预售类型，1-单期，2-周期\r\n          cycleType: 1, // 周期类型，1-短周期，2-长周期\r\n          activityTypeName: '新人专享', // 活动类型名称\r\n          activityName: '', // 活动名称\r\n          startDatetime: '', // 开始时间cycleType\r\n          endDatetime: '', // 结束时间\r\n          shortCycleType: 1, // 周期类型  1 每天 2 每两天\r\n          cutoffTime: '22:00',\r\n          shortPickUpType: 0, // 提货类型 截单后第2天提\r\n          goodsReqList: [],\r\n          storeNoList: []\r\n        },\r\n        shortCircleOptions: [\r\n          {\r\n            label: '每天',\r\n            value: 1\r\n          },\r\n          {\r\n            label: '每2天',\r\n            value: 2\r\n          }\r\n        ],\r\n        shortPickUpTypeOptions: [\r\n          {\r\n            label: '截单后第2天提',\r\n            value: 0\r\n          }\r\n        ],\r\n        pickerOptions: {\r\n          disabledDate(time) {\r\n            return time.getTime() < Date.now() - 8.64e7\r\n          }\r\n        },\r\n        // 选中的商品列表\r\n        checkedList: [],\r\n        // 参与门店选中的\r\n        activityStoresCheckedList: [],\r\n        tempConfig: {\r\n          platformCityGoodsId: '区域商品id(必填)',\r\n          goodsNo: 'SKU编码(选填)',\r\n          skuNo: 'ERP商品编码(选填)',\r\n          goodsName: '活动商品名称(可修改，必填)',\r\n          // activityGoodsName: '活动商品名称(可修改，必填)',\r\n          price: '原价(必填）',\r\n          preSalePrice: '活动价(必填)',\r\n          stock: '活动库存(选填，为空时不限)',\r\n          limitCount: '每人限购(选填，为空时不限)',\r\n          sortNum: '排序(必填)',\r\n          sfInStockStr: '顺丰仓现货（选填，填是/否，空时为是）'\r\n        },\r\n        // 显示下载含有失败原因的excel\r\n        showTipErrorMsg: false, \r\n        // 后台返回的又失败原因的内容\r\n        hasErrorMsgData: []\r\n\r\n      }\r\n    },\r\n    components: {\r\n      \"excel-add\": AddByExcel,\r\n      \"choose-goods\": ChooseGoods,\r\n      \"choose-store\": ChooseStore,\r\n      \"region\": Region\r\n    },\r\n    methods: {\r\n      /**\r\n       * [doSaveHandel 保存]\r\n       * @return {[type]} [description]\r\n       */\r\n      doSaveHandel() {\r\n        if(!this.addParamMsg.activityName) {\r\n          this.$message(\"请输入活动名称\")\r\n          return\r\n        }else {\r\n          if(this.addParamMsg.activityName.length > 30) {\r\n            this.$message(\"活动名称,限制30个字\")\r\n            return\r\n          }\r\n        }\r\n        // 起止日期\r\n        if(!this.addParamMsg.startDatetime) {\r\n          this.$message(\"请选择活动开始时间\")\r\n          return\r\n        }\r\n        if(!this.addParamMsg.endDatetime) {\r\n          this.$message(\"请选择活动结束时间\")\r\n          return\r\n        }\r\n        let startDatetimeNum = Date.parse(new Date(this.addParamMsg.startDatetime))\r\n        let endDatetimeNum = Date.parse(new Date(this.addParamMsg.endDatetime))\r\n        if(endDatetimeNum <= startDatetimeNum) {\r\n          this.$message(\"活动结束时间不能早于或等于活动开始时间\")\r\n          return\r\n        }\r\n        if(!this.addParamMsg.cutoffTime) {\r\n          this.$message(\"请选择截单时间\")\r\n          return\r\n        }\r\n        let storeNoList = this.activityStoresCheckedList.map(item => {\r\n          return item.erpStoreNo\r\n        })\r\n        this.addParamMsg.storeNoList = storeNoList\r\n        if(this.addParamMsg.storeNoList.length === 0) {\r\n          this.$message(\"请选择参与门店\")\r\n          return\r\n        }\r\n        let goodsReqListArr = []\r\n        for(let item of this.checkedList) {\r\n          if(!item.goodsName) {\r\n            this.$message(`请输入(${item.goodsName})的商品名称`)\r\n            return\r\n          }\r\n          // if(!item.activityGoodsName) {\r\n          //   this.$message(`请输入(${item.goodsName})的活动商品名称`)\r\n          //   return\r\n          // }\r\n          if(!item.price) {\r\n            this.$message(`请输入(${item.goodsName})的原价`)\r\n            return\r\n          }else {\r\n            if(!salePriceReg.test(item.price) || item.price == 0) {\r\n              this.$message('原价是大于0，小数保留小数点后2位') \r\n              return\r\n            }\r\n          }\r\n          if(!item.preSalePrice) {\r\n            this.$message(`请输入(${item.goodsName})的活动价`)\r\n            return\r\n          }else {\r\n            if(!salePriceReg.test(item.preSalePrice) || item.preSalePrice == 0) {\r\n              this.$message('活动价是大于0，小数保留小数点后2位') \r\n              return\r\n            }\r\n          }\r\n\r\n          if(parseFloat(item.preSalePrice) > parseFloat(item.price)) { \r\n            this.$message(`(${item.goodsName})的原价必须大于等于活动价`)\r\n            return\r\n          }\r\n          \r\n          if(item.stock != 0 && item.stock) {\r\n            if(numReg.test(item.stock)) {\r\n              if(item.stock < 0) {\r\n                this.$message(\"门店限售库存不能小于0\")\r\n                return\r\n              }\r\n            }else {\r\n              this.$message(\"门店限售库存格式不正确\")\r\n              return\r\n            }\r\n          }\r\n\r\n          if(item.limitCount != 0 && item.limitCount) {\r\n            if(numReg.test(item.limitCount)) {\r\n              if(item.limitCount < 0) {\r\n                this.$message(\"限购数量不能小于0\")\r\n                return\r\n              }\r\n            }else {\r\n              this.$message(\"输入限购数量格式不正确\")\r\n              return\r\n            }\r\n          }\r\n\r\n          if(item.sortNum != 0 && item.sortNum) {\r\n            if(numReg.test(item.sortNum)) {\r\n              if(item.sortNum < 0 || item.sortNum > 299) {\r\n                this.$message(\"排序权重为0 — 299的整数，越大越靠前\")\r\n                return\r\n              }\r\n            }else {\r\n              this.$message(\"排序权重为0 — 299的整数，越大越靠前\")\r\n              return\r\n            }\r\n          }\r\n\r\n          let goodsReqListItem = {\r\n            goodsId: item.goodsId,\r\n            goodsNo: item.goodsNo,\r\n            skuNo: item.skuNo,\r\n            goodsName: item.goodsName,\r\n            // activityGoodsName: item.activityGoodsName,\r\n            preSalePrice: item.preSalePrice,\r\n            price: item.price,\r\n            stock: item.stock,\r\n            limitCount: item.limitCount,\r\n            sortNum: item.sortNum,\r\n            spec: item.spec,\r\n            platformCityGoodsId: item.platformCityGoodsId,\r\n            sfInStock: item.sfInStock\r\n          }\r\n          goodsReqListArr.push(goodsReqListItem)\r\n        }\r\n        if(goodsReqListArr.length === 0) {\r\n          this.$message(\"请先设置活动商品\")\r\n          return\r\n        }\r\n        let params = {\r\n          DIFFCITY: this.addParamMsg.DIFFCITY,\r\n          regionCode: this.addParamMsg.regionCode,\r\n          activityName: this.addParamMsg.activityName,\r\n          presaleType: this.addParamMsg.presaleType,\r\n          startDatetime: this.addParamMsg.startDatetime,\r\n          endDatetime: this.addParamMsg.endDatetime,\r\n          storeNoList: this.addParamMsg.storeNoList,\r\n          activityType: this.addParamMsg.activityType,\r\n          cycleType: this.addParamMsg.cycleType,\r\n          cutoffType: 0,\r\n          cutoffDays: this.addParamMsg.shortCycleType,\r\n          cutoffTime: this.addParamMsg.cutoffTime,\r\n          pickUpType: this.addParamMsg.shortPickUpType,\r\n          goodsReqList: goodsReqListArr\r\n        }\r\n        this.isDisabled = true\r\n        this.$http.post(requestUrl.saveActivity, {...params}).then(res => {\r\n          // 保存按钮可再次点击\r\n          setTimeout(() => {\r\n            this.isDisabled = false\r\n          }, 800)\r\n          if(res.code === 0) {\r\n            this.$message.success(\"保存成功\")\r\n            this.$router.push('/store_act')\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.isDisabled = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [doCancelHandel 取消]\r\n       * @return {[type]} [description]\r\n       */\r\n      doCancelHandel() {\r\n        this.$confirm('确定取消吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push('/store_act')\r\n        }).catch(() => {})\r\n      },\r\n      /**\r\n       * [goAddGoodsDialog 添加商品]\r\n       * @return {[type]} [description]\r\n       */\r\n      goAddGoodsDialog() {\r\n        if(this.$refs.chooseGoods) {\r\n          let _params = {\r\n            title: '选择商品',\r\n            regionCode: this.addParamMsg.regionCode,\r\n            checkedList: this.checkedList\r\n          }\r\n          this.$refs.chooseGoods.setDefault(_params)\r\n        }\r\n      },\r\n      /**\r\n       * [confirmChooseGoods 选中商品并关闭]\r\n       * @param  {[type]} val [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      confirmChooseGoods(val) {\r\n        this.checkedList = val.checkedList || []\r\n      },\r\n      /**\r\n       * [deleteItem 删除]\r\n       * @param  {[type]} _row [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      deleteItem(_row) {\r\n        let platformCityGoodsId = _row.platformCityGoodsId\r\n        let resCheckedListArr = this.checkedList.filter(item => {\r\n          return item.platformCityGoodsId != platformCityGoodsId\r\n        })\r\n\r\n        this.checkedList = JSON.parse(JSON.stringify(resCheckedListArr))\r\n      },\r\n      sortNumHeader() {\r\n        return (\r\n          <el-popover\r\n            placement=\"top-start\"\r\n            trigger=\"hover\"\r\n            content=\"0-299 越大越靠前\">\r\n            <span slot=\"reference\">排序权重<i class=\"el-icon-question\"></i></span>\r\n          </el-popover>\r\n        )\r\n      },\r\n      /**\r\n       * [chooseStoreOpen 选择门店]\r\n       * @return {[type]} [description]\r\n       */\r\n       chooseStoreOpen() {\r\n        let params = {\r\n          platformId: this.addParamMsg.platformId,\r\n          regionCode: this.addParamMsg.regionCode,\r\n          title: '选择门店',\r\n          checkedList: this.activityStoresCheckedList\r\n        }\r\n        this.$refs.chooseStore.setDefault(params)\r\n      },\r\n      /**\r\n       * [deleteItem 删除选中的门店]\r\n       * @param  {[type]} _row [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      deleteStoreItem(_row) {\r\n        let erpStoreNo = _row.erpStoreNo\r\n        this.activityStoresCheckedList = this.activityStoresCheckedList.filter(item => {\r\n          return item.erpStoreNo !== erpStoreNo\r\n        })\r\n      },\r\n      /**\r\n       * [confirmChooseStore 选中的门店]\r\n       * @param  {[type]} value [description]\r\n       * @return {[type]}        [description]\r\n       */\r\n      confirmChooseStore(value) {\r\n        let activityStoresCheckedList = []\r\n        if(value.checkedList && value.checkedList.length) {\r\n          activityStoresCheckedList = value.checkedList\r\n        }else {\r\n          activityStoresCheckedList = []\r\n        }\r\n        this.activityStoresCheckedList = activityStoresCheckedList\r\n      },\r\n      sfInStockHeader() {\r\n        return (\r\n          <el-popover\r\n            placement=\"top-start\"\r\n            width=\"260\"\r\n            trigger=\"hover\">\r\n            <div>\r\n              <p>1、顺丰标品设为顺丰仓现货时，下单会校验仓库库存；</p>\r\n              <p>2、本来鲜生鲜品无需设置；</p>\r\n            </div>\r\n            <span slot=\"reference\">是否为顺丰仓现货<i class=\"el-icon-question\"></i></span>\r\n          </el-popover>\r\n        )\r\n      },\r\n      /**\r\n       * @description: 导入excel后确认框\r\n       * @param {type} \r\n       * @return: \r\n       */\r\n      doConfirmHandel(value) {\r\n        let excelDataList = value.dataList || []\r\n        excelDataList.forEach(item => {\r\n          item.activityType = 41\r\n        })\r\n        this.$http.post(requestUrl.checkPreGoodsInsert, [...excelDataList]).then(res => {\r\n          this.$refs.excelAdd.closeDisabled()\r\n          this.$refs.excelAdd.closeDialog()\r\n          if(res.code === 0) {\r\n            this.hasErrorMsgData = res.data && res.data.length ? res.data : []\r\n            let isOk = this.hasErrorMsgData.some(item => {\r\n              return item.msgType === 1\r\n            })\r\n            if(isOk) {\r\n              this.showTipErrorMsg = true\r\n            }else {\r\n              let checkedListTemp = [...this.checkedList]\r\n              checkedListTemp.forEach(i => {\r\n                this.hasErrorMsgData.forEach(j => {\r\n                  if(i.goodsId === j.goodsId && i.goodsNo === j.goodsNo && i.platformCityGoodsId === j.platformCityGoodsId && i.skuNo === j.skuNo) {\r\n                    i.goodsName = j.goodsName\r\n                    // i.activityGoodsName = j.activityGoodsName\r\n                    i.price = j.price\r\n                    i.preSalePrice = j.preSalePrice\r\n                    i.stock = j.stock\r\n                    i.limitCount = j.limitCount\r\n                    i.sortNum = j.sortNum\r\n                    i.sfInStock = j.sfInStock\r\n                  }\r\n                })\r\n              })\r\n              let hash = {}\r\n              this.checkedList = [...checkedListTemp, ...this.hasErrorMsgData].reduceRight((item, next) => {\r\n                hash[next.platformCityGoodsId] ? '' : hash[next.platformCityGoodsId] = true && item.push(next)\r\n                return item\r\n              }, [])\r\n            }\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.$refs.excelAdd.closeDisabled()\r\n          this.$refs.excelAdd.closeDialog()\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })  \r\n      },\r\n      showExcelBatchInsertDialog() {\r\n        if(this.$refs.excelAdd) {\r\n          let val = {\r\n            title: 'Excel 批量导入',\r\n            tempConfig: this.tempConfig\r\n          }\r\n          this.$refs.excelAdd.setDefaultMsg(val)\r\n        }\r\n      },\r\n      downLoadErrorMsg() {\r\n        let downloadExcelConfig = {...this.tempConfig}\r\n        downloadExcelConfig.msgTypeStr = '验证结果'\r\n        downloadExcelConfig.msg = '失败原因'\r\n        this.hasErrorMsgData.forEach(item => {\r\n          item.msgTypeStr = item.msgType === 1 ? '验证失败' : '验证成功'\r\n        })\r\n        const tHeader = utils.objectToArray(downloadExcelConfig, false)\r\n        const filterVal = utils.objectToArray(downloadExcelConfig, true)\r\n        exportSheet.ExportJsonToExcel({\r\n          header: tHeader,\r\n          filterVal,\r\n          data: this.hasErrorMsgData,\r\n          filename: `Excel批量导入模板`\r\n        })\r\n        setTimeout(() => {\r\n          this.$notify.success({\r\n            title: '温馨提示',\r\n            message: `Excel批量导入模板下载成功`\r\n          })\r\n          this.isDisabled = false\r\n        }, 500)\r\n      }\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/StoreAct/NewUser/AddNewUser.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMsg,\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动类型\",\"required\":\"\"}},[_c('p',{staticStyle:{\"color\":\"#222\",\"font-size\":\"16px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.addParamMsg.activityTypeName))])]),_vm._v(\" \"),_c('region',{staticClass:\"region-wrap\",attrs:{\"className\":\"add-input\",\"label\":\"选择区域\",\"required\":true}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入活动名称\"},model:{value:(_vm.addParamMsg.activityName),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"activityName\", $$v)},expression:\"addParamMsg.activityName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动名称，限制30个字\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"picker-options\":_vm.pickerOptions,\"placeholder\":\"请输入开始时间\"},model:{value:(_vm.addParamMsg.startDatetime),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"startDatetime\", $$v)},expression:\"addParamMsg.startDatetime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动开始时间\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"picker-options\":_vm.pickerOptions,\"placeholder\":\"请输入结束时间\"},model:{value:(_vm.addParamMsg.endDatetime),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"endDatetime\", $$v)},expression:\"addParamMsg.endDatetime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动结束时间\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"截单时间\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input-inline\",attrs:{\"placeholder\":\"截单时间\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.shortCycleType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"shortCycleType\", $$v)},expression:\"addParamMsg.shortCycleType\"}},_vm._l((_vm.shortCircleOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-time-picker',{staticClass:\"add-input-inline\",attrs:{\"placeholder\":\"选择时间\",\"format\":\"HH:mm\",\"value-format\":\"HH:mm\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.cutoffTime),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"cutoffTime\", $$v)},expression:\"addParamMsg.cutoffTime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"每天截单即24小时一个周期，每2天截单即48小时一个周期\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"提货日期\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"placeholder\":\"提货日期\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.shortPickUpType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"shortPickUpType\", $$v)},expression:\"addParamMsg.shortPickUpType\"}},_vm._l((_vm.shortPickUpTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('span',[_vm._v(\"表示一个周期结束后的第二天提货\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"参与门店\",\"required\":\"\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.chooseStoreOpen}},[_vm._v(\"选择门店\")]),_vm._v(\" \"),(_vm.activityStoresCheckedList.length > 0)?_c('div',{staticClass:\"choose-store-table-wrap\"},[_c('el-table',{staticClass:\"fixed-height\",attrs:{\"data\":_vm.activityStoresCheckedList,\"empty-text\":\"暂无选中任何门店\",\"max-height\":\"300\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"220px\",\"label\":\"门店编码/名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n                \"+_vm._s(scope.row.erpStoreNo)+\"_\"+_vm._s(scope.row.erpStoreName)+\"\\n              \")])]}}],null,false,974369925)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"cityName\",\"label\":\"城市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"saleTypeName\",\"label\":\"门店类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteStoreItem(scope.row)}}},[_vm._v(\"删除\")])]}}],null,false,3121094832)})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动商品\",\"required\":\"\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.goAddGoodsDialog}},[_vm._v(\"添加商品\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.showExcelBatchInsertDialog}},[_vm._v(\"Excel批量导入\")]),_vm._v(\" \"),_c('el-table',{staticClass:\"fixed-height choose-goods-wrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.checkedList,\"empty-text\":\"暂无选中任何商品\",\"max-height\":\"560\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"220px\",\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ll-p-m-w\"},[_c('div',{staticClass:\"ll-img-w\"},[(scope.row.imgUrl && scope.row.imgUrl != '')?_c('img',{attrs:{\"src\":scope.row.imgUrl,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}}):_c('img',{attrs:{\"src\":\"/shop/static/img_error.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"ll-p-m-c-r\"},[_c('div',[_vm._v(\"\\n                  \"+_vm._s(scope.row.goodsName || '-')+\"\\n                \")]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo || '--'))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"商品ID：\"+_vm._s(scope.row.platformCityGoodsId || '--'))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"商品编码：\"+_vm._s(scope.row.goodsId || '--'))])])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"spec\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"原价(必填)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入原价\"},model:{value:(scope.row.price),callback:function ($$v) {_vm.$set(scope.row, \"price\", $$v)},expression:\"scope.row.price\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"活动价(必填)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入活动价\"},model:{value:(scope.row.preSalePrice),callback:function ($$v) {_vm.$set(scope.row, \"preSalePrice\", $$v)},expression:\"scope.row.preSalePrice\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"活动库存(选填)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"活动库存\"},model:{value:(scope.row.stock),callback:function ($$v) {_vm.$set(scope.row, \"stock\", $$v)},expression:\"scope.row.stock\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"label\":\"每人限购\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"每人限购\"},model:{value:(scope.row.limitCount),callback:function ($$v) {_vm.$set(scope.row, \"limitCount\", $$v)},expression:\"scope.row.limitCount\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"render-header\":_vm.sortNumHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"排序（0-299越大越靠前）\"},model:{value:(scope.row.sortNum),callback:function ($$v) {_vm.$set(scope.row, \"sortNum\", $$v)},expression:\"scope.row.sortNum\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"190px\",\"render-header\":_vm.sfInStockHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-radio',{attrs:{\"label\":true},model:{value:(scope.row.sfInStock),callback:function ($$v) {_vm.$set(scope.row, \"sfInStock\", $$v)},expression:\"scope.row.sfInStock\"}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":false},model:{value:(scope.row.sfInStock),callback:function ($$v) {_vm.$set(scope.row, \"sfInStock\", $$v)},expression:\"scope.row.sfInStock\"}},[_vm._v(\"否\")])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"align\":\"center\",\"label\":\"操作\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；\\n      \")]),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"活动进行中时新上门店，请在活动商品中发布至门店；\\n      \")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled,\"icon\":_vm.isDisabled ? 'el-icon-loading' : null},on:{\"click\":_vm.doSaveHandel}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('choose-goods',{ref:\"chooseGoods\",on:{\"confirmChooseGoods\":_vm.confirmChooseGoods}}),_vm._v(\" \"),_c('choose-store',{ref:\"chooseStore\",on:{\"confirmChooseStore\":_vm.confirmChooseStore}}),_vm._v(\" \"),_c('excel-add',{ref:\"excelAdd\",on:{\"doConfirmHandel\":_vm.doConfirmHandel}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"批量导入失败\",\"visible\":_vm.showTipErrorMsg,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.showTipErrorMsg=$event}}},[_c('div',[_vm._v(\"\\n      部分商品不符合要求，请按要求修改后再重新导入。\"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":_vm.downLoadErrorMsg}},[_vm._v(\"下载查看失败原因\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.showTipErrorMsg = false}}},[_vm._v(\"关 闭\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-10d572b2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/StoreAct/NewUser/AddNewUser.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-10d572b2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddNewUser.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddNewUser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddNewUser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10d572b2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddNewUser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/StoreAct/NewUser/AddNewUser.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}