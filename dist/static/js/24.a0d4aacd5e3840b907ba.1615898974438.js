webpackJsonp([24],{"4+Nk":function(e,t){},cYTk:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("7dB0"),a=s("PC58"),i=s("Hixw"),o=s("oAV5"),r=s("uO31"),l={components:{"printer-panel":a.a,"print-table":n.a},data:function(){return{settlementNo:this.$route.params.settlementNo||"",storeNo:this.$route.params.storeNo||"",loading:!1,currentTime:Object(o.b)("yyyy-MM-dd HH:mm:ss",(new Date).getTime()),settlement:{},reconciliationVoList:[],chargeVoList:[],invoiceVoList:[],userName:"",reconciliationColumns:[{name:"序号",props:"index"},{name:"订单编号",props:"reserveField1"},{name:"进/退货单号",props:"oldIoOrderNumber"},{name:"类型",props:"ioTypeName"},{name:"结算金额",props:"totalMoney"}],chargeColumns:[{name:"序号",props:"index"},{name:"单号",props:"feeNumber"},{name:"费用类型",props:"feeName"},{name:"费用金额",props:"feeMoney"},{name:"类型",props:"taxReceipt"}],invoiceColumns:[{name:"序号",props:"index"},{name:"开票日期",props:"invoiceTimeDate"},{name:"发票代码",props:"invoiceCode"},{name:"发票号",props:"invoiceNumber"},{name:"价税合计",props:"invoiceMoney"},{name:"税率汇总信息",props:"inTax"}]}},created:function(){this.settlementDetail(),this.userName=this.$storage.get("loginInfo")?this.$storage.get("loginInfo").userNickname||this.$storage.get("loginInfo").userName:""},methods:{windowPrintHandel:function(){this.currentTime=Object(o.b)("yyyy-MM-dd HH:mm:ss",(new Date).getTime()),Object(r.a)(this.$refs.printContent)},settlementDetail:function(){var e=this;this.loading=!0,this.$http.post(i.a.settlementDetail+"/"+this.settlementNo).then(function(t){if(e.loading=!1,0===t.code&&t.data){var s=t.data,n=s.settlement,a=s.purchaseIOOrderDOList,i=s.storeSellList,r=s.feeList,l=s.invoiceList;e.settlement=n;var p=n.cooperationMode;e.reconciliationVoList=1==p?a.map(function(e,t){return e.index=t+1,e}):i.map(function(e,t){return e.index=t+1,e}),e.chargeVoList=r&&r.length>0?r.map(function(e,t){return e.index=t+1,e.taxReceipt=e.taxReceipt?"票扣":"非票扣",e.happenTime=Object(o.b)("yyyy-MM-dd",e.happenTime),e}):[],e.invoiceVoList=l&&l.length>0?l.map(function(e,t){return e.index=t+1,e}):[]}}).catch(function(t){e.loading=!1,e.$tip.notify(t.message||"","error","系统提示")})}}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"print-page"},[s("printer-panel",{attrs:{showDesign:!0,isWebPrint:!0},on:{windowPrint:e.windowPrintHandel}}),e._v(" "),s("div",{ref:"printContent",staticClass:"print-content"},[s("el-row",[s("h2",{staticClass:"suppler"},[e._v("本来鲜科技有限公司结算单")])]),e._v(" "),s("el-row",{staticClass:"mt-10"},[s("h4",{staticClass:"company"},[e._v(e._s(e.settlement.supplierName))])]),e._v(" "),s("el-row",{staticClass:"mt-10"},[s("el-col",{attrs:{span:6}},[e._v("结算单号："+e._s(e.settlementNo))]),e._v(" "),s("el-col",{attrs:{span:6}},[e._v("账期："+e._s(e.settlement.settlementStartDate)+"至"+e._s(e.settlement.settlementEndDate))]),e._v(" "),s("el-col",{attrs:{span:6}},[e._v("应结算日："+e._s(e.settlement.settlementEndDate))]),e._v(" "),s("el-col",{attrs:{span:6}},[e._v("单据状态："+e._s(e.settlement.statusName))]),e._v(" "),s("el-col",{attrs:{span:6}},[e._v("应结金额：￥"+e._s(e.settlement.shouldPay))]),e._v(" "),s("el-col",{attrs:{span:6}},[e._v("应开票金额：￥"+e._s(e.settlement.shoudInvoiceMoney))]),e._v(" "),s("el-col",{attrs:{span:6}},[e._v("已开票金额：￥"+e._s(e.settlement.havedInvoiceMoney))]),e._v(" "),s("el-col",{attrs:{span:24}},[e._v("备注："+e._s(e.settlement.remark))])],1),e._v(" "),s("div",{staticClass:"mt-20"},[e._v("单据：")]),e._v(" "),s("print-table",{staticClass:"print-table",attrs:{pages:!1,propsList:e.reconciliationColumns,tableData:e.reconciliationVoList}}),e._v(" "),s("div",{staticClass:"mt-10"},[e._v("其他费用：")]),e._v(" "),s("print-table",{staticClass:"print-table",attrs:{pages:!1,propsList:e.chargeColumns,tableData:e.chargeVoList}}),e._v(" "),s("div",{staticClass:"mt-10"},[e._v("发票明细：")]),e._v(" "),s("print-table",{staticClass:"print-table",attrs:{pages:!1,propsList:e.invoiceColumns,tableData:e.invoiceVoList}}),e._v(" "),s("el-row",{staticClass:"mt-10"},[s("el-col",{attrs:{span:6}},[e._v("打印人:"+e._s(e.userName)+" ")]),e._v(" "),s("el-col",{attrs:{span:6}},[e._v("打印时间:"+e._s(e.currentTime))])],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(l,p,!1,function(e){s("4+Nk")},"data-v-4c95e0f0",null);t.default=c.exports}});
//# sourceMappingURL=24.a0d4aacd5e3840b907ba.1615898974438.js.map