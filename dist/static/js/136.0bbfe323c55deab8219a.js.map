{"version":3,"sources":["webpack:///src/components/Activity/DisCoupon/Add/AddScanCode.vue","webpack:///./src/components/Activity/DisCoupon/Add/AddScanCode.vue?6eec","webpack:///./src/components/Activity/DisCoupon/Add/AddScanCode.vue"],"names":["reqUrl","AddScanCode","data","isDisabled","addParamMesg","triggerType","triggerTypeName","cardType","title","beginTime","endTime","triggerTimesType","baseWinPromRate","winRatePromReqs","consumeAmount","winRate","scanPromCountType","limitCount","triggerTypeList","value","label","triggerTimesTypeRadio","scanPromCountTypeOptions","setDisableTime","disabledDate","time","getTime","Date","now","created","this","triggerTypeChange","mounted","components","store-template","TemplateStore","prom-type-template","TemplatePromType","methods","_val","triggerTimesTypeRadioOpt","changeStore","val","key","changePromType","promReqs","plusDiscountAdjus","push","minusDiscountAdjus","_idx","splice","formattData","_this","countReg","countRegtofixed","$message","length","utils","newRegister","test","winRatePromReqsArr","i","j","timesType","triggerIntervalDays","useType","undefined","useBeginTime","useEndTime","useDayCount","disCount","disIsnull","promDiscounts","forEach","item","goodCount","goodIsnull","sumNum","every","meetAmount","discAmount","parseInt","winPromRate","sendPromCount","needPayAmount","goodsNo","productQtyLimit","doSaveHandel","_this2","$set","$http","post","extends_default","then","res","setTimeout","code","success","$router","Error","msg","catch","e","$notify","error","message","doCancelHandel","_this3","$confirm","confirmButtonText","cancelButtonText","type","Add_AddScanCode","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","required","size","placeholder","on","change","callback","$$v","expression","_l","_v","clearable","picker-options","slot","trim","index","click","$event","_e","_s","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/136.0bbfe323c55deab8219a.js","sourcesContent":["<style>\r\n.coupon-input{\r\n  width: 80px !important;\r\n}\r\n.coupon-input .el-input__inner,\r\n.coupon-input .el-input-group__append{\r\n  padding: 0 8px;\r\n}\r\n.prom-reqs .el-form-item__content .el-input-group{\r\n  vertical-align: middle;\r\n}\r\n.push-remove {\r\n  font-size: 18px;\r\n  margin-left: 10px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n<template>\r\n  <div>\r\n    <div class=\"add-form-wraper prom-reqs\">\r\n      <el-form ref=\"form\" :model=\"addParamMesg\" label-width=\"140px\">\r\n        <el-form-item label=\"活动类型\" required>\r\n          <el-select size=\"small\" class=\"add-input\" v-model=\"addParamMesg.triggerType\" placeholder=\"请选择\" @change=\"triggerTypeChange\">\r\n            <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in triggerTypeList\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动名称\" required>\r\n          <el-input v-model=\"addParamMesg.title\" size=\"small\" class=\"add-input\" placeholder=\"请输入活动名称\" clearable></el-input>\r\n          <span>活动名称,限制30个汉字</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动开始日期\" required>\r\n          <el-date-picker\r\n            class=\"add-input\"\r\n            v-model=\"addParamMesg.beginTime\"\r\n            type=\"date\"\r\n            placeholder=\"请选择活动开始日期\"\r\n            :picker-options=\"setDisableTime\"\r\n            size=\"small\">\r\n          </el-date-picker>\r\n          <span>活动开始日期</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"活动结束日期\" required>\r\n          <el-date-picker\r\n            class=\"add-input\"\r\n            v-model=\"addParamMesg.endTime\"\r\n            type=\"date\"\r\n            placeholder=\"请选择活动结束日期\"\r\n            :picker-options=\"setDisableTime\"\r\n            size=\"small\">\r\n          </el-date-picker>\r\n          <span>活动结束日期</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"设置条件\">\r\n          <div>\r\n            客户中奖概率：\r\n            <el-input class=\"coupon-input\" size=\"small\" v-model=\"addParamMesg.baseWinPromRate\">\r\n              <template slot=\"append\">%</template>\r\n            </el-input>\r\n          </div>\r\n          <div v-if=\"addParamMesg.triggerType === 81\">\r\n            <el-select size=\"small\" class=\"search-input\" v-model.trim=\"addParamMesg.scanPromCountType\">\r\n              <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in scanPromCountTypeOptions\"></el-option>\r\n            </el-select>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;共\r\n            <el-input class=\"coupon-input\" size=\"small\" v-model=\"addParamMesg.limitCount\">\r\n              <template slot=\"append\">次</template>\r\n            </el-input>\r\n          </div>\r\n          <div v-else-if=\"addParamMesg.triggerType === 82\" v-for=\"(item, index) in addParamMesg.winRatePromReqs\"  :key=\"index\">\r\n            单笔门店消费：\r\n            <el-input class=\"coupon-input\" size=\"small\" v-model=\"item.consumeAmount\">\r\n              <template slot=\"append\">元</template>\r\n            </el-input>\r\n            &nbsp;&nbsp;&nbsp;&nbsp;\r\n            中奖概率：\r\n            <el-input class=\"coupon-input\" size=\"small\" v-model=\"item.winRate\">\r\n              <template slot=\"append\">%</template>\r\n            </el-input>\r\n            <i class=\"push-remove el-icon-circle-plus\" @click=\"plusDiscountAdjus\"></i>\r\n            <i class=\"push-remove el-icon-remove\" v-if=\"addParamMesg.winRatePromReqs.length > 1\" @click=\"minusDiscountAdjus(index)\"></i>\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"客户开奖频率\">\r\n          <el-radio-group v-model=\"addParamMesg.triggerTimesType\">\r\n            <el-radio \r\n              v-for=\"item in triggerTimesTypeRadio\"\r\n              :key=\"item.value\"\r\n              :label=\"item.value\">\r\n              {{item.label}}\r\n            </el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!-- 门店 -->\r\n        <store-template @changeStore=\"changeStore\"></store-template>\r\n        <!-- 卡券形式 满减券 商品券 -->\r\n        <prom-type-template @changePromType=\"changePromType\" :triggerType=\"addParamMesg.triggerType\"></prom-type-template>\r\n\r\n        <el-form-item>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel\" :disabled=\"isDisabled\">保存</el-button>\r\n          <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import * as utils from '@/utils/utils'\r\n  import TemplateStore from \"../AddTemplate/TemplateStore\"\r\n  import TemplatePromType from \"../AddTemplate/TemplatePromType\"\r\n  const reqUrl = {\r\n    // 新增活动规则\r\n    batchAddProm: \"/member/erp/prom/batchAddProm\"\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        isDisabled: false,\r\n        addParamMesg: {\r\n          triggerType: '',\r\n          triggerTypeName: '扫码领券',\r\n          cardType: 2,\r\n          title: '',\r\n          beginTime: '',\r\n          endTime: '',\r\n          triggerTimesType: 0, // 设置次数（类型），扫码指是客户开奖频率：0：无限制，1：整个活动只发放一次 ，2：每天一次，3：每周一次；\r\n          baseWinPromRate: '', // 扫码送券，活动基础中奖概率\r\n          // 扫码送券，消费中券概率关系\r\n          winRatePromReqs: [\r\n            {\r\n              consumeAmount: '',\r\n              winRate: ''\r\n            }\r\n          ],\r\n          // 扫码送券，可扫限制频率，1-每天，2-总活动\r\n          scanPromCountType: 1,\r\n          // 扫码送券，可扫限制频率对应次数\r\n          limitCount: ''\r\n        },\r\n        triggerTypeList: [\r\n          {\r\n            value: 81,\r\n            label: '扫码送券'\r\n          },\r\n          {\r\n            value: 82,\r\n            label: '扫码消费送券'\r\n          }\r\n        ],\r\n        triggerTimesTypeRadio: [\r\n          {\r\n            value: 1, \r\n            label: '整个活动只发放一次'\r\n          },\r\n          {\r\n            value: 2, \r\n            label: '每天一次'\r\n          },\r\n          {\r\n            value: 3, \r\n            label: '每周一次'\r\n          }\r\n        ],\r\n        scanPromCountTypeOptions: [\r\n          {\r\n            value: 1,\r\n            label: '每天可扫数量'\r\n          },\r\n          {\r\n            value: 2,\r\n            label: '活动总可扫数量'\r\n          }\r\n        ],\r\n        setDisableTime: {\r\n          disabledDate(time) {\r\n            return time.getTime() < Date.now() - 8.64e7;\r\n          }\r\n        }\r\n        \r\n      }\r\n    },\r\n    created() {\r\n      this.triggerTypeChange(81)\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n    components: {\r\n      \"store-template\": TemplateStore,\r\n      \"prom-type-template\": TemplatePromType\r\n    },\r\n    methods: {\r\n      triggerTypeChange(_val) {\r\n        let triggerTimesTypeRadioOpt= []\r\n        let triggerType = _val\r\n        if(triggerType === 81) {\r\n          this.addParamMesg.triggerTimesType = 1\r\n          triggerTimesTypeRadioOpt = [\r\n            {\r\n              value: 1, \r\n              label: '整个活动只发放一次'\r\n            },\r\n            {\r\n              value: 2, \r\n              label: '每天一次'\r\n            },\r\n            {\r\n              value: 3, \r\n              label: '每周一次'\r\n            }\r\n          ]\r\n        }else if(triggerType === 82) {\r\n          this.addParamMesg.triggerTimesType = 0\r\n          triggerTimesTypeRadioOpt = [\r\n            {\r\n              value: 0, \r\n              label: '无限制'\r\n            },\r\n            {\r\n              value: 1, \r\n              label: '整个活动只发放一次'\r\n            },\r\n            {\r\n              value: 2, \r\n              label: '每天一次'\r\n            },\r\n            {\r\n              value: 3, \r\n              label: '每周一次'\r\n            }\r\n          ]\r\n        }\r\n        this.triggerTimesTypeRadio = triggerTimesTypeRadioOpt\r\n      },\r\n      changeStore(val) {\r\n        // 传值\r\n        if(val) {\r\n          for(let key in val) {\r\n            this.addParamMesg[key] = val[key]\r\n          }\r\n        }\r\n      },\r\n      changePromType(val) {\r\n        this.addParamMesg.promReqs = val\r\n      },\r\n      plusDiscountAdjus() {\r\n        let item = {\r\n          consumeAmount: '',\r\n          winRate: ''\r\n        }\r\n        this.addParamMesg.winRatePromReqs.push(item)\r\n      },\r\n      minusDiscountAdjus(_idx) {\r\n        this.addParamMesg.winRatePromReqs.splice(_idx, 1)\r\n      },\r\n      /**\r\n       * [formattData 数据格式化]\r\n       * @return {[type]} [description]\r\n       */\r\n      formattData() {\r\n        let countReg = /^\\+?[1-9][0-9]*$/;\r\n        let countRegtofixed = /(^[1-9]{1}[0-9]*$)|(^[0-9]*\\.[0-9]{1}$)|(^[0-9]*\\.[0-9]{2}$)/\r\n        // 活动名称 日期\r\n        if(!this.addParamMesg.title) {\r\n          this.$message(\"请输入活动名称\")\r\n          return false\r\n        }else if(this.addParamMesg.title.length > 30) {\r\n          this.$message(\"活动名称限制30个汉字\")\r\n          return false\r\n        }\r\n        if(this.addParamMesg.beginTime == \"\") {\r\n          this.$message(\"请选择活动开始日期\")\r\n          return false\r\n        }else {\r\n          this.addParamMesg.beginTime = utils.timestampToTimeNoHMS(new Date(this.addParamMesg.beginTime).getTime()) + ' 00:00:00'\r\n        }\r\n        if(this.addParamMesg.endTime == \"\") {\r\n          this.$message(\"请选择活动结束日期\")\r\n          return false\r\n        }else {\r\n          this.addParamMesg.endTime = utils.timestampToTimeNoHMS(new Date(this.addParamMesg.endTime).getTime()) + ' 23:59:59'\r\n        }\r\n        if(new Date(this.addParamMesg.endTime).getTime() <= new Date(this.addParamMesg.beginTime).getTime()) {\r\n          this.$message(\"活动结束日期不能早于或等于开始日期\")\r\n          return false\r\n        }\r\n        // 新老会员\r\n        this.addParamMesg.newRegister = (this.addParamMesg.newRegister === true ? 1 : null)\r\n\r\n        if(this.addParamMesg.triggerType === 81 || this.addParamMesg.triggerType === 82) {\r\n          if(!this.addParamMesg.baseWinPromRate) {\r\n            this.$message(\"请输入客户中奖概率\")\r\n            return false\r\n          }else {\r\n            if(!countReg.test(this.addParamMesg.baseWinPromRate)) {\r\n              this.$message(\"客户中奖概率为大于0小于100的正整数\")\r\n              return false\r\n            }else {\r\n              if(this.addParamMesg.baseWinPromRate > 100) {\r\n                this.$message(\"客户中奖概率为大于0小于100的正整数\")\r\n                return false\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        if(this.addParamMesg.triggerType === 81) {\r\n          if(!this.addParamMesg.limitCount) {\r\n            this.$message(\"请输入设置条件中的次数\")\r\n            return false\r\n          }else {\r\n            if(!countReg.test(this.addParamMesg.limitCount)) {\r\n              this.$message(\"设置条件中的次数为大于0的正整数\")\r\n              return false\r\n            }\r\n          }\r\n        }\r\n\r\n        if(this.addParamMesg.triggerType === 82) {\r\n          let winRatePromReqsArr = this.addParamMesg.winRatePromReqs\r\n          for(let i=0; i<winRatePromReqsArr.length; i++) {\r\n            if(!winRatePromReqsArr[i].consumeAmount || !winRatePromReqsArr[i].winRate) {\r\n              this.$message(\"请输入单笔门店消费金额和中奖概率\")\r\n              return false\r\n            }else {\r\n              if(!countReg.test(winRatePromReqsArr[i].consumeAmount)) {\r\n                this.$message(\"单笔门店消费金额不允许重复，金额为正整数\")\r\n                return false\r\n              }\r\n              if(!countReg.test(winRatePromReqsArr[i].winRate)) {\r\n                this.$message(\"中奖概率为大于0小于100的正整数\")\r\n                return false\r\n              }else {\r\n                if(winRatePromReqsArr[i].winRate > 100) {\r\n                  this.$message(\"中奖概率为大于0小于100的正整数\")\r\n                  return false\r\n                }\r\n              }\r\n            }\r\n\r\n            for(let j=0; j<this.addParamMesg.winRatePromReqs.length; j++) {\r\n              if(i !== j) {\r\n                if(winRatePromReqsArr[i].consumeAmount === winRatePromReqsArr[j].consumeAmount) {\r\n                  this.$message(\"单笔门店消费金额不允许重复，金额为正整数\")\r\n                  return false\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        if(this.addParamMesg.triggerTimesType === \"\" ) {\r\n          this.$message(\"请选择发放频率\")\r\n          return false\r\n        }\r\n        let timesType = this.addParamMesg.triggerTimesType \r\n        if(timesType === 2) {\r\n          this.addParamMesg.triggerIntervalDays = 1\r\n        }else if(timesType === 3) {\r\n          this.addParamMesg.triggerIntervalDays = 7\r\n        }\r\n\r\n        // 卡券有效时间\r\n        if(this.addParamMesg.useType === \"\" || this.addParamMesg.useType === undefined) {\r\n          this.$message(\"请选择卡券有效时间\")\r\n          return false\r\n        }else if(this.addParamMesg.useType === 1) {\r\n          if(this.addParamMesg.useBeginTime == \"\") {\r\n            this.$message(\"请选择卡券有效开始日期\")\r\n            return false\r\n          }else {\r\n            this.addParamMesg.useBeginTime = utils.timestampToTimeNoHMS(new Date(this.addParamMesg.useBeginTime).getTime()) + ' 00:00:00'\r\n          }\r\n          if(this.addParamMesg.useEndTime == \"\") {\r\n            this.$message(\"请选择卡券有效结束日期\")\r\n            return false\r\n          }else {\r\n            this.addParamMesg.useEndTime = utils.timestampToTimeNoHMS(new Date(this.addParamMesg.useEndTime).getTime()) + ' 23:59:59'\r\n          }\r\n          if(new Date(this.addParamMesg.useEndTime).getTime() <= new Date(this.addParamMesg.useBeginTime).getTime()) {\r\n            this.$message(\"卡券有效结束日期不能早于或等于开始日期\")\r\n            return false\r\n          }\r\n          if(new Date(this.addParamMesg.useEndTime).getTime() < new Date(this.addParamMesg.endTime).getTime()) {\r\n            this.$message(\"卡券有效结束日期不能早于活动结束时间\")\r\n            return false\r\n          }\r\n          delete this.addParamMesg['useDayCount']\r\n        }else if(this.addParamMesg.useType === 2) {\r\n          if(this.addParamMesg.useDayCount == \"\") {\r\n            this.$message(\"卡券有效使用天数不能为空\")\r\n            return false\r\n          }\r\n          if(countReg.test(this.addParamMesg.useDayCount) == false) {\r\n            this.$message(\"卡券有效使用天数为大于零的整数\");\r\n            return false\r\n          }\r\n          delete this.addParamMesg['useBeginTime']\r\n          delete this.addParamMesg['useEndTime']\r\n        }\r\n\r\n        // 满减券\r\n        let disCount = this.addParamMesg.promReqs[0]\r\n        let disIsnull = true\r\n        if(disCount && disCount.promDiscounts && disCount.promDiscounts.length > 0) {\r\n          disCount.promDiscounts.forEach(item => {\r\n            for(let key in item) {\r\n              if((key == 'discAmount' || key == 'meetAmount' || key == 'winPromRate') && item[key] != '') {\r\n                disIsnull = false\r\n              }\r\n            }        \r\n          })\r\n        }\r\n        // 商品券\r\n        let goodCount = this.addParamMesg.promReqs[1]\r\n        let goodIsnull = true\r\n        if(goodCount && goodCount.promDiscounts && goodCount.promDiscounts.length > 0) {\r\n          goodCount.promDiscounts.forEach(item => {\r\n            for(let key in item) {\r\n              if((key == 'range' || key == 'goodsType' || key == 'needPayAmount' || key == 'goodsNo' || key == 'winPromRate') && item[key] != '') {\r\n                goodIsnull = false\r\n              }\r\n            }        \r\n          })\r\n        }\r\n        let sumNum = 0\r\n        \r\n        if(disIsnull && goodIsnull) {\r\n          this.$message('请设置满减券卡券奖励')\r\n          return false\r\n        }\r\n        if(disIsnull == false) {\r\n          let dis = disCount && disCount.promDiscounts ? disCount.promDiscounts.every(item => {\r\n            if(item.meetAmount == '' || item.discAmount == '') {\r\n              this.$message(\"满减券卡券奖励-满减金额或张数不能为空\");\r\n              return false\r\n            }else if(countRegtofixed.test(item.meetAmount) === false || countRegtofixed.test(item.discAmount) === false) {\r\n              this.$message(\"满减券卡券奖励-满减金额大于零的数字，允许输入两位小数\");\r\n              return false\r\n            }else if(parseInt(item.meetAmount) < parseInt(item.discAmount)) {\r\n              this.$message(\"满减券卡券奖励-减金额不能大于满金额\");\r\n              return false\r\n            }\r\n            \r\n            if(!item.winPromRate) {\r\n              this.$message(\"请输入满减券卡券奖励-获得该券概率\")\r\n              return false\r\n            }else {\r\n              if(!countReg.test(item.winPromRate)) {\r\n                this.$message(\"满减券卡券奖励-获得该券概率为大于0小于100的正整数\")\r\n                return false\r\n              }else {\r\n                if(item.winPromRate > 100) {\r\n                  this.$message(\"满减券卡券奖励-获得该券概率为大于0小于100的正整数\")\r\n                  return false\r\n                }\r\n              }\r\n            }\r\n            item.sendPromCount = 1\r\n            sumNum += parseInt(item.winPromRate)\r\n            return true\r\n          }) : false\r\n          if(dis == false) {\r\n            return false\r\n          }\r\n        }\r\n        if(goodIsnull == false) {\r\n          let good = goodCount && goodCount.promDiscounts ? goodCount.promDiscounts.every(item => {\r\n            if(item.needPayAmount == '' || item.needPayAmount == undefined) {\r\n              this.$message('商品券卡券奖励-商品应付价格不能为空')\r\n              return false\r\n            }else {\r\n              if(item.needPayAmount != 0 && !countRegtofixed.test(item.needPayAmount)) {\r\n                this.$message('商品券卡券奖励-商品应付价格输入大于等于0的数字，允许输入一位小数。')\r\n                return false\r\n              }\r\n            }\r\n            if(item.goodsNo == '' || item.goodsNo == undefined) {\r\n              this.$message('商品券卡券奖励-请选择商品')\r\n              return false\r\n            }\r\n            if(item.productQtyLimit == '' || item.productQtyLimit == undefined) {\r\n              this.$message('商品券卡券奖励-请输入选择商品数量小于等于的值')\r\n              return false\r\n            }else {\r\n              if(!countReg.test(item.productQtyLimit)) {\r\n                this.$message('商品券卡券奖励-选择商品数量小于等于的值格式不对，为大于零的整数')\r\n                return false\r\n              }\r\n            }\r\n\r\n            if(!item.winPromRate) {\r\n              this.$message(\"请输入商品券卡券奖励-获得该券概率\")\r\n              return false\r\n            }else {\r\n              if(!countReg.test(item.winPromRate)) {\r\n                this.$message(\"商品券卡券奖励-获得该券概率为大于0小于100的正整数\")\r\n                return false\r\n              }else {\r\n                if(item.winPromRate > 100) {\r\n                  this.$message(\"商品券卡券奖励-获得该券概率为大于0小于100的正整数\")\r\n                  return false\r\n                }\r\n              }\r\n            }\r\n            item.sendPromCount = 1\r\n            sumNum += parseInt(item.winPromRate)\r\n            return true\r\n          }) : false\r\n          if(good == false) {\r\n            return false\r\n          }\r\n        }\r\n        if(sumNum > 100) {\r\n          this.$message(\"卡券奖励-获得卡券概率总和不能大于100%\")\r\n          return false\r\n        }\r\n        // 删除空的满减券或者商品券\r\n        if(disIsnull == true) {\r\n          this.addParamMesg.promReqs.splice(0,1)\r\n        }\r\n        if(goodIsnull == true) {\r\n          this.addParamMesg.promReqs.splice(1,1)\r\n        }\r\n        return true\r\n      },\r\n      /**\r\n       * [doSaveHandel 保存]\r\n       * @return {[type]} [description]\r\n       */\r\n      doSaveHandel() {\r\n        if(this.formattData() === false) {\r\n          return\r\n        }\r\n        // 商品类型传3、4、5\r\n        if(this.addParamMesg.promReqs[0]) {\r\n          this.$set(this.addParamMesg.promReqs[0], 'onlineGoodsType', '3;4;5')\r\n        }\r\n        if(this.addParamMesg.promReqs[1]) {\r\n          this.$set(this.addParamMesg.promReqs[1], 'onlineGoodsType', '3;4;5')\r\n        }\r\n        this.isDisabled = true\r\n        this.$http.post(reqUrl.batchAddProm, {...this.addParamMesg}).then(res => {\r\n          // 保存按钮可再次点击\r\n          setTimeout(() => {\r\n            this.isDisabled = false\r\n          }, 800)\r\n          if(res.code === 0) {\r\n            this.$message.success(\"保存成功\")\r\n            this.$router.push('/discount_coupon')\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.isDisabled = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      doCancelHandel() {\r\n        this.$confirm('确定取消吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push('/discount_coupon')\r\n        }).catch(() => {})\r\n      }\r\n    }\r\n    \r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/DisCoupon/Add/AddScanCode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"add-form-wraper prom-reqs\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMesg,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动类型\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},on:{\"change\":_vm.triggerTypeChange},model:{value:(_vm.addParamMesg.triggerType),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"triggerType\", $$v)},expression:\"addParamMesg.triggerType\"}},_vm._l((_vm.triggerTypeList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入活动名称\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.title),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"title\", $$v)},expression:\"addParamMesg.title\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动名称,限制30个汉字\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动开始日期\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"type\":\"date\",\"placeholder\":\"请选择活动开始日期\",\"picker-options\":_vm.setDisableTime,\"size\":\"small\"},model:{value:(_vm.addParamMesg.beginTime),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"beginTime\", $$v)},expression:\"addParamMesg.beginTime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动开始日期\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动结束日期\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"type\":\"date\",\"placeholder\":\"请选择活动结束日期\",\"picker-options\":_vm.setDisableTime,\"size\":\"small\"},model:{value:(_vm.addParamMesg.endTime),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"endTime\", $$v)},expression:\"addParamMesg.endTime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动结束日期\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设置条件\"}},[_c('div',[_vm._v(\"\\n          客户中奖概率：\\n          \"),_c('el-input',{staticClass:\"coupon-input\",attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMesg.baseWinPromRate),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"baseWinPromRate\", $$v)},expression:\"addParamMesg.baseWinPromRate\"}},[_c('template',{slot:\"append\"},[_vm._v(\"%\")])],2)],1),_vm._v(\" \"),(_vm.addParamMesg.triggerType === 81)?_c('div',[_c('el-select',{staticClass:\"search-input\",attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMesg.scanPromCountType),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"scanPromCountType\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addParamMesg.scanPromCountType\"}},_vm._l((_vm.scanPromCountTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\"\\n              共\\n          \"),_c('el-input',{staticClass:\"coupon-input\",attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMesg.limitCount),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"limitCount\", $$v)},expression:\"addParamMesg.limitCount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"次\")])],2)],1):(_vm.addParamMesg.triggerType === 82)?_vm._l((_vm.addParamMesg.winRatePromReqs),function(item,index){return _c('div',{key:index},[_vm._v(\"\\n          单笔门店消费：\\n          \"),_c('el-input',{staticClass:\"coupon-input\",attrs:{\"size\":\"small\"},model:{value:(item.consumeAmount),callback:function ($$v) {_vm.$set(item, \"consumeAmount\", $$v)},expression:\"item.consumeAmount\"}},[_c('template',{slot:\"append\"},[_vm._v(\"元\")])],2),_vm._v(\"\\n              \\n          中奖概率：\\n          \"),_c('el-input',{staticClass:\"coupon-input\",attrs:{\"size\":\"small\"},model:{value:(item.winRate),callback:function ($$v) {_vm.$set(item, \"winRate\", $$v)},expression:\"item.winRate\"}},[_c('template',{slot:\"append\"},[_vm._v(\"%\")])],2),_vm._v(\" \"),_c('i',{staticClass:\"push-remove el-icon-circle-plus\",on:{\"click\":_vm.plusDiscountAdjus}}),_vm._v(\" \"),(_vm.addParamMesg.winRatePromReqs.length > 1)?_c('i',{staticClass:\"push-remove el-icon-remove\",on:{\"click\":function($event){return _vm.minusDiscountAdjus(index)}}}):_vm._e()],1)}):_vm._e()],2),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"客户开奖频率\"}},[_c('el-radio-group',{model:{value:(_vm.addParamMesg.triggerTimesType),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"triggerTimesType\", $$v)},expression:\"addParamMesg.triggerTimesType\"}},_vm._l((_vm.triggerTimesTypeRadio),function(item){return _c('el-radio',{key:item.value,attrs:{\"label\":item.value}},[_vm._v(\"\\n            \"+_vm._s(item.label)+\"\\n          \")])}),1)],1),_vm._v(\" \"),_c('store-template',{on:{\"changeStore\":_vm.changeStore}}),_vm._v(\" \"),_c('prom-type-template',{attrs:{\"triggerType\":_vm.addParamMesg.triggerType},on:{\"changePromType\":_vm.changePromType}}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled},on:{\"click\":_vm.doSaveHandel}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-149e48ea\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/DisCoupon/Add/AddScanCode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-149e48ea\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddScanCode.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddScanCode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddScanCode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-149e48ea\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddScanCode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/DisCoupon/Add/AddScanCode.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}