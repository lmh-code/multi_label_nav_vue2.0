{"version":3,"sources":["webpack:///src/components/Activity/Presale/PresaleAct/AddPresaleAct.vue","webpack:///./src/components/Activity/Presale/PresaleAct/AddPresaleAct.vue?8f5c","webpack:///./src/components/Activity/Presale/PresaleAct/AddPresaleAct.vue"],"names":["numReg","salePriceReg","fileUrlList","requestUrl","AddPresaleAct","data","isDisabled","addParamMsg","platformId","DIFFCITY","regionCode","localStorage","get","activityName","startDatetime","endDatetime","activityType","presaleType","cycleType","shortCycleType","longCycleType","cutoffTime","shortPickUpType","longPickUpType","pickUpStartDate","pickUpEndDate","goodsReqList","storeNoList","shortCircleOptions","label","value","shortPickUpTypeOptions","longCycleOptions","pickerOptions","disabledDate","time","getTime","Date","now","checkedList","imageUploadLoading","currentUpFileIdx","activityStoresCheckedList","tempConfig","platformCityGoodsId","goodsNo","skuNo","goodsName","price","preSalePrice","platformCurStock","stock","limitCount","sortNum","sfInStockStr","showTipErrorMsg","hasErrorMsgData","components","excel-add","AddByExcel","choose-goods","ChooseGoods","choose-store","ChooseStore","region","Region","methods","_methods","doSaveHandel","_this","this","length","$message","startDatetimeNum","utils","endDatetimeNum","parseInt","map","item","erpStoreNo","goodsReqListArr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","test","parseFloat","goodsReqListItem","preSaleImageUrl","goodsId","spec","sfInStock","push","err","return","params","cutoffType","cutoffDays","pickUpType","pickUpStartDatetime","$http","post","extends_default","then","res","setTimeout","code","success","$router","Error","msg","catch","e","$notify","error","title","message","doCancelHandel","_this2","$confirm","confirmButtonText","cancelButtonText","type","goAddGoodsDialog","$refs","chooseGoods","_params","setDefault","confirmChooseGoods","val","deleteItem","_row","resCheckedListArr","filter","JSON","parse","stringify_default","setItemIdx","idx","emitUpload","_this3","getToken","qiniu_min","file","fileName","token","subscribe","complete","urlImage","key","checkedListArr","concat","toConsumableArray_default","forEach","imageUploadReg","isPic","indexOf","isJPG","isSizeNum","size","_this4","platformCurStockHeader","h","$createElement","attrs","placement","width","trigger","slot","class","limitCountHeader","content","sortNumHeader","sfInStockHeader","defineProperty_default","chooseStore","_this5","excelDataList","dataList","excelAdd","closeDisabled","closeDialog","some","msgType","checkedListTemp","i","j","hash","reduceRight","setDefaultMsg","_this6","downloadExcelConfig","msgTypeStr","tHeader","filterVal","exportExcel","ExportJsonToExcel","header","filename","PresaleAct_AddPresaleAct","render","_vm","_h","_c","_self","staticClass","ref","model","label-width","className","required","_v","placeholder","callback","$$v","$set","expression","_e","format","value-format","picker-options","_l","icon","on","click","chooseStoreOpen","empty-text","max-height","min-width","scopedSlots","_u","fn","scope","_s","row","erpStoreName","prop","align","$event","deleteStoreItem","showExcelBatchInsertDialog","staticStyle","color","action","show-file-list","before-upload","http-request","directives","name","rawName","src","render-header","fixed","disabled","confirmChooseStore","doConfirmHandel","visible","close-on-click-modal","close-on-press-escape","update:visible","downLoadErrorMsg","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/41.0990b78615df437465e4.js","sourcesContent":["<style>\n  @import \"../../../../../static/style/file_upload.css\";\n  .ll-p-m-w {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n  }\n  .ll-img-w {\n    width: 60px;\n    height: 60px;\n  }\n  .ll-img-w>img {\n    width: 60px;\n  }\n  .ll-p-m-c-r {\n    padding: 0 10px;\n  }\n  .ll-erp-p-no {\n    color: #666;\n    font-size: 12px;\n  }\n  .c-g-sfw {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n  }\n\n  .choose-store-table-wrap {\n    width: 500px;\n    border: 1px solid #ececec;\n    border-radius: 4px;\n  }\n  .choose-goods-wrap {\n    border: 1px solid #ececec;\n    border-radius: 4px;\n  }\n</style>\n\n<template>\n  <div class=\"add-form-wraper\">\n    <el-form ref=\"form\" :model=\"addParamMsg\" label-width=\"160px\">\n      <region class=\"region-wrap\" className=\"add-input\" label=\"选择区域\" :required=\"true\"></region>\n      <el-form-item label=\"预售活动名称\" required>\n        <el-input v-model=\"addParamMsg.activityName\" size=\"small\" class=\"add-input\" placeholder=\"请输入预售活动名称\"></el-input>\n        <span>活动名称，限制20个字</span>\n      </el-form-item>\n\n      <el-form-item label=\"预售类型\" required>\n        <div><el-radio v-model=\"addParamMsg.presaleType\" :label=\"2\">周期预售（起止时间周期性提货，适用于今订明取，或每周固定周几提）</el-radio></div> \n        <div><el-radio v-model=\"addParamMsg.presaleType\" :label=\"1\">单期预售（结束后，一次性提货，适用于未上市商品，提前预售）</el-radio></div> \n      </el-form-item>\n      \n      <el-form-item label=\"周期类型\" required v-if=\"addParamMsg.presaleType == 2\">\n        <el-radio v-model=\"addParamMsg.cycleType\" :label=\"1\">短周期（隔1-2日提）</el-radio>\n        <el-radio v-model=\"addParamMsg.cycleType\" :label=\"2\">长周期（固定每周提）</el-radio>\n      </el-form-item>\n\n      <el-form-item label=\"开始时间\" required>\n        <el-date-picker\n          class=\"add-input\"\n          size=\"small\"\n          v-model=\"addParamMsg.startDatetime\"\n          type=\"datetime\"\n          format=\"yyyy-MM-dd HH:mm:ss\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          :picker-options=\"pickerOptions\"\n          placeholder=\"请输入开始时间\">\n        </el-date-picker>\n        <span>同一个商品不同周期，起止时间不能有重叠，开始时间添加保存后不可修改</span>\n      </el-form-item>\n\n      <el-form-item label=\"结束时间\" required>\n        <el-date-picker\n          class=\"add-input\"\n          size=\"small\"\n          v-model=\"addParamMsg.endDatetime\"\n          type=\"datetime\"\n          format=\"yyyy-MM-dd HH:mm:ss\"\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\n          :picker-options=\"pickerOptions\"\n          placeholder=\"请输入结束时间\">\n        </el-date-picker>\n        <span>周期预售最后一期、单期预售，用户端以结束时间截单，结束时间添加保存后不可修改</span>\n      </el-form-item>\n\n      <!-- 短周期截单时间和提货日期 -->\n      <div v-if=\"addParamMsg.presaleType == 2 && addParamMsg.cycleType == 1\">\n        <el-form-item label=\"截单时间\" required>\n          <el-select class=\"add-input-inline\" v-model=\"addParamMsg.shortCycleType\" placeholder=\"截单时间\" size=\"small\">\n            <el-option\n              v-for=\"item in shortCircleOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n          <el-time-picker\n            class=\"add-input-inline\"\n            v-model=\"addParamMsg.cutoffTime\"\n            placeholder=\"选择时间\"\n            format=\"HH:mm\"\n            value-format=\"HH:mm\"\n            size=\"small\">\n          </el-time-picker>\n          <span>每天截单即24小时一个周期，每2天截单即48小时一个周期</span>\n        </el-form-item>\n        <el-form-item label=\"提货日期\" required>\n          <el-select class=\"add-input\" v-model=\"addParamMsg.shortPickUpType\" placeholder=\"提货日期\" size=\"small\">\n            <el-option\n              v-for=\"item in shortPickUpTypeOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n          <span>表示一个周期结束后的第二天提货</span>\n        </el-form-item>\n      </div>\n\n      <!--长周期截单时间和提货日期 -->\n      <div v-if=\"addParamMsg.presaleType == 2 && addParamMsg.cycleType == 2\">\n        <el-form-item label=\"截单时间\" required>\n          <el-select class=\"add-input-inline\" v-model=\"addParamMsg.longCycleType\" placeholder=\"截单时间\" size=\"small\">\n            <el-option\n              v-for=\"item in longCycleOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n          <el-time-picker\n            class=\"add-input-inline\"\n            v-model=\"addParamMsg.cutoffTime\"\n            placeholder=\"选择时间\"\n            format=\"HH:mm\"\n            value-format=\"HH:mm\"\n            size=\"small\">\n          </el-time-picker>\n          <span>用户端在当天截单时间后不展示本期预售商品，后台在截单时间提交订货</span>\n        </el-form-item>\n        <el-form-item label=\"提货日期\" required>\n          <el-select class=\"add-input\" v-model=\"addParamMsg.longPickUpType\" placeholder=\"提货日期\" size=\"small\">\n            <el-option\n              v-for=\"item in longCycleOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n          <span>每周五提货，建议给采购预留1天，每周三截单</span>\n        </el-form-item>\n      </div>\n\n      <el-form-item label=\"提货日期\" required v-if=\"addParamMsg.presaleType == 1\">\n        <el-date-picker\n          class=\"add-input\"\n          size=\"small\"\n          v-model=\"addParamMsg.pickUpStartDate\"\n          type=\"date\"\n          format=\"yyyy-MM-dd\"\n          value-format=\"yyyy-MM-dd\"\n          :picker-options=\"pickerOptions\"\n          placeholder=\"提货日期\">\n        </el-date-picker>\n        <span>活动结束后提货，日期需大于活动结束日期</span>\n      </el-form-item>\n\n      <el-form-item label=\"参与门店\" required>\n        <el-button size=\"small\" @click=\"chooseStoreOpen\" icon=\"el-icon-plus\">选择门店</el-button>\n        <div v-if=\"activityStoresCheckedList.length > 0\" class=\"choose-store-table-wrap\">\n          <el-table\n            class=\"fixed-height\"\n            :data=\"activityStoresCheckedList\"\n            empty-text=\"暂无选中任何门店\"\n            max-height=\"300\"\n            size=\"small\">\n            <el-table-column min-width=\"220px\" label=\"门店编码/名称\">\n              <template slot-scope=\"scope\">\n                <div>\n                  {{scope.row.erpStoreNo}}_{{scope.row.erpStoreName}}\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"80\" prop=\"cityName\" label=\"城市\"></el-table-column>\n            <el-table-column min-width=\"80\" prop=\"saleTypeName\" label=\"门店类型\"></el-table-column>\n            <el-table-column\n              align=\"center\"\n              label=\"操作\"\n              width=\"100\">\n              <template slot-scope=\"scope\" size=\"small\">\n                <el-button @click=\"deleteStoreItem(scope.row)\" type=\"text\" size=\"mini\" icon=\"el-icon-delete\">删除</el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </div>\n      </el-form-item>\n\n      <el-form-item label=\"设置预售商品\" required>\n        <el-button type=\"primary\" @click=\"goAddGoodsDialog\" size=\"mini\" icon=\"el-icon-plus\">添加商品</el-button><el-button @click=\"showExcelBatchInsertDialog\" size=\"mini\" icon=\"el-icon-plus\">Excel批量导入</el-button>&nbsp;&nbsp;&nbsp;&nbsp;<span style=\"color: red;\">*注意：</span><span>商品图片建议上传大小不超过300K的710*420像素的jpg或png图片</span>\n        <el-table\n          class=\"fixed-height choose-goods-wrap\"\n          :data=\"checkedList\"\n          empty-text=\"暂无选中任何商品\"\n          style=\"width:100%;\"\n          max-height=\"560\"\n          size=\"small\">\n          <el-table-column min-width=\"300px\" label=\"商品信息\">\n            <template slot-scope=\"scope\">\n              <div class=\"ll-p-m-w\">\n                <div class=\"mh-up-w\" @click=\"setItemIdx(scope.row.goodsId)\">\n                  <el-upload\n                    class=\"avatar-uploader-sf-goods-img\"\n                    action=\"\"\n                    :show-file-list=\"false\"\n                    :before-upload=\"imageUploadReg\"\n                    :http-request=\"emitUpload\">\n                    <div v-loading=\"imageUploadLoading && currentUpFileIdx == scope.row.goodsId\">\n                      <span v-if=\"scope.row.preSaleImageUrl\"><img :src=\"scope.row.preSaleImageUrl\" class=\"avatar-sf-goods\"></span>\n                      <i v-else class=\"el-icon-plus avatar-uploader-sf-icon\"></i>\n                    </div>\n                  </el-upload>\n                </div>\n                <div class=\"ll-p-m-c-r\">\n                  <div>\n                    <el-input v-model=\"scope.row.goodsName\" size=\"small\" placeholder=\"输入商品名称\"></el-input>\n                  </div>\n                  <div class=\"ll-erp-p-no\">SKU编码：{{scope.row.goodsNo || '--'}}</div>\n                  <div class=\"ll-erp-p-no\">商品ID：{{scope.row.platformCityGoodsId || '--'}}</div>\n                  <div class=\"ll-erp-p-no\">商品编码：{{scope.row.goodsId || '--'}}</div>\n                </div>\n              </div>\n            </template> \n          </el-table-column>\n          <el-table-column min-width=\"100px\" prop=\"spec\" label=\"规格\"></el-table-column>\n          <el-table-column min-width=\"130px\" label=\"原价(必填)\">\n            <template slot-scope=\"scope\">\n              <div>\n                <el-input v-model=\"scope.row.price\" size=\"small\" placeholder=\"输入原价\"></el-input>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"130px\" label=\"预售价(必填)\">\n            <template slot-scope=\"scope\">\n              <div>\n                <el-input v-model=\"scope.row.preSalePrice\" size=\"small\" placeholder=\"输入预售价\"></el-input>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"130px\" :render-header=\"platformCurStockHeader\">\n            <template slot-scope=\"scope\">\n              <div>\n                <el-input v-model=\"scope.row.platformCurStock\" size=\"small\" placeholder=\"区域限售库存\"></el-input>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"130px\" label=\"门店限售库存\">\n            <template slot-scope=\"scope\">\n              <div>\n                <el-input v-model=\"scope.row.stock\" size=\"small\" placeholder=\"门店限售库存\"></el-input>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"140px\" :render-header=\"limitCountHeader\">\n            <template slot-scope=\"scope\">\n              <div>\n                <el-input v-model=\"scope.row.limitCount\" size=\"small\" placeholder=\"每人每期限购\"></el-input>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"140px\" :render-header=\"sortNumHeader\">\n            <template slot-scope=\"scope\">\n              <div>\n                <el-input v-model=\"scope.row.sortNum\" size=\"small\" placeholder=\"排序（0-299越大越靠前）\"></el-input>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"190px\" :render-header=\"sfInStockHeader\">\n            <template slot-scope=\"scope\">\n              <div>\n                <el-radio v-model=\"scope.row.sfInStock\" :label=\"true\">是</el-radio>\n                <el-radio v-model=\"scope.row.sfInStock\" :label=\"false\">否</el-radio>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column\n            fixed=\"right\"\n            align=\"center\"\n            label=\"操作\"\n            width=\"80\">\n            <template slot-scope=\"scope\" size=\"small\">\n              <el-button @click=\"deleteItem(scope.row)\" type=\"text\" size=\"mini\" icon=\"el-icon-delete\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <p><span style=\"color:red;\">*</span>预售活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；</p>\n        <p><span style=\"color:red;\">*</span>活动进行中时新上门店，请在预售商品中发布至门店；</p>\n      </el-form-item>\n      \n      <hr class=\"s-slip-tb\">\n      <el-form-item>\n        <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel\" :disabled=\"isDisabled\" :icon=\"isDisabled ? 'el-icon-loading' : null\">保存</el-button>\n        <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\n      </el-form-item>\n    </el-form>\n    \n    <!-- 选择商品 -->\n    <choose-goods ref=\"chooseGoods\" @confirmChooseGoods=\"confirmChooseGoods\"></choose-goods>\n    <!-- 选择门店 -->\n    <choose-store ref=\"chooseStore\" @confirmChooseStore=\"confirmChooseStore\"></choose-store>\n    <excel-add ref=\"excelAdd\" @doConfirmHandel=\"doConfirmHandel\"></excel-add>\n    <el-dialog \n      title=\"批量导入失败\" \n      :visible.sync=\"showTipErrorMsg\" \n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      width='450px'>\n      <div>\n        部分商品不符合要求，请按要求修改后再重新导入。<el-button type=\"text\" size=\"mini\" @click=\"downLoadErrorMsg\">下载查看失败原因</el-button>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showTipErrorMsg = false\" size=\"mini\">关 闭</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import Storage from '@/utils/localStorage'\n  import * as utils from '@/utils/utils'\n  import * as qiniu from 'qiniu-js'\n  import ChooseStore from \"@/components/Activity/Common/ChooseStore\"\n  import ChooseGoods from \"@/components/Activity/Common/ChooseGoods\"\n  import AddByExcel from \"@/components/Common/Excel/AddByExcel\"\n  import exportSheet from '@/utils/exportExcel'\n  import Region from '@/components/Common/StoreCommon/Region'\n  const numReg = /^[1-9]*[1-9][0-9]*$/\n  const salePriceReg = /((^[1-9]\\d*)|^0)(\\.\\d{0,2}){0,1}$/\n  const fileUrlList = {\n    getQiNiuToken: '/foundation/qiniu/auth/file'\n  }\n  const requestUrl = {\n    // 保存活动\n    saveActivity: '/plateform/a/preSale/activity/saveActivity',\n    // 校验新增预售商品\n    checkPreGoodsInsert: '/newretail-shop/a/preSale/goods/checkPreGoodsInsert'\n  }\n  export default {\n    data() {\n      return {\n        isDisabled: false,\n        addParamMsg: {\n          platformId: 5,\n          DIFFCITY: true,\n          regionCode: Storage.get('regionCode') || '', // 区域ID\n          activityName: '', // 活动名称\n          startDatetime: '', // 开始时间cycleType\n          endDatetime: '', // 结束时间\n          activityType: 51, // 预售类型，固定值-51\n          presaleType: 2, // 预售类型，1-单期，2-周期\n          cycleType: 1, // 周期类型，1-短周期，2-长周期\n          shortCycleType: 1, // 周期类型  1 每天 2 每两天\n          longCycleType: 3, // 周期类型  周三\n          cutoffTime: '',\n          shortPickUpType: 0, // 提货类型 截单后第2天提\n          longPickUpType: 5, // 提货类型 周五\n\n          pickUpStartDate: '', // 提货开始时间\n          pickUpEndDate: '', // 提货结束时间\n          goodsReqList: [],\n          storeNoList: []\n        },\n        shortCircleOptions: [\n          {\n            label: '每天',\n            value: 1\n          },\n          {\n            label: '每2天',\n            value: 2\n          }\n        ],\n        shortPickUpTypeOptions: [\n          {\n            label: '截单后第2天提',\n            value: 0\n          }\n        ],\n        longCycleOptions: [\n          {\n            label: '周一',\n            value: 1\n          },\n          {\n            label: '周二',\n            value: 2\n          },\n          {\n            label: '周三',\n            value: 3\n          },\n          {\n            label: '周四',\n            value: 4\n          },\n          {\n            label: '周五',\n            value: 5\n          },\n          {\n            label: '周六',\n            value: 6\n          },\n          {\n            label: '周日',\n            value: 7\n          }\n        ],\n        pickerOptions: {\n          disabledDate(time) {\n            return time.getTime() < Date.now() - 8.64e7\n          }\n        },\n        // 选中的商品列表\n        checkedList: [],\n        // 商品详情图加载\n        imageUploadLoading: false,\n        currentUpFileIdx: -1, // 默认选中的文件上传框\n        // 参与门店选中的\n        activityStoresCheckedList: [],\n        tempConfig: {\n          platformCityGoodsId: '区域商品id(必填)',\n          goodsNo: 'SKU编码(选填)',\n          skuNo: 'ERP商品编码(选填)',\n          goodsName: '活动商品名称(可修改，必填)',\n          price: '原价(必填）',\n          preSalePrice: '预售价(必填)',\n          platformCurStock: '区域限售库存(选填，为空时不限)',\n          stock: '门店限售库存(选填，为空时不限)',\n          limitCount: '每人每期限购(选填，为空时不限)',\n          sortNum: '排序(必填)',\n          sfInStockStr: '顺丰仓现货（选填，填是/否，空时为是）'\n        },\n        // 显示下载含有失败原因的excel\n        showTipErrorMsg: false, \n        // 后台返回的又失败原因的内容\n        hasErrorMsgData: []\n\n      }\n    },\n    components: {\n      \"excel-add\": AddByExcel,\n      \"choose-goods\": ChooseGoods,\n      \"choose-store\": ChooseStore,\n      \"region\": Region\n    },\n    methods: {\n      /**\n       * [doSaveHandel 保存]\n       * @return {[type]} [description]\n       */\n      doSaveHandel() {\n        if(!this.addParamMsg.activityName) {\n          this.$message(\"请输入预售周期名称\")\n          return\n        }else {\n          if(this.addParamMsg.activityName.length > 20) {\n            this.$message(\"预售周期名称,限制20个字\")\n            return\n          }\n        }\n        // 起止日期\n        if(!this.addParamMsg.startDatetime) {\n          this.$message(\"请选择开始时间\")\n          return\n        }\n        if(!this.addParamMsg.endDatetime) {\n          this.$message(\"请选择结束时间\")\n          return\n        }\n        let startDatetimeNum = utils.changeDateToTimestamp(this.addParamMsg.startDatetime)\n        let endDatetimeNum = utils.changeDateToTimestamp(this.addParamMsg.endDatetime)\n        if(endDatetimeNum <= startDatetimeNum) {\n          this.$message(\"结束时间不能早于或等于开始时间\")\n          return\n        }\n        if(parseInt(this.addParamMsg.presaleType) === 1) {\n          // 单期\n          // 提货起止时间\n          if(!this.addParamMsg.pickUpStartDate) {\n            this.$message(\"请选择提货日期\")\n            return\n          }\n          let pickUpStartDateNum = utils.changeDateToTimestamp(this.addParamMsg.pickUpStartDate)\n          if(pickUpStartDateNum <= endDatetimeNum) {\n            this.$message(\"提货日期不能早于结束时间\")\n            return\n          }\n        }else if(parseInt(this.addParamMsg.presaleType) === 2) {\n          // 周期\n          if(!this.addParamMsg.cutoffTime) {\n            this.$message(\"请选择截单时间\")\n            return\n          }\n        }\n\n        let storeNoList = this.activityStoresCheckedList.map(item => {\n          return item.erpStoreNo\n        })\n        this.addParamMsg.storeNoList = storeNoList\n        if(this.addParamMsg.storeNoList.length === 0) {\n          this.$message(\"请选择参与门店\")\n          return\n        }\n        let goodsReqListArr = []\n        for(let item of this.checkedList) {\n          // if(!item.preSaleImageUrl) {\n          //   this.$message(`请上传(${item.goodsName})的商品图片`)\n          //   return \n          // }\n          if(item.goodsName === '') {\n            this.$message(`请输入(${item.goodsName})的商品名称`)\n            return\n          }\n          if(!item.price) {\n            this.$message(`请输入(${item.goodsName})的原价`)\n            return\n          }else {\n            if(!salePriceReg.test(item.price) || item.price == 0) {\n              this.$message('原价是大于0，小数保留小数点后2位') \n              return\n            }\n          }\n          if(!item.preSalePrice) {\n            this.$message(`请输入(${item.goodsName})的预售价`)\n            return\n          }else {\n            if(!salePriceReg.test(item.preSalePrice) || item.preSalePrice == 0) {\n              this.$message('预售价是大于0，小数保留小数点后2位') \n              return\n            }\n          }\n\n          if(parseFloat(item.preSalePrice) > parseFloat(item.price)) { \n            this.$message(`(${item.goodsName})的原价必须大于等于预售价`)\n            return\n          }\n\n          if(item.platformCurStock != 0 && item.platformCurStock) {\n            if(numReg.test(item.platformCurStock)) {\n              if(item.platformCurStock < 0) {\n                this.$message(\"区域限售库存不能小于0\")\n                return\n              }else if(item.platformCurStock > 9999) {\n                this.$message(\"区域限售库存不能大于9999\")\n                return\n              }\n            }else {\n              this.$message(\"门店限售库存格式不正确\")\n              return\n            }\n          }\n\n          if(item.stock != 0 && item.stock) {\n            if(numReg.test(item.stock)) {\n              if(item.stock < 0) {\n                this.$message(\"门店限售库存不能小于0\")\n                return\n              }\n            }else {\n              this.$message(\"门店限售库存格式不正确\")\n              return\n            }\n          }\n\n          if(item.limitCount != 0 && item.limitCount) {\n            if(numReg.test(item.limitCount)) {\n              if(item.limitCount < 0) {\n                this.$message(\"限购数量不能小于0\")\n                return\n              }\n            }else {\n              this.$message(\"输入限购数量格式不正确\")\n              return\n            }\n          }\n\n          if(item.sortNum != 0 && item.sortNum) {\n            if(numReg.test(item.sortNum)) {\n              if(item.sortNum < 0 || item.sortNum > 299) {\n                this.$message(\"排序权重为0 — 299的整数，越大越靠前\")\n                return\n              }\n            }else {\n              this.$message(\"排序权重为0 — 299的整数，越大越靠前\")\n              return\n            }\n          }\n\n          let goodsReqListItem = {\n            preSaleImageUrl: item.preSaleImageUrl,\n            goodsId: item.goodsId,\n            goodsNo: item.goodsNo,\n            skuNo: item.skuNo,\n            goodsName: item.goodsName,\n            preSalePrice: item.preSalePrice,\n            price: item.price,\n            stock: item.stock,\n            platformCurStock: item.platformCurStock,\n            limitCount: item.limitCount,\n            sortNum: item.sortNum,\n            spec: item.spec,\n            platformCityGoodsId: item.platformCityGoodsId,\n            sfInStock: item.sfInStock\n          }\n          goodsReqListArr.push(goodsReqListItem)\n        }\n        if(goodsReqListArr.length === 0) {\n          this.$message(\"请先设置预售商品\")\n          return\n        }\n        let params = {\n          DIFFCITY: this.addParamMsg.DIFFCITY,\n          regionCode: this.addParamMsg.regionCode,\n          activityName: this.addParamMsg.activityName,\n          presaleType: this.addParamMsg.presaleType,\n          startDatetime: this.addParamMsg.startDatetime,\n          endDatetime: this.addParamMsg.endDatetime,\n          storeNoList: this.addParamMsg.storeNoList,\n          activityType: this.addParamMsg.activityType,\n          goodsReqList: goodsReqListArr\n        }\n        if(parseInt(this.addParamMsg.presaleType) === 2) {\n          // 周期\n          if(parseInt(this.addParamMsg.cycleType) === 1) {\n            // 短周期\n            params.cycleType = this.addParamMsg.cycleType\n            params.cutoffType = 0\n            params.cutoffDays = this.addParamMsg.shortCycleType\n            params.cutoffTime = this.addParamMsg.cutoffTime\n            params.pickUpType = this.addParamMsg.shortPickUpType\n          }else {\n            // 长周期\n            params.cycleType = this.addParamMsg.cycleType\n            params.cutoffType = this.addParamMsg.longCycleType\n            params.cutoffTime = this.addParamMsg.cutoffTime\n            params.pickUpType = this.addParamMsg.longPickUpType\n          }\n        }else {\n          // 单期\n          params.pickUpStartDatetime = this.addParamMsg.pickUpStartDate + ' 00:00:00'\n        }\n        this.isDisabled = true\n        this.$http.post(requestUrl.saveActivity, {...params}).then(res => {\n          // 保存按钮可再次点击\n          setTimeout(() => {\n            this.isDisabled = false\n          }, 800)\n          if(res.code === 0) {\n            this.$message.success(\"保存成功\")\n            this.$router.push('/pre_act')\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.isDisabled = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      /**\n       * [doCancelHandel 取消]\n       * @return {[type]} [description]\n       */\n      doCancelHandel() {\n        this.$confirm('确定取消吗?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$router.push('/pre_act')\n        }).catch(() => {})\n      },\n      /**\n       * [goAddGoodsDialog 添加商品]\n       * @return {[type]} [description]\n       */\n      goAddGoodsDialog() {\n        if(this.$refs.chooseGoods) {\n          let _params = {\n            title: '选择商品',\n            regionCode: this.addParamMsg.regionCode,\n            checkedList: this.checkedList\n          }\n          this.$refs.chooseGoods.setDefault(_params)\n        }\n      },\n      /**\n       * [confirmChooseGoods 选中商品并关闭]\n       * @param  {[type]} val [description]\n       * @return {[type]}      [description]\n       */\n      confirmChooseGoods(val) {\n        this.checkedList = val.checkedList || []\n      },\n      /**\n       * [deleteItem 删除]\n       * @param  {[type]} _row [description]\n       * @return {[type]}      [description]\n       */\n      deleteItem(_row) {\n        let platformCityGoodsId = _row.platformCityGoodsId\n        let resCheckedListArr = this.checkedList.filter(item => {\n          return item.platformCityGoodsId != platformCityGoodsId\n        })\n\n        this.checkedList = JSON.parse(JSON.stringify(resCheckedListArr))\n      },\n\n      /**\n       * @description: 设置当前上传图片的索引\n       * @param {type} \n       * @return: \n       */\n      setItemIdx(idx) {\n        if(this.imageUploadLoading) return\n        this.currentUpFileIdx = idx\n      },\n      /**\n       * [emitUpload 上传图片]\n       * @param  {[type]} e [description]\n       * @return {[type]}   [description]\n       */\n       emitUpload(e) {\n        this.imageUploadLoading = true\n        this.getToken().then((res) => {\n          // 开始上传图片\n          let uploader = qiniu.upload(e.file, res.fileName, res.token)\n          uploader.subscribe({\n            error: () => {\n              this.imageUploadLoading = false\n            },\n            complete: (res) => {\n              // 添加内容设置图片地址\n              let urlImage = 'http://retailimg01.benlailife.com/' + res.key\n              this.imageUploadLoading = false\n              // 设置对应的图片地址\n              let checkedListArr = [...this.checkedList]\n              checkedListArr.forEach(item => {\n                if(item.goodsId === this.currentUpFileIdx) {\n                  item.preSaleImageUrl = urlImage\n                }\n              })\n              this.checkedList = checkedListArr\n            },\n            next: res => {\n            }\n          })\n        })\n      },\n\n      /**\n       * [imageUploadReg 上传图片检测]\n       * @param  {[type]} file [description]\n       * @return {[type]}      [description]\n       */\n      imageUploadReg (file) {\n        const isPic = file.type.indexOf('image/') !== -1\n        const isJPG = file.type === 'image/jpeg' || 'image/png'\n        const isSizeNum = file.size <= 1 * 300 * 1024\n        if (!isPic || !isJPG || !isSizeNum) {\n          this.$message.error('商品图片建议上传大小不超过300K的710*420像素的jpg或png图片')\n        }\n        return isPic && isJPG && isSizeNum\n      },\n      /**\n       * [getToken 通过后台封装的接口获取七牛的token]\n       * @return {[type]}            [description]\n       */\n      getToken () {\n        return this.$http.post(fileUrlList.getQiNiuToken, {}).then(res => {\n          if (res.code == 0) {\n            let token = res.data.token\n            let fileName = res.data.key\n            return {fileName, token}\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.imageUploadLoading = false\n          this.$notify.error({\n            title: '获取七牛token提示',\n            message: e.message\n          })\n        })\n      },\n      platformCurStockHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\">\n            <div>\n              <p>区域限售库存，即所有门店共享的总预售库存；</p>\n              <p>门店限售即每个门店的预售库存，可在门店预售商品中调整门店库存；</p>\n              <p>每个商品至少要设置一种限售库存方式，最大可设置9999；</p>\n              <p>如果既设了区域限售，又设了门店限售，则先校验区域库存，再校验门店库存；</p>\n            </div>\n            <span slot=\"reference\">区域限售库存<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      limitCountHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\"\n            content=\"短周期为每人每天限购数量；长周期为每人每周限购数量；单期预售为每人活动期间限购数量；为空时不限；\">\n            <span slot=\"reference\">每人每期限购<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      sortNumHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            trigger=\"hover\"\n            content=\"0-299 越大越靠前\">\n            <span slot=\"reference\">排序权重<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      sfInStockHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\">\n            <div>\n              <p>1、顺丰标品设为顺丰仓现货时，下单会校验仓库库存；</p>\n              <p>2、本来鲜生鲜品无需设置；</p>\n            </div>\n            <span slot=\"reference\">是否为顺丰仓现货<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      platformCurStockHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\">\n            <div>\n              <p>区域限售库存，即所有门店共享的总预售库存；</p>\n              <p>门店限售即每个门店的预售库存，可在门店预售商品中调整门店库存；</p>\n              <p>每个商品至少要设置一种限售库存方式，最大可设置9999；</p>\n              <p>如果既设了区域限售，又设了门店限售，则先校验区域库存，再校验门店库存；</p>\n            </div>\n            <span slot=\"reference\">区域限售库存<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      /**\n       * [chooseStoreOpen 选择门店]\n       * @return {[type]} [description]\n       */\n       chooseStoreOpen() {\n        let params = {\n          platformId: this.addParamMsg.platformId,\n          regionCode: this.addParamMsg.regionCode,\n          title: '选择门店',\n          checkedList: this.activityStoresCheckedList\n        }\n        this.$refs.chooseStore.setDefault(params)\n      },\n      /**\n       * [deleteItem 删除选中的门店]\n       * @param  {[type]} _row [description]\n       * @return {[type]}      [description]\n       */\n      deleteStoreItem(_row) {\n        let erpStoreNo = _row.erpStoreNo\n        this.activityStoresCheckedList = this.activityStoresCheckedList.filter(item => {\n          return item.erpStoreNo !== erpStoreNo\n        })\n      },\n      /**\n       * [confirmChooseStore 选中的门店]\n       * @param  {[type]} value [description]\n       * @return {[type]}        [description]\n       */\n      confirmChooseStore(value) {\n        let activityStoresCheckedList = []\n        if(value.checkedList && value.checkedList.length) {\n          activityStoresCheckedList = value.checkedList\n        }else {\n          activityStoresCheckedList = []\n        }\n        this.activityStoresCheckedList = activityStoresCheckedList\n      },\n      /**\n       * @description: 导入excel后确认框\n       * @param {type} \n       * @return: \n       */\n      doConfirmHandel(value) {\n        let excelDataList = value.dataList || []\n        excelDataList.forEach(item => {\n          item.activityType = 51\n        })\n        this.$http.post(requestUrl.checkPreGoodsInsert, [...excelDataList]).then(res => {\n          this.$refs.excelAdd.closeDisabled()\n          this.$refs.excelAdd.closeDialog()\n          if(res.code === 0) {\n            this.hasErrorMsgData = res.data && res.data.length ? res.data : []\n            let isOk = this.hasErrorMsgData.some(item => {\n              return item.msgType === 1\n            })\n            if(isOk) {\n              this.showTipErrorMsg = true\n            }else {\n              let checkedListTemp = [...this.checkedList]\n              checkedListTemp.forEach(i => {\n                this.hasErrorMsgData.forEach(j => {\n                  if(i.goodsId === j.goodsId && i.goodsNo === j.goodsNo && i.platformCityGoodsId === j.platformCityGoodsId && i.skuNo === j.skuNo) {\n                    i.goodsName = j.goodsName\n                    i.spec = j.spec\n                    i.preSaleImageUrl = j.preSaleImageUrl\n                    i.price = j.price\n                    i.preSalePrice = j.preSalePrice\n                    i.platformCurStock = j.platformCurStock\n                    i.stock = j.stock\n                    i.limitCount = j.limitCount\n                    i.sortNum = j.sortNum\n                    i.sfInStock = j.sfInStock\n                  }\n                })\n              })\n              let hash = {}\n              this.checkedList = [...checkedListTemp, ...this.hasErrorMsgData].reduceRight((item, next) => {\n                hash[next.platformCityGoodsId] ? '' : hash[next.platformCityGoodsId] = true && item.push(next)\n                return item\n              }, [])\n            }\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.$refs.excelAdd.closeDisabled()\n          this.$refs.excelAdd.closeDialog()\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })  \n      },\n      showExcelBatchInsertDialog() {\n        if(this.$refs.excelAdd) {\n          let val = {\n            title: 'Excel 批量导入',\n            tempConfig: this.tempConfig\n          }\n          this.$refs.excelAdd.setDefaultMsg(val)\n        }\n      },\n      downLoadErrorMsg() {\n        let downloadExcelConfig = {...this.tempConfig}\n        downloadExcelConfig.msgTypeStr = '验证结果'\n        downloadExcelConfig.msg = '失败原因'\n        this.hasErrorMsgData.forEach(item => {\n          item.msgTypeStr = item.msgType === 1 ? '验证失败' : '验证成功'\n          item.sfInStockStr = item.sfInStock ? '是' : '否'\n        })\n        const tHeader = utils.objectToArray(downloadExcelConfig, false)\n        const filterVal = utils.objectToArray(downloadExcelConfig, true)\n        exportSheet.ExportJsonToExcel({\n          header: tHeader,\n          filterVal,\n          data: this.hasErrorMsgData,\n          filename: `Excel批量导入模板`\n        })\n        setTimeout(() => {\n          this.$notify.success({\n            title: '温馨提示',\n            message: `Excel批量导入模板下载成功`\n          })\n          this.isDisabled = false\n        }, 500)\n      }\n\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/Presale/PresaleAct/AddPresaleAct.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMsg,\"label-width\":\"160px\"}},[_c('region',{staticClass:\"region-wrap\",attrs:{\"className\":\"add-input\",\"label\":\"选择区域\",\"required\":true}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"预售活动名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入预售活动名称\"},model:{value:(_vm.addParamMsg.activityName),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"activityName\", $$v)},expression:\"addParamMsg.activityName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动名称，限制20个字\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"预售类型\",\"required\":\"\"}},[_c('div',[_c('el-radio',{attrs:{\"label\":2},model:{value:(_vm.addParamMsg.presaleType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"presaleType\", $$v)},expression:\"addParamMsg.presaleType\"}},[_vm._v(\"周期预售（起止时间周期性提货，适用于今订明取，或每周固定周几提）\")])],1),_vm._v(\" \"),_c('div',[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.addParamMsg.presaleType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"presaleType\", $$v)},expression:\"addParamMsg.presaleType\"}},[_vm._v(\"单期预售（结束后，一次性提货，适用于未上市商品，提前预售）\")])],1)]),_vm._v(\" \"),(_vm.addParamMsg.presaleType == 2)?_c('el-form-item',{attrs:{\"label\":\"周期类型\",\"required\":\"\"}},[_c('el-radio',{attrs:{\"label\":1},model:{value:(_vm.addParamMsg.cycleType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"cycleType\", $$v)},expression:\"addParamMsg.cycleType\"}},[_vm._v(\"短周期（隔1-2日提）\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":2},model:{value:(_vm.addParamMsg.cycleType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"cycleType\", $$v)},expression:\"addParamMsg.cycleType\"}},[_vm._v(\"长周期（固定每周提）\")])],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"picker-options\":_vm.pickerOptions,\"placeholder\":\"请输入开始时间\"},model:{value:(_vm.addParamMsg.startDatetime),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"startDatetime\", $$v)},expression:\"addParamMsg.startDatetime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"同一个商品不同周期，起止时间不能有重叠，开始时间添加保存后不可修改\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"picker-options\":_vm.pickerOptions,\"placeholder\":\"请输入结束时间\"},model:{value:(_vm.addParamMsg.endDatetime),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"endDatetime\", $$v)},expression:\"addParamMsg.endDatetime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"周期预售最后一期、单期预售，用户端以结束时间截单，结束时间添加保存后不可修改\")])],1),_vm._v(\" \"),(_vm.addParamMsg.presaleType == 2 && _vm.addParamMsg.cycleType == 1)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"截单时间\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input-inline\",attrs:{\"placeholder\":\"截单时间\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.shortCycleType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"shortCycleType\", $$v)},expression:\"addParamMsg.shortCycleType\"}},_vm._l((_vm.shortCircleOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-time-picker',{staticClass:\"add-input-inline\",attrs:{\"placeholder\":\"选择时间\",\"format\":\"HH:mm\",\"value-format\":\"HH:mm\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.cutoffTime),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"cutoffTime\", $$v)},expression:\"addParamMsg.cutoffTime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"每天截单即24小时一个周期，每2天截单即48小时一个周期\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"提货日期\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"placeholder\":\"提货日期\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.shortPickUpType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"shortPickUpType\", $$v)},expression:\"addParamMsg.shortPickUpType\"}},_vm._l((_vm.shortPickUpTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('span',[_vm._v(\"表示一个周期结束后的第二天提货\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.presaleType == 2 && _vm.addParamMsg.cycleType == 2)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"截单时间\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input-inline\",attrs:{\"placeholder\":\"截单时间\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.longCycleType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"longCycleType\", $$v)},expression:\"addParamMsg.longCycleType\"}},_vm._l((_vm.longCycleOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('el-time-picker',{staticClass:\"add-input-inline\",attrs:{\"placeholder\":\"选择时间\",\"format\":\"HH:mm\",\"value-format\":\"HH:mm\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.cutoffTime),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"cutoffTime\", $$v)},expression:\"addParamMsg.cutoffTime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"用户端在当天截单时间后不展示本期预售商品，后台在截单时间提交订货\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"提货日期\",\"required\":\"\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"placeholder\":\"提货日期\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.longPickUpType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"longPickUpType\", $$v)},expression:\"addParamMsg.longPickUpType\"}},_vm._l((_vm.longCycleOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),_c('span',[_vm._v(\"每周五提货，建议给采购预留1天，每周三截单\")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.presaleType == 1)?_c('el-form-item',{attrs:{\"label\":\"提货日期\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"type\":\"date\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptions,\"placeholder\":\"提货日期\"},model:{value:(_vm.addParamMsg.pickUpStartDate),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"pickUpStartDate\", $$v)},expression:\"addParamMsg.pickUpStartDate\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动结束后提货，日期需大于活动结束日期\")])],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"参与门店\",\"required\":\"\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.chooseStoreOpen}},[_vm._v(\"选择门店\")]),_vm._v(\" \"),(_vm.activityStoresCheckedList.length > 0)?_c('div',{staticClass:\"choose-store-table-wrap\"},[_c('el-table',{staticClass:\"fixed-height\",attrs:{\"data\":_vm.activityStoresCheckedList,\"empty-text\":\"暂无选中任何门店\",\"max-height\":\"300\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"220px\",\"label\":\"门店编码/名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n                \"+_vm._s(scope.row.erpStoreNo)+\"_\"+_vm._s(scope.row.erpStoreName)+\"\\n              \")])]}}],null,false,974369925)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"cityName\",\"label\":\"城市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"saleTypeName\",\"label\":\"门店类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteStoreItem(scope.row)}}},[_vm._v(\"删除\")])]}}],null,false,3121094832)})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设置预售商品\",\"required\":\"\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.goAddGoodsDialog}},[_vm._v(\"添加商品\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.showExcelBatchInsertDialog}},[_vm._v(\"Excel批量导入\")]),_vm._v(\"    \"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*注意：\")]),_c('span',[_vm._v(\"商品图片建议上传大小不超过300K的710*420像素的jpg或png图片\")]),_vm._v(\" \"),_c('el-table',{staticClass:\"fixed-height choose-goods-wrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.checkedList,\"empty-text\":\"暂无选中任何商品\",\"max-height\":\"560\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"300px\",\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ll-p-m-w\"},[_c('div',{staticClass:\"mh-up-w\",on:{\"click\":function($event){return _vm.setItemIdx(scope.row.goodsId)}}},[_c('el-upload',{staticClass:\"avatar-uploader-sf-goods-img\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadReg,\"http-request\":_vm.emitUpload}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading && _vm.currentUpFileIdx == scope.row.goodsId),expression:\"imageUploadLoading && currentUpFileIdx == scope.row.goodsId\"}]},[(scope.row.preSaleImageUrl)?_c('span',[_c('img',{staticClass:\"avatar-sf-goods\",attrs:{\"src\":scope.row.preSaleImageUrl}})]):_c('i',{staticClass:\"el-icon-plus avatar-uploader-sf-icon\"})])])],1),_vm._v(\" \"),_c('div',{staticClass:\"ll-p-m-c-r\"},[_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入商品名称\"},model:{value:(scope.row.goodsName),callback:function ($$v) {_vm.$set(scope.row, \"goodsName\", $$v)},expression:\"scope.row.goodsName\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo || '--'))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"商品ID：\"+_vm._s(scope.row.platformCityGoodsId || '--'))]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"商品编码：\"+_vm._s(scope.row.goodsId || '--'))])])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"spec\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"原价(必填)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入原价\"},model:{value:(scope.row.price),callback:function ($$v) {_vm.$set(scope.row, \"price\", $$v)},expression:\"scope.row.price\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"预售价(必填)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入预售价\"},model:{value:(scope.row.preSalePrice),callback:function ($$v) {_vm.$set(scope.row, \"preSalePrice\", $$v)},expression:\"scope.row.preSalePrice\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"render-header\":_vm.platformCurStockHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"区域限售库存\"},model:{value:(scope.row.platformCurStock),callback:function ($$v) {_vm.$set(scope.row, \"platformCurStock\", $$v)},expression:\"scope.row.platformCurStock\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"门店限售库存\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"门店限售库存\"},model:{value:(scope.row.stock),callback:function ($$v) {_vm.$set(scope.row, \"stock\", $$v)},expression:\"scope.row.stock\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"render-header\":_vm.limitCountHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"每人每期限购\"},model:{value:(scope.row.limitCount),callback:function ($$v) {_vm.$set(scope.row, \"limitCount\", $$v)},expression:\"scope.row.limitCount\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"render-header\":_vm.sortNumHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"排序（0-299越大越靠前）\"},model:{value:(scope.row.sortNum),callback:function ($$v) {_vm.$set(scope.row, \"sortNum\", $$v)},expression:\"scope.row.sortNum\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"190px\",\"render-header\":_vm.sfInStockHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-radio',{attrs:{\"label\":true},model:{value:(scope.row.sfInStock),callback:function ($$v) {_vm.$set(scope.row, \"sfInStock\", $$v)},expression:\"scope.row.sfInStock\"}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":false},model:{value:(scope.row.sfInStock),callback:function ($$v) {_vm.$set(scope.row, \"sfInStock\", $$v)},expression:\"scope.row.sfInStock\"}},[_vm._v(\"否\")])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"align\":\"center\",\"label\":\"操作\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"预售活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；\")]),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"活动进行中时新上门店，请在预售商品中发布至门店；\")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled,\"icon\":_vm.isDisabled ? 'el-icon-loading' : null},on:{\"click\":_vm.doSaveHandel}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('choose-goods',{ref:\"chooseGoods\",on:{\"confirmChooseGoods\":_vm.confirmChooseGoods}}),_vm._v(\" \"),_c('choose-store',{ref:\"chooseStore\",on:{\"confirmChooseStore\":_vm.confirmChooseStore}}),_vm._v(\" \"),_c('excel-add',{ref:\"excelAdd\",on:{\"doConfirmHandel\":_vm.doConfirmHandel}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"批量导入失败\",\"visible\":_vm.showTipErrorMsg,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.showTipErrorMsg=$event}}},[_c('div',[_vm._v(\"\\n      部分商品不符合要求，请按要求修改后再重新导入。\"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":_vm.downLoadErrorMsg}},[_vm._v(\"下载查看失败原因\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.showTipErrorMsg = false}}},[_vm._v(\"关 闭\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fc32fc2e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/Presale/PresaleAct/AddPresaleAct.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fc32fc2e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddPresaleAct.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddPresaleAct.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddPresaleAct.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fc32fc2e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddPresaleAct.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/Presale/PresaleAct/AddPresaleAct.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}