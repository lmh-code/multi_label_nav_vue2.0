{"version":3,"sources":["webpack:///src/components/MallConfig/StorePageMgt/index.vue","webpack:///./src/components/MallConfig/StorePageMgt/index.vue?9982","webpack:///./src/components/MallConfig/StorePageMgt/index.vue"],"names":["requestUrl","StorePageMgt","data","loading","pageNum","pageSize","total","searchContent","DIFFCITY","regionCode","localStorage","get","cityId","pageName","pageType","useStatus","storeNo","pageTypeOptions","label","value","useStatusOptions","storeOptions","checkedList","tableData","components","region-city-store","created","this","$route","query","parseInt","his","mounted","doSearchHandel","methods","StoreGroupChange","param","changeSize","changeCurrent","_param","_this","$http","post","extends_default","then","res","code","Error","msg","result","length","pageNo","catch","e","$notify","error","title","message","handleSelect","val","row","hash","checkedListTemp","utils","id","push","checkedListTempArr","concat","toConsumableArray_default","reduceRight","item","next","handleSelectAll","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","done","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_item","checkedListArr","upOrDownPageHandel","type","status","_this2","tip","idsArr","map","params","ids","$confirm","confirmButtonText","cancelButtonText","$message","success","useStatusStrHeader","h","$createElement","attrs","placement","width","trigger","slot","class","MallConfig_StorePageMgt","render","_vm","_h","_c","_self","staticClass","model","label-position","showGroup","defaultCityId","on","_v","placeholder","size","clearable","nativeOn","keyup","$event","indexOf","_k","keyCode","key","callback","$$v","$set","trim","expression","filterable","change","_l","click","disabled","icon","directives","name","rawName","staticStyle","empty-text","select","select-all","min-width","scopedSlots","_u","fn","scope","_s","storeName","pageId","prop","render-header","fixed","_e","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/130.0e76f8f105d800df1ae4.js","sourcesContent":["<style></style>\n\n<template>\n  <div>\n    <!-- 搜索框 -->\n    <div class=\"search-form-wraper\">\n      <el-form :model=\"searchContent\" label-position=\"top\">\n        <region-city-store @StoreGroupChange=\"StoreGroupChange\" :showGroup=\"false\" :defaultCityId=\"searchContent.cityId\"></region-city-store>\n        <!-- <el-form-item label=\"门店\">\n          <el-select class=\"search-input\" v-model=\"searchContent.storeNo\" filterable placeholder=\"请选择门店\" clearable\n            size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option v-for=\"item in storeOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item> -->\n        <el-form-item label=\"页面名称\">\n          <el-input class=\"search-input\" v-model.trim=\"searchContent.pageName\" placeholder=\"页面名称\" size=\"small\"\n            @keyup.enter.native=\"doSearchHandel(true)\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"页面类型\">\n          <el-select class=\"search-input\" v-model=\"searchContent.pageType\" filterable placeholder=\"请选择页面类型\"\n            clearable size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option v-for=\"item in pageTypeOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"状态\">\n          <el-select class=\"search-input\" v-model=\"searchContent.useStatus\" placeholder=\"请选择状态\" clearable\n            size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option :label=\"item.label\" :value=\"item.value\" :key=\"item.value\" v-for=\"item in useStatusOptions\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <!-- 搜索结果 -->\n    <div class=\"table-wraper\">\n      <div class=\"sp-handel-w\">\n        <el-button size=\"mini\" class=\"sup-mini\" :disabled=\"checkedList.length === 0\" icon=\"el-icon-top\" @click=\"upOrDownPageHandel(false, 1, checkedList)\">上架</el-button>\n        <el-button size=\"mini\" class=\"sup-mini\" :disabled=\"checkedList.length === 0\" icon=\"el-icon-bottom\" @click=\"upOrDownPageHandel(false, 2, checkedList)\">下架</el-button>\n      </div>\n      <el-table class=\"fixed-height\" v-loading=\"loading\" :data=\"tableData\" @select=\"handleSelect\"\n        @select-all=\"handleSelectAll\" empty-text=\"没有查询到您想要的数据\" style=\"width:100%;\" size=\"small\">\n        <el-table-column type=\"selection\"></el-table-column>\n        <el-table-column min-width=\"140px\" label=\"门店\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <p>{{scope.row.storeNo}}_{{scope.row.storeName}}</p>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"140px\" label=\"页面名称\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <p>{{scope.row.pageId}}_{{scope.row.pageName}}</p>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"100px\" prop=\"pageTypeStr\" label=\"页面类型\"></el-table-column>\n        <el-table-column min-width=\"80px\" prop=\"useStatusStr\" :render-header=\"useStatusStrHeader\"></el-table-column>\n        <el-table-column\n          fixed=\"right\"\n          label=\"操作\"\n          width=\"100\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <div>\n              <el-button type=\"text\" v-if=\"scope.row.useStatus===2\" size=\"mini\" icon=\"el-icon-top\" @click=\"upOrDownPageHandel(true, 1, scope.row)\">上架</el-button>\n              <el-button type=\"text\" v-if=\"scope.row.useStatus===1 && scope.row.pageType===2\" size=\"mini\" icon=\"el-icon-bottom\" @click=\"upOrDownPageHandel(true, 2, scope.row)\">下架</el-button>\n            </div>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页条 -->\n      <el-pagination v-if=\"total>0\" class=\"tc mt20\" background @size-change=\"changeSize\" @current-change=\"changeCurrent\"\n        :current-page.sync=\"pageNum\" :page-sizes=\"[20, 50, 100, 150, 200]\"\n        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Storage from '@/utils/localStorage'\n  import * as utils from '@/utils/utils'\n  import exportSheet from '@/utils/exportSheet'\n  import RegionCityStore from '@/components/Common/StoreCommon/RegionCityStore';\n  const requestUrl = {\n    // 获取门店列表接口\n    // search: '/plateform/a/store/condition/search',\n    // 门店页面管理列表\n    storePageTempList: '/plateform/a/mall/pageTemp/storePageTempList',\n    // 门店页面上下架\n    upOrLowerPage: '/plateform/a/mall/pageTemp/upOrLowerPage',\n  }\n  export default {\n    data() {\n      return {\n        loading: false,\n        pageNum: 1,\n        pageSize: 20,\n        total: 0,\n        searchContent: {\n          DIFFCITY: true,\n          regionCode: Storage.get('regionCode') || '', // 区域ID\n          cityId: '',\n          pageName: '',\n          pageType: '',\n          useStatus: '',\n          storeNo: ''\n        },\n        pageTypeOptions: [\n          {\n            label: '全部',\n            value: ''\n          },\n          {\n            label: '首页',\n            value: 1\n          },\n          {\n            label: '专题页',\n            value: 2\n          }\n        ],\n        useStatusOptions: [{\n            label: '全部',\n            value: ''\n          },\n          {\n            label: '上架',\n            value: 1\n          },\n          {\n            label: '下架',\n            value: 2\n          }\n        ],\n        storeOptions: [],\n        checkedList: [],\n        tableData: []\n      }\n    },\n    components: {\n      \"region-city-store\": RegionCityStore\n    },\n    created() {\n      // 获取门店\n      // this.getStoreList()\n      this.searchContent.pageName = this.$route.query.pageName && this.$route.query.pageName !== 'undefined' ? this.$route.query.pageName : ''\n      this.searchContent.pageType = this.$route.query.pageType && this.$route.query.pageType !== 'undefined' ? parseInt(this.$route.query.pageType) : ''\n      this.searchContent.useStatus = this.$route.query.useStatus && his.$route.query.useStatus !== 'undefined' ? parseInt(this.$route.query.useStatus) : ''\n    },\n    mounted() {\n      this.doSearchHandel()\n    },\n    methods: {\n      StoreGroupChange(param) {\n        this.searchContent.regionCode = param.regionCode\n        this.searchContent.cityId = param.cityId\n        this.searchContent.storeNo = param.storeNo\n        this.doSearchHandel(true)\n      },\n      /**\n       * [changeSize description]\n       * @param    {[type]}                 value [description]\n       * @return   {[type]}                       [description]\n       */\n      changeSize(value) {\n        this.pageSize = value\n        this.doSearchHandel()\n      },\n      /**\n       * [changeCurrent 点击分页条]\n       * @param    {[type]}                 value [当前页]\n       * @return   {[type]}                       [description]\n       */\n      changeCurrent(value) {\n        this.pageNum = value\n        this.doSearchHandel()\n      },\n      /**\n       * [getStoreList 获取门店列表]\n       * @return {[type]} [description]\n       */\n      // getStoreList() {\n      //   this.$http.post(requestUrl.search).then(res => {\n      //     if (res.code === 0) {\n      //       if (res.data && res.data.length) {\n      //         let optionsArr = []\n      //         for (let item of res.data) {\n      //           let optionItem = {\n      //             value: item.storeNo,\n      //             label: item.storeNo + '-' + item.storeName\n      //           }\n      //           optionsArr.push(optionItem)\n      //         }\n\n      //         this.storeOptions = optionsArr\n      //       }\n      //       return\n      //     }\n      //     throw new Error(res.msg)\n      //   }).catch(e => {\n      //     console.log(\"提示(获取门店列表):\", e.message)\n      //   })\n      // },\n      /**\n       * [doSearchHandel 获取订单列表内容]\n       * @param  {[type]} _param [description]\n       * @return {[type]}        [description]\n       */\n      doSearchHandel(_param) {\n        this.checkedList = []\n        this.loading = true\n        if (_param === true) {\n          this.pageNum = 1\n        }\n        this.$http.post(requestUrl.storePageTempList, {\n          ...this.searchContent,\n          pageNum: this.pageNum,\n          pageSize: this.pageSize\n        }).then(res => {\n          this.loading = false\n          if (res.code === 0) {\n            if (res.data && res.data.result && res.data.result.length) {\n              this.tableData = res.data.result\n              let pageNo = this.pageNum\n              this.pageNum = pageNo\n            } else {\n              this.tableData = []\n            }\n\n            this.total = res.data.total\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.loading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      /**\n       * [handleSelect 选择某一个]\n       * @return {[type]} [description]\n       */\n      handleSelect(val, row) {\n        let hash = {}\n        let checkedListTemp = []\n\n        if (utils.isKeyInArray(row.id, this.checkedList)) {\n          this.checkedList = utils.removeItemByKeyVal('id', row.id, this.checkedList)\n          return\n        } else {\n          checkedListTemp.push(row)\n        }\n\n        let checkedListTempArr = [...checkedListTemp, ...this.checkedList]\n        this.checkedList = checkedListTempArr.reduceRight((item, next) => {\n          hash[next.id] ? '' : hash[next.id] = true && item.push(next)\n          return item\n        }, [])\n      },\n      /**\n       * [handleSelectAll 选择多个]\n       * @return {[type]} [description]\n       */\n      handleSelectAll(val) {\n        let hash = {}\n        if (val.length > 0) {\n          // 全选\n          for (let item of val) {\n            this.checkedList.push(item)\n          }\n          // 去重\n          this.checkedList = this.checkedList.reduceRight((item, next) => {\n            hash[next.id] ? '' : hash[next.id] = true && item.push(next)\n            return item\n          }, [])\n        } else {\n          // 全不选 此时val.length<=0\n          // 1.获取当前table中每一条的id\n          let checkedListTemp = []\n          for (let item of this.tableData) {\n            checkedListTemp.push(item)\n          }\n          // 2.从要传递的参数中去掉这些重复的\n          let checkedListArr = utils.getSubtract(this.checkedList, checkedListTemp, 'id')\n          this.checkedList = checkedListArr && checkedListArr.length > 0 ? checkedListArr : []\n        }\n      },\n      upOrDownPageHandel(type, status, data) {\n        let tip = \"\"\n        if(status === 1) {\n          tip = \"您确定要上架所选页面，替换原页面吗？\"\n        }else if(status === 2) {\n          tip = \"您确定要下架所选页面，替换原页面吗？\"\n        }\n\n        let idsArr = []\n        if(type) {\n          // 单个\n          let id = data.id\n          idsArr.push(id)\n        }else {\n          // 批量\n          idsArr = data.map(item => {return item.id})\n        }\n        let params = {\n          DIFFCITY: true,\n          ids: idsArr,\n          useStatus: status\n        }\n        this.$confirm(tip, '温馨提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.post(requestUrl.upOrLowerPage, params).then(res => {\n            if(res.code === 0) {\n              this.$message.success(\"操作成功\")\n              this.doSearchHandel()\n              return \n            }\n            throw new Error(res.msg)\n          }).catch(e => {\n            this.$notify.error({\n              title: '提示',\n              message: e.message\n            })\n          })\n        }).catch(() => {})\n      },\n      useStatusStrHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\">\n            <div>\n              <p>1、每个门店只能上架一个首页，上架新首页时会替换原首页；</p>\n              <p>2、首页不可操作下架；</p>\n              <p>3、专题页可上架，可下架；</p>\n            </div>\n            <span slot=\"reference\">状态<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      }\n    }\n  }\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/MallConfig/StorePageMgt/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('region-city-store',{attrs:{\"showGroup\":false,\"defaultCityId\":_vm.searchContent.cityId},on:{\"StoreGroupChange\":_vm.StoreGroupChange}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"页面名称\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"页面名称\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.pageName),callback:function ($$v) {_vm.$set(_vm.searchContent, \"pageName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.pageName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"页面类型\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择页面类型\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.pageType),callback:function ($$v) {_vm.$set(_vm.searchContent, \"pageType\", $$v)},expression:\"searchContent.pageType\"}},_vm._l((_vm.pageTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请选择状态\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.useStatus),callback:function ($$v) {_vm.$set(_vm.searchContent, \"useStatus\", $$v)},expression:\"searchContent.useStatus\"}},_vm._l((_vm.useStatusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('div',{staticClass:\"sp-handel-w\"},[_c('el-button',{staticClass:\"sup-mini\",attrs:{\"size\":\"mini\",\"disabled\":_vm.checkedList.length === 0,\"icon\":\"el-icon-top\"},on:{\"click\":function($event){return _vm.upOrDownPageHandel(false, 1, _vm.checkedList)}}},[_vm._v(\"上架\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"sup-mini\",attrs:{\"size\":\"mini\",\"disabled\":_vm.checkedList.length === 0,\"icon\":\"el-icon-bottom\"},on:{\"click\":function($event){return _vm.upOrDownPageHandel(false, 2, _vm.checkedList)}}},[_vm._v(\"下架\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\"},on:{\"select\":_vm.handleSelect,\"select-all\":_vm.handleSelectAll}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"label\":\"门店\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(scope.row.storeNo)+\"_\"+_vm._s(scope.row.storeName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"label\":\"页面名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(scope.row.pageId)+\"_\"+_vm._s(scope.row.pageName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"pageTypeStr\",\"label\":\"页面类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80px\",\"prop\":\"useStatusStr\",\"render-header\":_vm.useStatusStrHeader}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[(scope.row.useStatus===2)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-top\"},on:{\"click\":function($event){return _vm.upOrDownPageHandel(true, 1, scope.row)}}},[_vm._v(\"上架\")]):_vm._e(),_vm._v(\" \"),(scope.row.useStatus===1 && scope.row.pageType===2)?_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-bottom\"},on:{\"click\":function($event){return _vm.upOrDownPageHandel(true, 2, scope.row)}}},[_vm._v(\"下架\")]):_vm._e()],1)]}}])})],1),_vm._v(\" \"),(_vm.total>0)?_c('el-pagination',{staticClass:\"tc mt20\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[20, 50, 100, 150, 200],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c5b98ac\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MallConfig/StorePageMgt/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c5b98ac\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c5b98ac\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MallConfig/StorePageMgt/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}