{"version":3,"sources":["webpack:///src/components/Activity/Presale/PresaleAct/ShowPresaleAct.vue","webpack:///./src/components/Activity/Presale/PresaleAct/ShowPresaleAct.vue?ca85","webpack:///./src/components/Activity/Presale/PresaleAct/ShowPresaleAct.vue"],"names":["requestUrl","ShowPresaleAct","data","activityId","isDisabled","addParamMsg","regionName","regionCode","activityName","startDatetime","endDatetime","presaleType","cycleType","shortCycleType","longCycleType","cutoffTime","shortPickUpType","longPickUpType","pickUpStartDate","pickUpEndDate","goodsReqList","cutoffTypeName","pickUpDate","checkedList","activityStoresCheckedList","mounted","this","$route","params","id","getDetailMsg","methods","defineProperty_default","_this","utils","$http","post","DIFFCITY","then","res","code","Error","msg","activityStartDate","activityEndDate","parseInt","cutoffDays","cutoffType","pickUpType","storeNoList","length","goodsVoList","catch","e","$notify","error","title","message","platformCurStockHeader","h","$createElement","attrs","placement","width","trigger","slot","class","limitCountHeader","content","sortNumHeader","onCopySuc","$message","success","sfInStockHeader","onCopyError","doCancelHandel","$router","push","beforeRouteLeave","to","from","next","meta","keepAlive","PresaleAct_ShowPresaleAct","render","_vm","_h","_c","_self","staticClass","ref","model","label-width","label","required","_v","_s","_e","empty-text","max-height","size","min-width","scopedSlots","_u","key","fn","scope","row","erpStoreNo","erpStoreName","prop","staticStyle","preSaleImageUrl","src","alt","onerror","goodsName","goodsNo","platformCityGoodsId","render-header","platformCurStock","stock","limitCount","sortNum","sfInStock","color","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/92.5c16da199437bded88ce.js","sourcesContent":["<style scoped>\n  .ll-p-m-w {\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n  }\n  .sf-pre-goods-img-w {\n    width: 110px;\n    height: 60px;\n  }\n  .sf-pre-goods-img-w>img {\n    width: 110px;\n    height: 60px;\n  }\n  .ll-p-m-c-r {\n    padding: 0 10px;\n  }\n  .ll-erp-p-no {\n    color: #666;\n    font-size: 12px;\n  }\n  .c-g-sfw {\n    padding-top: 0 !important;\n    padding-bottom: 0 !important;\n  }\n  .choose-store-table-wrap {\n    width: 500px;\n    border: 1px solid #ececec;\n    border-radius: 4px;\n  }\n  .choose-goods-wrap {\n    border: 1px solid #ececec;\n    border-radius: 4px;\n  }\n</style>\n\n<template>\n  <div class=\"add-form-wraper\">\n    <el-form ref=\"form\" :model=\"addParamMsg\" label-width=\"160px\">\n      <el-form-item label=\"选择区域\" required>\n        <div>{{addParamMsg.regionName}}</div>\n      </el-form-item>\n      <el-form-item label=\"预售活动名称\" required>\n        <div>{{addParamMsg.activityName}}</div>\n      </el-form-item>\n\n      <el-form-item label=\"预售类型\" required>\n        <div v-if=\"addParamMsg.presaleType === 2\">周期预售（起止时间周期性提货，适用于今订明取，或每周固定周几提）</div> \n        <div v-else-if=\"addParamMsg.presaleType === 1\">单期预售（结束后，一次性提货，适用于未上市商品，提前预售）</div> \n      </el-form-item>\n      \n      <el-form-item label=\"周期类型\" required v-if=\"addParamMsg.presaleType === 2\">\n        <div v-if=\"addParamMsg.cycleType === 1\">\n          短周期（隔1-2日提）\n        </div>\n        <div v-if=\"addParamMsg.cycleType === 2\">\n          长周期（固定每周提）\n        </div>\n      </el-form-item>\n\n      <el-form-item label=\"开始时间\" required>\n        <div>\n          {{addParamMsg.startDatetime}}\n        </div>\n      </el-form-item>\n\n      <el-form-item label=\"结束时间\" required>\n        <div>\n          {{addParamMsg.endDatetime}}\n        </div>\n      </el-form-item>\n\n      <!-- 短周期截单时间和提货日期 -->\n      <div v-if=\"addParamMsg.presaleType == 2 && addParamMsg.cycleType == 1\">\n        <el-form-item label=\"截单时间\" required>\n          <div><span>{{addParamMsg.cutoffTypeName}}</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>{{addParamMsg.cutoffTime}}</span></div>\n        </el-form-item>\n        <el-form-item label=\"提货日期\" required>\n          <div>截单后第2天</div>\n        </el-form-item>\n      </div>\n\n      <!--长周期截单时间和提货日期 -->\n      <div v-if=\"addParamMsg.presaleType == 2 && addParamMsg.cycleType == 2\">\n        <el-form-item label=\"截单时间\" required>\n          <div><span>{{addParamMsg.cutoffTypeName}}</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>{{addParamMsg.cutoffTime}}</span></div>\n        </el-form-item>\n        <el-form-item label=\"提货日期\" required>\n          <div>{{addParamMsg.pickUpDate}}</div>\n        </el-form-item>\n      </div>\n\n      <el-form-item label=\"提货日期\" required v-if=\"addParamMsg.presaleType == 1\">\n        <div>{{addParamMsg.pickUpDate}}</div>\n      </el-form-item>\n\n      <el-form-item label=\"参与门店\" required>\n        <div v-if=\"activityStoresCheckedList.length > 0\" class=\"choose-store-table-wrap\">\n          <el-table\n            class=\"fixed-height\"\n            :data=\"activityStoresCheckedList\"\n            empty-text=\"暂无选中任何门店\"\n            max-height=\"300\"\n            size=\"small\">\n            <el-table-column min-width=\"230px\" label=\"门店编码/名称\">\n              <template slot-scope=\"scope\">\n                <div>\n                  {{scope.row.erpStoreNo}}_{{scope.row.erpStoreName}}\n                </div>\n              </template>\n            </el-table-column>\n            <el-table-column min-width=\"100\" prop=\"saleTypeName\" label=\"门店类型\"></el-table-column>\n          </el-table>\n        </div>\n      </el-form-item>\n      <el-form-item label=\"设置预售商品\" required>\n        <el-table\n          class=\"fixed-height choose-goods-wrap\"\n          :data=\"checkedList\"\n          empty-text=\"暂无选中任何商品\"\n          style=\"width:100%;\"\n          max-height=\"560\"\n          size=\"small\">\n          <el-table-column min-width=\"300px\" label=\"商品信息\">\n            <template slot-scope=\"scope\">\n              <div class=\"ll-p-m-w\">\n                <div class=\"sf-pre-goods-img-w\">\n                  <img v-if=\"scope.row.preSaleImageUrl && scope.row.preSaleImageUrl != ''\" :src=\"scope.row.preSaleImageUrl\" alt=\"\" onerror=\"onerror=null;src='/shop/static/img_error.png'\">\n                  <img v-else src=\"/shop/static/img_error.png\" alt=\"\">\n                </div>\n                <div class=\"ll-p-m-c-r\">\n                  <div>\n                    {{scope.row.goodsName}}\n                  </div>\n                  <div class=\"ll-erp-p-no\">SKU编码：{{scope.row.goodsNo || '--'}}</div>\n                  <div class=\"ll-erp-p-no\" v-if=\"scope.row.platformCityGoodsId\">商品ID：{{scope.row.platformCityGoodsId || '--'}}</div>\n                </div>\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"100px\" prop=\"spec\" label=\"规格\"></el-table-column>\n          <el-table-column min-width=\"130px\" prop=\"price\" label=\"原价(必填)\"></el-table-column>\n          <el-table-column min-width=\"130px\" prop=\"preSalePrice\" label=\"预售价(必填)\"></el-table-column>\n          <el-table-column min-width=\"130px\" :render-header=\"platformCurStockHeader\">\n            <template slot-scope=\"scope\">\n              <div>\n                {{scope.row.platformCurStock}}\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"130px\" label=\"门店限售库存\">\n            <template slot-scope=\"scope\">\n              <div>\n                {{scope.row.stock}}\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"140px\" :render-header=\"limitCountHeader\">\n            <template slot-scope=\"scope\">\n              <div>\n                {{scope.row.limitCount}}\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"140px\" :render-header=\"sortNumHeader\">\n            <template slot-scope=\"scope\">\n              <div>\n                {{scope.row.sortNum}}\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column min-width=\"190px\" :render-header=\"sfInStockHeader\">\n            <template slot-scope=\"scope\">\n              <div>\n                {{scope.row.sfInStock ? '是' : '否'}}\n              </div>\n            </template>\n          </el-table-column>\n        </el-table>\n        <p><span style=\"color:red;\">*</span>预售活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；</p>\n        <p><span style=\"color:red;\">*</span>活动进行中时新上门店，请在预售商品中发布至门店；</p>\n      </el-form-item>\n      \n      <hr class=\"s-slip-tb\">\n      <el-form-item>\n        <el-button size=\"small\" @click=\"doCancelHandel\">返回</el-button>\n      </el-form-item>\n    </el-form>\n\n  </div>\n</template>\n\n<script>\n  import * as utils from '@/utils/utils'\n  const requestUrl = {\n    // 详情\n    detail: '/plateform/a/preSale/activity/detail'\n  }\n  export default {\n    data() {\n      return {\n        activityId: '', // 活动id\n        isDisabled: false,\n        addParamMsg: {\n          regionName: '',\n          regionCode: '',\n          activityName: '', // 活动名称\n          startDatetime: '', // 开始时间cycleType\n          endDatetime: '', // 结束时间\n          presaleType: 2, // 预售类型，1-单期，2-周期\n          cycleType: 1, // 周期类型，1-短周期，2-长周期\n          shortCycleType: 0, // 周期类型  每天\n          longCycleType: 3, // 周期类型  周三\n          cutoffTime: '',\n          shortPickUpType: 0, // 提货类型 隔日提\n          longPickUpType: 5, // 提货类型 周五\n\n          pickUpStartDate: '', // 提货开始时间\n          pickUpEndDate: '', // 提货结束时间\n          goodsReqList: [],\n          cutoffTypeName: '',\n          pickUpDate: ''\n        },\n\n        // 选中的商品列表\n        checkedList: [],\n        // 参与门店选中的\n        activityStoresCheckedList: []\n\n      }\n    },\n    mounted() {\n      this.activityId = this.$route.params.id\n      // 获取详情\n      this.getDetailMsg()\n    },\n    methods: {\n      // 获取详情\n      getDetailMsg() {\n        utils.showLoading()\n        this.$http.post(requestUrl.detail, {activityId: this.activityId, DIFFCITY: true}).then(res => {\n          utils.clearLoading()\n          if(res.code === 0) {\n            if(res.data) {\n              this.addParamMsg.regionCode = res.data.regionCode\n              this.addParamMsg.regionName = res.data.regionName\n              this.addParamMsg.activityName = res.data.activityName\n              if(res.data.presaleType) this.addParamMsg.presaleType = res.data.presaleType\n              if(res.data.cycleType) this.addParamMsg.cycleType = res.data.cycleType\n              this.addParamMsg.cutoffTypeName = res.data.cutoffTypeName || ''\n              if(res.data.activityStartDate) {\n                this.addParamMsg.startDatetime = res.data.activityStartDate\n              }else {\n                this.addParamMsg.startDatetime = \"\"\n              }\n              if(res.data.activityEndDate) {\n                this.addParamMsg.endDatetime = res.data.activityEndDate\n              }else {\n                this.addParamMsg.endDatetime = \"\"\n              }\n\n              if(parseInt(res.data.presaleType) === 1) {\n                this.addParamMsg.pickUpStartDate = res.data.pickUpDate\n              }else if(parseInt(res.data.presaleType) === 2) {\n                if(parseInt(res.data.cycleType) === 1) {\n                  // 短周期\n                  this.addParamMsg.shortCycleType = res.data.cutoffDays ? parseInt(res.data.cutoffDays) : 1\n                  this.addParamMsg.shortPickUpType = 0\n                }else if(parseInt(res.data.cycleType) === 2){\n                  // 长周期\n                  this.addParamMsg.longCycleType = res.data.cutoffType\n                  this.addParamMsg.longPickUpType = res.data.pickUpType\n                }\n              }\n              this.addParamMsg.pickUpDate = res.data.pickUpDate\n              this.addParamMsg.cutoffTime = res.data.cutoffTime\n              if(res.data.storeNoList && res.data.storeNoList.length) {\n                this.activityStoresCheckedList = res.data.storeNoList\n              }\n              this.checkedList = res.data.goodsVoList && res.data.goodsVoList.length > 0 ? res.data.goodsVoList : []\n            }\n            return\n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          utils.clearLoading()\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      platformCurStockHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\">\n            <div>\n              <p>区域限售库存，即所有门店共享的总预售库存；</p>\n              <p>门店限售即每个门店的预售库存，可在门店预售商品中调整门店库存；</p>\n              <p>每个商品至少要设置一种限售库存方式，最大可设置9999；</p>\n              <p>如果既设了区域限售，又设了门店限售，则先校验区域库存，再校验门店库存；</p>\n            </div>\n            <span slot=\"reference\">区域限售库存<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      limitCountHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\"\n            content=\"短周期为每人每天限购数量；长周期为每人每周限购数量；单期预售为每人活动期间限购数量；为空时不限；\">\n            <span slot=\"reference\">每人每期限购<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      sortNumHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            trigger=\"hover\"\n            content=\"0-299 越大越靠前\">\n            <span slot=\"reference\">排序权重<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      /**\n       * [copyUrl 复制链接成功]\n       * @return {[type]}      [description]\n       */\n       onCopySuc() {\n        this.$message.success(\"链接已复制至剪切板，仅限微信公众号中使用\")\n      },\n      sfInStockHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\">\n            <div>\n              <p>1、顺丰标品设为顺丰仓现货时，下单会校验仓库库存；</p>\n              <p>2、本来鲜生鲜品无需设置；</p>\n            </div>\n            <span slot=\"reference\">是否为顺丰仓现货<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      /**\n       * [onCopyError 复制链接失败]\n       * @return {[type]} [description]\n       */\n      onCopyError() {\n        this.$message.error(\"复制链接失败,请手动复制\")\n      },\n      /**\n       * [doCancelHandel 返回]\n       * @return {[type]} [description]\n       */\n      doCancelHandel() {\n        this.$router.push('/pre_act')\n      },\n      platformCurStockHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\">\n            <div>\n              <p>区域限售库存，即所有门店共享的总预售库存；</p>\n              <p>门店限售即每个门店的预售库存，可在门店预售商品中调整门店库存；</p>\n              <p>每个商品至少要设置一种限售库存方式，最大可设置9999；</p>\n              <p>如果既设了区域限售，又设了门店限售，则先校验区域库存，再校验门店库存；</p>\n            </div>\n            <span slot=\"reference\">区域限售库存<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      }\n    },\n    /**\n     * [beforeRouteLeave 页面离开]\n     * @param  {[type]}   to   [description]\n     * @param  {[type]}   from [description]\n     * @param  {Function} next [description]\n     * @return {[type]}        [description]\n     */\n    beforeRouteLeave (to, from, next){\n      to.meta.keepAlive = true;\n      next();\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/Presale/PresaleAct/ShowPresaleAct.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMsg,\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":\"选择区域\",\"required\":\"\"}},[_c('div',[_vm._v(_vm._s(_vm.addParamMsg.regionName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"预售活动名称\",\"required\":\"\"}},[_c('div',[_vm._v(_vm._s(_vm.addParamMsg.activityName))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"预售类型\",\"required\":\"\"}},[(_vm.addParamMsg.presaleType === 2)?_c('div',[_vm._v(\"周期预售（起止时间周期性提货，适用于今订明取，或每周固定周几提）\")]):(_vm.addParamMsg.presaleType === 1)?_c('div',[_vm._v(\"单期预售（结束后，一次性提货，适用于未上市商品，提前预售）\")]):_vm._e()]),_vm._v(\" \"),(_vm.addParamMsg.presaleType === 2)?_c('el-form-item',{attrs:{\"label\":\"周期类型\",\"required\":\"\"}},[(_vm.addParamMsg.cycleType === 1)?_c('div',[_vm._v(\"\\n        短周期（隔1-2日提）\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.cycleType === 2)?_c('div',[_vm._v(\"\\n        长周期（固定每周提）\\n      \")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"required\":\"\"}},[_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.addParamMsg.startDatetime)+\"\\n      \")])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"required\":\"\"}},[_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.addParamMsg.endDatetime)+\"\\n      \")])]),_vm._v(\" \"),(_vm.addParamMsg.presaleType == 2 && _vm.addParamMsg.cycleType == 1)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"截单时间\",\"required\":\"\"}},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.addParamMsg.cutoffTypeName))]),_vm._v(\"    \"),_c('span',[_vm._v(_vm._s(_vm.addParamMsg.cutoffTime))])])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"提货日期\",\"required\":\"\"}},[_c('div',[_vm._v(\"截单后第2天\")])])],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.presaleType == 2 && _vm.addParamMsg.cycleType == 2)?_c('div',[_c('el-form-item',{attrs:{\"label\":\"截单时间\",\"required\":\"\"}},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.addParamMsg.cutoffTypeName))]),_vm._v(\"    \"),_c('span',[_vm._v(_vm._s(_vm.addParamMsg.cutoffTime))])])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"提货日期\",\"required\":\"\"}},[_c('div',[_vm._v(_vm._s(_vm.addParamMsg.pickUpDate))])])],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.presaleType == 1)?_c('el-form-item',{attrs:{\"label\":\"提货日期\",\"required\":\"\"}},[_c('div',[_vm._v(_vm._s(_vm.addParamMsg.pickUpDate))])]):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"参与门店\",\"required\":\"\"}},[(_vm.activityStoresCheckedList.length > 0)?_c('div',{staticClass:\"choose-store-table-wrap\"},[_c('el-table',{staticClass:\"fixed-height\",attrs:{\"data\":_vm.activityStoresCheckedList,\"empty-text\":\"暂无选中任何门店\",\"max-height\":\"300\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"230px\",\"label\":\"门店编码/名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n                \"+_vm._s(scope.row.erpStoreNo)+\"_\"+_vm._s(scope.row.erpStoreName)+\"\\n              \")])]}}],null,false,974369925)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100\",\"prop\":\"saleTypeName\",\"label\":\"门店类型\"}})],1)],1):_vm._e()]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"设置预售商品\",\"required\":\"\"}},[_c('el-table',{staticClass:\"fixed-height choose-goods-wrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.checkedList,\"empty-text\":\"暂无选中任何商品\",\"max-height\":\"560\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"300px\",\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ll-p-m-w\"},[_c('div',{staticClass:\"sf-pre-goods-img-w\"},[(scope.row.preSaleImageUrl && scope.row.preSaleImageUrl != '')?_c('img',{attrs:{\"src\":scope.row.preSaleImageUrl,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}}):_c('img',{attrs:{\"src\":\"/shop/static/img_error.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"ll-p-m-c-r\"},[_c('div',[_vm._v(\"\\n                  \"+_vm._s(scope.row.goodsName)+\"\\n                \")]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo || '--'))]),_vm._v(\" \"),(scope.row.platformCityGoodsId)?_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"商品ID：\"+_vm._s(scope.row.platformCityGoodsId || '--'))]):_vm._e()])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"spec\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"prop\":\"price\",\"label\":\"原价(必填)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"prop\":\"preSalePrice\",\"label\":\"预售价(必填)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"render-header\":_vm.platformCurStockHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n              \"+_vm._s(scope.row.platformCurStock)+\"\\n            \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"门店限售库存\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n              \"+_vm._s(scope.row.stock)+\"\\n            \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"render-header\":_vm.limitCountHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n              \"+_vm._s(scope.row.limitCount)+\"\\n            \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"140px\",\"render-header\":_vm.sortNumHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n              \"+_vm._s(scope.row.sortNum)+\"\\n            \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"190px\",\"render-header\":_vm.sfInStockHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n              \"+_vm._s(scope.row.sfInStock ? '是' : '否')+\"\\n            \")])]}}])})],1),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"预售活动未发布时可以编辑商品，发布后只可添加新商品，不可再编辑已有商品；\")]),_vm._v(\" \"),_c('p',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"活动进行中时新上门店，请在预售商品中发布至门店；\")])],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"返回\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b925757\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/Presale/PresaleAct/ShowPresaleAct.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5b925757\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShowPresaleAct.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShowPresaleAct.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShowPresaleAct.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b925757\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShowPresaleAct.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5b925757\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/Presale/PresaleAct/ShowPresaleAct.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}