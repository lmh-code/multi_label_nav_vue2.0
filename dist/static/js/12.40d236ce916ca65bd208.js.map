{"version":3,"sources":["webpack:///src/components/MallConfig/PageMgt/components/Topic.vue","webpack:///./src/components/MallConfig/PageMgt/components/Topic.vue?c1c8","webpack:///./src/components/MallConfig/PageMgt/components/Topic.vue","webpack:///src/components/MallConfig/Ad/AddPage.vue","webpack:///./src/components/MallConfig/Ad/AddPage.vue?5970","webpack:///./src/components/MallConfig/Ad/AddPage.vue","webpack:///src/components/MallConfig/PageMgt/components/Category.vue","webpack:///./src/components/MallConfig/PageMgt/components/Category.vue?5ca2","webpack:///./src/components/MallConfig/PageMgt/components/Category.vue"],"names":["requestUrl","Topic","data","topicId","topicOptions","visible","created","this","selectPageTopicList","methods","setDefaultMsg","params","doConfirmHandel","_this","filterMsg","filter","item","pageId","adLinkName","pageName","adLinkId","adLinkUrl","$emit","_this2","$http","post","pageType","DIFFCITY","then","res","code","Error","msg","length","catch","e","console","log","message","components_Topic","render","_vm","_h","$createElement","_c","_self","attrs","close-on-press-escape","close-on-click-modal","title","width","on","update:visible","$event","ref","label-width","label","required","staticClass","filterable","placeholder","clearable","size","model","value","callback","$$v","expression","_l","key","idx","_v","slot","click","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__","fileUrlList","AddPage","isDisabled","imageUploadLoading","pickerOptions","disabledDate","time","getTime","Date","now","rules","adName","validator","rule","trigger","startDateTime","endDateTime","startDatetimeNum","utils","addParamMsg","adType","regionCode","localStorage","get","storeNoList","adImgUrl","storeCheckedList","adTypeOptions","constant","appIdOptions","components","region","Region","choose-store","ChooseStore","topic","categoty","Category","choose-goods","ChooseGoods","chooseStoreOpen","checkedList","$refs","chooseStore","setDefault","confirmChooseStore","JSON","parse","stringify_default","deleteStoreItem","row","storeNo","doCancelHandel","$confirm","confirmButtonText","cancelButtonText","$router","push","doSaveHandel","formName","_this3","validate","valid","$message","map","extends_default","setTimeout","success","$notify","error","imageUploadReg","file","_this4","isPic","indexOf","isJPG","isSizeNum","isSize","promise_default","a","resolve","reject","_URL","window","URL","webkitURL","img","Image","onload","height","src","createObjectURL","getToken","_this5","token","fileName","emitUpload","_this6","qiniu_min","subscribe","complete","urlImage","next","adTypeChange","origin","category","categoryId","isAdvance","chooseGoods","_params","_params2","selectTopicChange","confirmChooseGoods","productName","platformCityGoodsId","activityPlatCityGoodsId","activityType","Ad_AddPage","className","prop","$set","format","value-format","picker-options","action","show-file-list","before-upload","http-request","directives","name","rawName","change","_s","_e","trim","k","icon","empty-text","max-height","min-width","scopedSlots","_u","fn","scope","storeName","align","disabled","selectCategotyChange","ssrContext","categoryList","getCategoryList","categoryName","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","done","categoryVoList","err","return","components_Category"],"mappings":"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","file":"static/js/12.40d236ce916ca65bd208.js","sourcesContent":["<template>\r\n  <el-dialog \r\n    :close-on-press-escape=\"false\"\r\n    :close-on-click-modal=\"false\"\r\n    title=\"选择专题\" \r\n    :visible.sync=\"visible\" \r\n    width='460px'>\r\n    <el-form ref=\"form\" label-width=\"60px\">\r\n      <el-form-item label=\"专题\" required>\r\n        <el-select class=\"search-input\" v-model=\"topicId\" filterable placeholder=\"请选择专题\" clearable size=\"small\">\r\n          <el-option\r\n            v-for=\"item in topicOptions\"\r\n            :key=\"item.idx\"\r\n            :label=\"item.pageName\"\r\n            :value=\"item.pageId\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"visible = false\" size=\"mini\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"doConfirmHandel\" size=\"mini\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\n  const requestUrl = {\r\n    selectPageTopicList: '/plateform/a/mall/pageTemp/selectPageTopicList'\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        topicId: '',\r\n        topicOptions: [],\r\n        visible: false\r\n      }\r\n    },\r\n    created() {\r\n      this.selectPageTopicList()\r\n    },\r\n    methods: {\r\n      setDefaultMsg(params) {\r\n        this.visible = params.visible || false\r\n        this.topicId = params.topicId || ''\r\n      },\r\n      doConfirmHandel() {\r\n        let filterMsg = this.topicOptions.filter(item => {\r\n          return item.pageId === this.topicId\r\n        })[0]\r\n        let params = {}\r\n        if(filterMsg) {\r\n          params.adLinkName = filterMsg.pageName\r\n          params.adLinkId = filterMsg.pageId\r\n          params.adLinkUrl = `/pages/shopping/subject?id=${filterMsg.pageId}`\r\n        }\r\n        this.visible = false\r\n        this.$emit(\"selectTopicChange\", params)\r\n      },\r\n      selectPageTopicList() {\r\n        this.$http.post(requestUrl.selectPageTopicList, {pageType: 2, DIFFCITY: true}).then(res => {\r\n          if(res.code === 0) {\r\n            this.topicOptions = res.data && res.data.length ? res.data : []\r\n            return \r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示(选择专题):\", e.message)\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/MallConfig/PageMgt/components/Topic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"close-on-press-escape\":false,\"close-on-click-modal\":false,\"title\":\"选择专题\",\"visible\":_vm.visible,\"width\":\"460px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"60px\"}},[_c('el-form-item',{attrs:{\"label\":\"专题\",\"required\":\"\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择专题\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.topicId),callback:function ($$v) {_vm.topicId=$$v},expression:\"topicId\"}},_vm._l((_vm.topicOptions),function(item){return _c('el-option',{key:item.idx,attrs:{\"label\":item.pageName,\"value\":item.pageId}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.doConfirmHandel}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56527002\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MallConfig/PageMgt/components/Topic.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Topic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Topic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56527002\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Topic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MallConfig/PageMgt/components/Topic.vue\n// module id = null\n// module chunks = ","<style>\r\n  @import \"../../../../static/style/file_upload.css\";\r\n  .choose-store-table-wrap {\r\n    width: 500px;\r\n    border: 1px solid #ececec;\r\n    border-radius: 4px;\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <div class=\"add-form-wraper\">\r\n    <el-form :model=\"addParamMsg\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"160px\" >\r\n      <region className=\"add-input\" label=\"选择区域\" :required=\"true\"></region>\r\n      <el-form-item label=\"弹窗名称\" prop=\"adName\">\r\n        <el-input v-model=\"addParamMsg.adName\" size=\"small\" class=\"add-input\" placeholder=\"弹窗名称\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"开始时间\" prop=\"startDateTime\">\r\n        <el-date-picker\r\n          class=\"add-input\"\r\n          size=\"small\"\r\n          v-model=\"addParamMsg.startDateTime\"\r\n          type=\"datetime\"\r\n          format=\"yyyy-MM-dd HH:mm:ss\"\r\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n          :picker-options=\"pickerOptions\"\r\n          placeholder=\"请输入开始时间\">\r\n        </el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item label=\"结束时间\" prop=\"endDateTime\">\r\n        <el-date-picker\r\n          class=\"add-input\"\r\n          size=\"small\"\r\n          v-model=\"addParamMsg.endDateTime\"\r\n          type=\"datetime\"\r\n          format=\"yyyy-MM-dd HH:mm:ss\"\r\n          value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n          :picker-options=\"pickerOptions\"\r\n          placeholder=\"请输入结束时间\">\r\n        </el-date-picker>\r\n      </el-form-item>\r\n      <el-form-item label=\"上传图片\" required>\r\n        <div>\r\n          <el-upload\r\n            class=\"avatar-uploader-3ratio4\"\r\n            action=\"\"\r\n            :show-file-list=\"false\"\r\n            :before-upload=\"imageUploadReg\"\r\n            :http-request=\"emitUpload\">\r\n            <div v-loading=\"imageUploadLoading\">\r\n              <img v-if=\"addParamMsg.adImgUrl\" :src=\"addParamMsg.adImgUrl\" class=\"avatar-3ratio4\">\r\n              <i v-else class=\"el-icon-plus avatar-uploader-3ratio4-icon\"></i>\r\n            </div>\r\n          </el-upload>\r\n          <span>建议上传大小不超过300K的750*1000像素（宽高比为 3:4）的png图片</span>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"跳转路径\" prop=\"adType\">\r\n        <el-select class=\"add-input\" v-model=\"addParamMsg.adType\" filterable placeholder=\"跳转路径\" size=\"small\" @change=\"adTypeChange\">\r\n          <el-option\r\n            v-for=\"item in adTypeOptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n        <div v-if=\"addParamMsg.adType === 'TOPIC' && addParamMsg.adLinkName\">\r\n          {{addParamMsg.adLinkName}}\r\n          <el-button size=\"small\" type=\"text\" @click=\"adTypeChange('TOPIC', true)\">修改</el-button>\r\n        </div>\r\n        <div v-if=\"addParamMsg.adType === 'CATEGORY' && addParamMsg.adLinkName\">\r\n          {{addParamMsg.adLinkName}}\r\n          <el-button size=\"small\" type=\"text\" @click=\"adTypeChange('CATEGORY', true)\">修改</el-button>\r\n        </div>\r\n        <div v-if=\"addParamMsg.adType === 'GOODS' && addParamMsg.adLinkName\">\r\n          {{addParamMsg.adLinkName}}\r\n          <el-button size=\"small\" type=\"text\" @click=\"adTypeChange('GOODS', true)\">修改</el-button>\r\n        </div>\r\n        <div v-if=\"addParamMsg.adType === 'SECKILLGOODS' && addParamMsg.adLinkName\">\r\n          {{addParamMsg.adLinkName}}\r\n          <el-button size=\"small\" type=\"text\" @click=\"adTypeChange('SECKILLGOODS', true)\">修改</el-button>\r\n        </div>\r\n        <div v-if=\"addParamMsg.adType === 'BESTSELLERGOODS' && addParamMsg.adLinkName\">\r\n          {{addParamMsg.adLinkName}}\r\n          <el-button size=\"small\" type=\"text\" @click=\"adTypeChange('BESTSELLERGOODS', true)\">修改</el-button>\r\n        </div>\r\n        <div v-if=\"addParamMsg.adType === 'URL'\">\r\n          <span class=\"label-txt-wrap\">输入路径: </span> \r\n          <el-input size=\"small\" class=\"dialog-input\" v-model.trim=\"addParamMsg.adLinkUrl\" placeholder=\"请输入指定URL\"></el-input>\r\n        </div>\r\n        <div v-if=\"addParamMsg.adType === 'APPLET'\">\r\n          <div>\r\n            <span class=\"label-txt-wrap\">选择程序: </span> \r\n            <el-select class=\"dialog-input\" filterable placeholder=\"选择程序\" size=\"small\" v-model=\"addParamMsg.adLinkId\">\r\n              <el-option\r\n                v-for=\"k in appIdOptions\"\r\n                :key=\"k.value\"\r\n                :label=\"k.label\"\r\n                :value=\"k.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </div>\r\n          <div>\r\n            <span class=\"label-txt-wrap\">输入路径: </span> \r\n            <el-input size=\"small\" class=\"dialog-input\" v-model.trim=\"addParamMsg.adLinkUrl\" placeholder=\"请输入指定小程序路径\"></el-input>\r\n          </div>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"应用门店\" required>\r\n        <el-button size=\"small\" @click=\"chooseStoreOpen\" icon=\"el-icon-plus\">选择门店</el-button>\r\n        <div v-if=\"storeCheckedList.length > 0\" class=\"choose-store-table-wrap\">\r\n          <el-table\r\n            class=\"fixed-height\"\r\n            :data=\"storeCheckedList\"\r\n            empty-text=\"暂无选中任何门店\"\r\n            max-height=\"300\"\r\n            size=\"small\">\r\n            <el-table-column min-width=\"170px\" label=\"门店编码/名称\">\r\n              <template slot-scope=\"scope\">\r\n                <div>\r\n                  {{scope.row.storeNo}}_{{scope.row.storeName}}\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column min-width=\"100\" prop=\"cityName\" label=\"城市\"></el-table-column>\r\n            <el-table-column min-width=\"100\" prop=\"saleTypeStr\" label=\"门店类型\"></el-table-column>\r\n            <el-table-column\r\n              align=\"center\"\r\n              label=\"操作\"\r\n              width=\"100\">\r\n              <template slot-scope=\"scope\" size=\"small\">\r\n                <el-button @click=\"deleteStoreItem(scope.row)\" type=\"text\" size=\"mini\" icon=\"el-icon-delete\">删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-form-item>\r\n      <hr class=\"s-slip-tb\">\r\n      <el-form-item>\r\n        <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel('ruleForm')\" :disabled=\"isDisabled\" :icon=\"isDisabled ? 'el-icon-loading' : null\">保存</el-button>\r\n        <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n\r\n    <choose-store ref=\"chooseStore\" @confirmChooseStore=\"confirmChooseStore\"></choose-store>\r\n    <topic ref=\"topic\" @selectTopicChange=\"selectTopicChange\"></topic>\r\n    <categoty ref=\"category\" @selectCategotyChange=\"selectTopicChange\"></categoty>\r\n    <choose-goods ref=\"chooseGoods\" @confirmChooseGoods=\"confirmChooseGoods\"></choose-goods>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Storage from '@/utils/localStorage'\r\n  import * as utils from '@/utils/utils'\r\n  import * as qiniu from 'qiniu-js'\r\n  import Region from '@/components/Common/StoreCommon/Region'\r\n  import ChooseStore from \"../PageMgt/components/ChooseStore\"\r\n  import Topic from \"../PageMgt/components/Topic\"\r\n  import Category from \"../PageMgt/components/Category\"\r\n  import ChooseGoods from \"../PageMgt/components/ChooseGoods\"\r\n  import constant from './constant'\r\n  const fileUrlList = {\r\n    getQiNiuToken: '/foundation/qiniu/auth/file'\r\n  }\r\n  const requestUrl = {\r\n    // 添加弹窗广告\r\n    addPopupAd: '/plateform/p/client/mall/popup/ad/addPopupAd'\r\n  }\r\n  export default {\r\n    data() {\r\n      const adNameValidator = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('弹窗名称不能为空'))\r\n        }else {\r\n          callback()\r\n        }\r\n      }\r\n      const startDateTimeValidator = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('开始时间不能为空'))\r\n        }else {\r\n          callback()\r\n        }\r\n      }\r\n      const endDateTimeValidator = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('结束时间不能为空'))\r\n        }else {\r\n          let startDatetimeNum = utils.changeDateToTimestamp(this.addParamMsg.startDateTime)\r\n          let endDatetimeNum = utils.changeDateToTimestamp(this.addParamMsg.endDateTime)\r\n          if(endDatetimeNum <= startDatetimeNum) {\r\n            return callback(new Error('结束时间不能早于或等于开始时间'))\r\n          }else {\r\n            callback()\r\n          }\r\n        }\r\n      }\r\n      const adTypeValidator = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('请选择跳转路径'))\r\n        }else {\r\n          callback()\r\n        }\r\n      }\r\n      return {\r\n        isDisabled: false,\r\n        imageUploadLoading: false,\r\n        pickerOptions: {\r\n          disabledDate(time) {\r\n            return time.getTime() < Date.now() - 8.64e7\r\n          }\r\n        },\r\n        rules: {\r\n          adName: [\r\n            {required: true, validator: adNameValidator, trigger: 'blur'}\r\n          ],\r\n          startDateTime: [\r\n            {required: true, validator: startDateTimeValidator, trigger: 'blur'}\r\n          ],\r\n          endDateTime: [\r\n            {required: true, validator: endDateTimeValidator, trigger: 'blur'}\r\n          ],\r\n          adType: [\r\n            {required: true, validator: adTypeValidator, trigger: 'change'}\r\n          ]\r\n        },\r\n        addParamMsg: {\r\n          DIFFCITY: true,\r\n          regionCode: Storage.get('regionCode') || '', // 区域ID\r\n          adName: '',\r\n          startDateTime: '',\r\n          endDateTime: '',\r\n          adType: '',\r\n          adLinkUrl: '',\r\n          adLinkName: '',\r\n          adLinkId: '',\r\n          storeNoList: [],\r\n          adImgUrl: ''\r\n        },\r\n        storeCheckedList: [],\r\n        adTypeOptions: constant.adTypeOptions.filter(item => {\r\n          return item.value\r\n        }),\r\n        appIdOptions: constant.appIdOptions\r\n      }\r\n    },\r\n    components: {\r\n      \"region\": Region,\r\n      \"choose-store\": ChooseStore,\r\n      \"topic\": Topic,\r\n      \"categoty\": Category,\r\n      \"choose-goods\": ChooseGoods\r\n    },\r\n    methods: {\r\n      chooseStoreOpen() {\r\n        let params = {\r\n          title: '选择门店',\r\n          checkedList: this.storeCheckedList,\r\n          regionCode: this.addParamMsg.regionCode\r\n        }\r\n        this.$refs.chooseStore.setDefault(params)\r\n      },\r\n      confirmChooseStore(params) {\r\n        this.storeCheckedList = params.checkedList && params.checkedList.length ? JSON.parse(JSON.stringify(params.checkedList)) : []\r\n      },\r\n      deleteStoreItem(row) {\r\n        let storeNo = row.storeNo\r\n        this.storeCheckedList = this.storeCheckedList.filter(item => {\r\n          return item.storeNo !== storeNo\r\n        })\r\n      },\r\n      doCancelHandel() {\r\n        this.$confirm('确定取消吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push('/ad')\r\n        }).catch(() => {})\r\n      },\r\n      doSaveHandel(formName) {\r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            if(!this.addParamMsg.adImgUrl) {\r\n              this.$message('请上传图片')\r\n              return\r\n            }\r\n            if(!this.addParamMsg.adLinkUrl) {\r\n              if(this.addParamMsg.adType === 'TOPIC') {\r\n                this.$message('请选择专题')\r\n                return\r\n              }else if(this.addParamMsg.adType === 'CATEGORY') {\r\n                this.$message('请选择分类')\r\n                return\r\n              }else if(this.addParamMsg.adType === 'GOODS') {\r\n                this.$message('请选择预售商品')\r\n                return\r\n              }else if(this.addParamMsg.adType === 'URL') {\r\n                // 指定URL\r\n                this.$message('请输入指定URL')\r\n                return\r\n              }else if(this.addParamMsg.adType === 'SECKILLGOODS') {\r\n                this.$message('请选择秒杀商品')\r\n                return\r\n              }else if(this.addParamMsg.adType === 'SAVEPACKAGE') {\r\n                this.$message('请选择爆款商品')\r\n                return\r\n              }\r\n            }\r\n            if(this.addParamMsg.adType === 'APPLET') {\r\n              if(!this.addParamMsg.adLinkId) {\r\n                this.$message('请选择要跳转的小程序')\r\n                return\r\n              }else if(!this.addParamMsg.adLinkUrl) {\r\n                this.$message('请输入要跳转的小程序路径')\r\n                return\r\n              }\r\n            }\r\n            if(this.storeCheckedList && this.storeCheckedList.length) {\r\n              this.addParamMsg.storeNoList = this.storeCheckedList.map(item => {\r\n                return item.storeNo\r\n              })\r\n            }else {\r\n              this.$message('请选择应用门店')\r\n              return\r\n            }\r\n            this.isDisabled = true\r\n            this.$http.post(requestUrl.addPopupAd, {...this.addParamMsg}).then(res => {\r\n              setTimeout(() => {\r\n                this.isDisabled = false\r\n              }, 800)\r\n              if(res.code === 0) {\r\n                this.$message.success(\"保存成功\")\r\n                this.$router.push('/ad')\r\n                return\r\n              }\r\n              throw new Error(res.msg)\r\n            }).catch(e => {\r\n              this.isDisabled = false\r\n              this.$notify.error({\r\n                title: '提示',\r\n                message: e.message\r\n              })\r\n            })\r\n          } else {\r\n            return false;\r\n          }\r\n        })\r\n      },\r\n      imageUploadReg (file) {\r\n        const isPic = file.type.indexOf('image/') !== -1\r\n        const isJPG = file.type === 'image/png'\r\n        const isSizeNum = file.size <= 300 * 1024\r\n        if (!isPic) {\r\n          this.$message.error('建议上传大小不超过300K的750*1000像素（宽高比为 3:4）的png图片')\r\n          return false\r\n        }\r\n        if (!isJPG) {\r\n          this.$message.error('建议上传大小不超过300K的750*1000像素（宽高比为 3:4）的png图片')\r\n          return false\r\n        }\r\n        if (!isSizeNum) {\r\n          this.$message.error('建议上传大小不超过300K的750*1000像素（宽高比为 3:4）的png图片')\r\n          return false\r\n        }\r\n        /**\r\n         * [检测上传图片宽高]\r\n         */\r\n        const isSize = new Promise(function(resolve, reject) {\r\n          let _URL = window.URL || window.webkitURL\r\n          let img = new Image();\r\n          img.onload = function() {\r\n            img.width / img.height === 3 / 4 ? resolve() : reject()\r\n          }\r\n          img.src = _URL.createObjectURL(file)\r\n        }).then(() => {\r\n          return file\r\n        }, () => {\r\n          this.$message.error('建议上传大小不超过300K的750*1000像素（宽高比为 3:4）的png图片')\r\n          return Promise.reject()\r\n        })\r\n        return isPic && isJPG && isSizeNum && isSize\r\n      },\r\n      /**\r\n       * [getToken 通过后台封装的接口获取七牛的token]\r\n       * @return {[type]}            [description]\r\n       */\r\n      getToken () {\r\n        return this.$http.post(fileUrlList.getQiNiuToken, {}).then(res => {\r\n          if (res.code == 0) {\r\n            let token = res.data.token\r\n            let fileName = res.data.key\r\n            return {fileName, token}\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.imageUploadLoading = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [emitUpload 上传图片]\r\n       * @param  {[type]} e [description]\r\n       * @return {[type]}   [description]\r\n       */\r\n       emitUpload(e) {\r\n        this.imageUploadLoading = true\r\n        this.getToken().then((res) => {\r\n          // 开始上传图片\r\n          let uploader = qiniu.upload(e.file, res.fileName, res.token)\r\n          uploader.subscribe({\r\n            error: () => {\r\n              this.imageUploadLoading = false\r\n            },\r\n            complete: (res) => {\r\n              // 添加内容设置图片地址\r\n              let urlImage = 'http://retailimg01.benlailife.com/' + res.key\r\n              this.imageUploadLoading = false\r\n              // 设置对应的图片地址\r\n              this.addParamMsg.adImgUrl = urlImage\r\n            },\r\n            next: res => {\r\n            }\r\n          })\r\n        })\r\n      },\r\n      adTypeChange(type, origin) {\r\n        if(!origin) {\r\n          this.addParamMsg.adLinkName = ''\r\n          this.addParamMsg.adLinkUrl = ''\r\n          this.addParamMsg.adLinkId = ''\r\n        }\r\n        if(type === 'TOPIC') {\r\n          // 专题\r\n          this.$refs.topic.setDefaultMsg({ visible: true, topicId: this.addParamMsg.adLinkId })\r\n        }else if(type === 'CATEGORY') {\r\n          // 分类\r\n          this.$refs.category.setDefaultMsg({ visible: true, categoryId: this.addParamMsg.adLinkId })\r\n        }else if(type === 'GOODS') {\r\n          // 预售商品详情\r\n          let params = {\r\n            title: '选择商品',\r\n            regionCode: this.addParamMsg.regionCode,\r\n            // 获取商品区分(null,0:正常及时达,1:预售,2:秒杀,3:爆款)\r\n            isAdvance: 1\r\n          }\r\n          this.$refs.chooseGoods.setDefault(params)\r\n        }else if(type === 'HOME') {\r\n          // 首页\r\n          this.addParamMsg.adLinkName = '首页'\r\n          this.addParamMsg.adLinkUrl = '/pages/shopping/index'\r\n        }else if(type === 'URL') {\r\n          // URL\r\n          this.addParamMsg.adLinkName = '跳转指定URL'\r\n        }else if(type === 'APPLET') {\r\n          // 小程序\r\n          this.addParamMsg.adLinkName = '跳转小程序'\r\n        }else if(type === 'SECKILLGOODS') {\r\n          // 秒杀商品详情\r\n          let params = {\r\n            title: '选择商品',\r\n            regionCode: this.addParamMsg.regionCode,\r\n            // 获取商品区分(null,0:正常及时达,1:预售,2:秒杀,3:爆款)\r\n            isAdvance: 2\r\n          }\r\n          this.$refs.chooseGoods.setDefault(params)\r\n        }else if(type === 'BESTSELLERGOODS') {\r\n          // 爆款商品详情\r\n          let params = {\r\n            title: '选择商品',\r\n            regionCode: this.addParamMsg.regionCode,\r\n            // 获取商品区分(null,0:正常及时达,1:预售,2:秒杀,3:爆款)\r\n            isAdvance: 3\r\n          }\r\n          this.$refs.chooseGoods.setDefault(params)\r\n        }else if(type === 'SAVEPACKAGE') {\r\n          // 省钱礼包\r\n          this.addParamMsg.adLinkName = '省钱礼包'\r\n          this.addParamMsg.adLinkUrl = '/pages/act/SavePackage/SavePackage'\r\n        }else if(type === 'SECKILLAREA') {\r\n          // 秒杀专区\r\n          this.addParamMsg.adLinkName = '秒杀专区'\r\n          this.addParamMsg.adLinkUrl = '/pages/timelyBuy/timelyBuy'\r\n        }else if(type === 'APPLYLEADER') {\r\n          // 申请团长\r\n          this.addParamMsg.adLinkName = '申请团长'\r\n          this.addParamMsg.adLinkUrl = '/pages/apply/apply'\r\n        }else if(type === 'MEMBERWALLET') {\r\n          // 会员充值\r\n          this.addParamMsg.adLinkName = '会员充值'\r\n          this.addParamMsg.adLinkUrl = '/pages/wallet/index'\r\n        }else if(type === 'POINTPROM') {\r\n          // 积分换券\r\n          this.addParamMsg.adLinkName = '积分换券'\r\n          this.addParamMsg.adLinkUrl = '/pages/act/PointProw/PointProw'\r\n        }\r\n      },\r\n      /**\r\n       * @description: 选择专题、分类发生变化\r\n       * @param {type} \r\n       * @return: \r\n       */\r\n      selectTopicChange(params) {\r\n        this.addParamMsg.adLinkName = params.adLinkName\r\n        this.addParamMsg.adLinkUrl = params.adLinkUrl\r\n        this.addParamMsg.adLinkId = params.adLinkId\r\n      },\r\n      confirmChooseGoods(params) {\r\n        this.addParamMsg.adLinkName = params.productName\r\n        this.addParamMsg.adLinkUrl = `/pages/product/detail?type=4&id=${params.platformCityGoodsId}&activityPlatCityGoodsId=${params.activityPlatCityGoodsId}&activityType=${params.activityType}`\r\n        this.addParamMsg.adLinkId = params.activityPlatCityGoodsId\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/MallConfig/Ad/AddPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.addParamMsg,\"rules\":_vm.rules,\"label-width\":\"160px\"}},[_c('region',{attrs:{\"className\":\"add-input\",\"label\":\"选择区域\",\"required\":true}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"弹窗名称\",\"prop\":\"adName\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"弹窗名称\"},model:{value:(_vm.addParamMsg.adName),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"adName\", $$v)},expression:\"addParamMsg.adName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"prop\":\"startDateTime\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"picker-options\":_vm.pickerOptions,\"placeholder\":\"请输入开始时间\"},model:{value:(_vm.addParamMsg.startDateTime),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"startDateTime\", $$v)},expression:\"addParamMsg.startDateTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"prop\":\"endDateTime\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"type\":\"datetime\",\"format\":\"yyyy-MM-dd HH:mm:ss\",\"value-format\":\"yyyy-MM-dd HH:mm:ss\",\"picker-options\":_vm.pickerOptions,\"placeholder\":\"请输入结束时间\"},model:{value:(_vm.addParamMsg.endDateTime),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"endDateTime\", $$v)},expression:\"addParamMsg.endDateTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"required\":\"\"}},[_c('div',[_c('el-upload',{staticClass:\"avatar-uploader-3ratio4\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadReg,\"http-request\":_vm.emitUpload}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading),expression:\"imageUploadLoading\"}]},[(_vm.addParamMsg.adImgUrl)?_c('img',{staticClass:\"avatar-3ratio4\",attrs:{\"src\":_vm.addParamMsg.adImgUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-3ratio4-icon\"})])]),_vm._v(\" \"),_c('span',[_vm._v(\"建议上传大小不超过300K的750*1000像素（宽高比为 3:4）的png图片\")])],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"跳转路径\",\"prop\":\"adType\"}},[_c('el-select',{staticClass:\"add-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"跳转路径\",\"size\":\"small\"},on:{\"change\":_vm.adTypeChange},model:{value:(_vm.addParamMsg.adType),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"adType\", $$v)},expression:\"addParamMsg.adType\"}},_vm._l((_vm.adTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_vm._v(\" \"),(_vm.addParamMsg.adType === 'TOPIC' && _vm.addParamMsg.adLinkName)?_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.addParamMsg.adLinkName)+\"\\n        \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.adTypeChange('TOPIC', true)}}},[_vm._v(\"修改\")])],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.adType === 'CATEGORY' && _vm.addParamMsg.adLinkName)?_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.addParamMsg.adLinkName)+\"\\n        \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.adTypeChange('CATEGORY', true)}}},[_vm._v(\"修改\")])],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.adType === 'GOODS' && _vm.addParamMsg.adLinkName)?_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.addParamMsg.adLinkName)+\"\\n        \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.adTypeChange('GOODS', true)}}},[_vm._v(\"修改\")])],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.adType === 'SECKILLGOODS' && _vm.addParamMsg.adLinkName)?_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.addParamMsg.adLinkName)+\"\\n        \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.adTypeChange('SECKILLGOODS', true)}}},[_vm._v(\"修改\")])],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.adType === 'BESTSELLERGOODS' && _vm.addParamMsg.adLinkName)?_c('div',[_vm._v(\"\\n        \"+_vm._s(_vm.addParamMsg.adLinkName)+\"\\n        \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"text\"},on:{\"click\":function($event){return _vm.adTypeChange('BESTSELLERGOODS', true)}}},[_vm._v(\"修改\")])],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.adType === 'URL')?_c('div',[_c('span',{staticClass:\"label-txt-wrap\"},[_vm._v(\"输入路径: \")]),_vm._v(\" \"),_c('el-input',{staticClass:\"dialog-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入指定URL\"},model:{value:(_vm.addParamMsg.adLinkUrl),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"adLinkUrl\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addParamMsg.adLinkUrl\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMsg.adType === 'APPLET')?_c('div',[_c('div',[_c('span',{staticClass:\"label-txt-wrap\"},[_vm._v(\"选择程序: \")]),_vm._v(\" \"),_c('el-select',{staticClass:\"dialog-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"选择程序\",\"size\":\"small\"},model:{value:(_vm.addParamMsg.adLinkId),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"adLinkId\", $$v)},expression:\"addParamMsg.adLinkId\"}},_vm._l((_vm.appIdOptions),function(k){return _c('el-option',{key:k.value,attrs:{\"label\":k.label,\"value\":k.value}})}),1)],1),_vm._v(\" \"),_c('div',[_c('span',{staticClass:\"label-txt-wrap\"},[_vm._v(\"输入路径: \")]),_vm._v(\" \"),_c('el-input',{staticClass:\"dialog-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入指定小程序路径\"},model:{value:(_vm.addParamMsg.adLinkUrl),callback:function ($$v) {_vm.$set(_vm.addParamMsg, \"adLinkUrl\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addParamMsg.adLinkUrl\"}})],1)]):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"应用门店\",\"required\":\"\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.chooseStoreOpen}},[_vm._v(\"选择门店\")]),_vm._v(\" \"),(_vm.storeCheckedList.length > 0)?_c('div',{staticClass:\"choose-store-table-wrap\"},[_c('el-table',{staticClass:\"fixed-height\",attrs:{\"data\":_vm.storeCheckedList,\"empty-text\":\"暂无选中任何门店\",\"max-height\":\"300\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"170px\",\"label\":\"门店编码/名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n                \"+_vm._s(scope.row.storeNo)+\"_\"+_vm._s(scope.row.storeName)+\"\\n              \")])]}}],null,false,3410891365)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100\",\"prop\":\"cityName\",\"label\":\"城市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100\",\"prop\":\"saleTypeStr\",\"label\":\"门店类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteStoreItem(scope.row)}}},[_vm._v(\"删除\")])]}}],null,false,3121094832)})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled,\"icon\":_vm.isDisabled ? 'el-icon-loading' : null},on:{\"click\":function($event){return _vm.doSaveHandel('ruleForm')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1),_vm._v(\" \"),_c('choose-store',{ref:\"chooseStore\",on:{\"confirmChooseStore\":_vm.confirmChooseStore}}),_vm._v(\" \"),_c('topic',{ref:\"topic\",on:{\"selectTopicChange\":_vm.selectTopicChange}}),_vm._v(\" \"),_c('categoty',{ref:\"category\",on:{\"selectCategotyChange\":_vm.selectTopicChange}}),_vm._v(\" \"),_c('choose-goods',{ref:\"chooseGoods\",on:{\"confirmChooseGoods\":_vm.confirmChooseGoods}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45a1edc8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MallConfig/Ad/AddPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45a1edc8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45a1edc8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MallConfig/Ad/AddPage.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-dialog \r\n    :close-on-press-escape=\"false\"\r\n    :close-on-click-modal=\"false\"\r\n    title=\"选择分类\" \r\n    :visible.sync=\"visible\" \r\n    width='460px'>\r\n    <el-form ref=\"form\" label-width=\"60px\">\r\n      <el-form-item label=\"分类\" required>\r\n        <el-select class=\"search-input\" v-model=\"categoryId\" filterable placeholder=\"请选择分类\" clearable size=\"small\">\r\n          <el-option\r\n            v-for=\"item in categoryList\"\r\n            :key=\"item.categoryId\"\r\n            :label=\"item.categoryName\"\r\n            :value=\"item.categoryId\">\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"visible = false\" size=\"mini\">取 消</el-button>\r\n      <el-button type=\"primary\" @click=\"doConfirmHandel\" size=\"mini\">确 定</el-button>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\n  const requestUrl = {\r\n    getCategorys: '/plateform/a/category/getCategorys'\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        categoryId: '',\r\n        categoryList: [],\r\n        visible: false\r\n      }\r\n    },\r\n    created() {\r\n      this.getCategoryList()\r\n    },\r\n    methods: {\r\n      setDefaultMsg(params) {\r\n        this.visible = params.visible || false\r\n        this.categoryId = params.categoryId || ''\r\n      },\r\n      doConfirmHandel() {\r\n        let filterMsg = this.categoryList.filter(item => {\r\n          return item.categoryId === this.categoryId\r\n        })[0]\r\n        let params = {}\r\n        if(filterMsg) {\r\n          params.adLinkName = filterMsg.categoryName\r\n          params.adLinkId = filterMsg.categoryId\r\n          params.adLinkUrl = `/pages/category/category?categoryId=${filterMsg.categoryId}`\r\n        }\r\n        this.visible = false\r\n        this.$emit(\"selectCategotyChange\", params)\r\n      },\r\n      getCategoryList() {\r\n        this.$http.post(requestUrl.getCategorys, {DIFFCITY: true}).then(res => {\r\n          if(res.code === 0) {\r\n            if(res.data && res.data.length) {\r\n              for(let item of res.data) {\r\n                if(item.categoryVoList && item.categoryVoList.length === 0) {\r\n                  item.categoryVoList = null\r\n                }\r\n              }\r\n              this.categoryList = res.data\r\n            }else {\r\n              this.categoryList = []\r\n            }\r\n            return \r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示(选择专题):\", e.message)\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/MallConfig/PageMgt/components/Category.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"close-on-press-escape\":false,\"close-on-click-modal\":false,\"title\":\"选择分类\",\"visible\":_vm.visible,\"width\":\"460px\"},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"60px\"}},[_c('el-form-item',{attrs:{\"label\":\"分类\",\"required\":\"\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择分类\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.categoryId),callback:function ($$v) {_vm.categoryId=$$v},expression:\"categoryId\"}},_vm._l((_vm.categoryList),function(item){return _c('el-option',{key:item.categoryId,attrs:{\"label\":item.categoryName,\"value\":item.categoryId}})}),1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.visible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.doConfirmHandel}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41708a5e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MallConfig/PageMgt/components/Category.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Category.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Category.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41708a5e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Category.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MallConfig/PageMgt/components/Category.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}