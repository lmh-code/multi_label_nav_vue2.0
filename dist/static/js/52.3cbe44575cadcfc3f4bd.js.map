{"version":3,"sources":["webpack:///src/components/GoodsMgt/JdGoods/PriceAudit/PriceConfig.vue","webpack:///./src/components/GoodsMgt/JdGoods/PriceAudit/PriceConfig.vue?64c0","webpack:///./src/components/GoodsMgt/JdGoods/PriceAudit/PriceConfig.vue"],"names":["priceAuditUrl","PriceConfig","data","isDisabled","loading","pageNum","pageSize","total","tableData","categoriesList","checkStatusList","value","label","searchContent","productName","erpNumber","platformId","categoryIdList","categoryId","cateDefaultProps","children","categoryList","checkedList","rateDialogVisible","rateData","platformName","profitRate","discountRate","created","this","getCategoriesList","doSearchHandel","methods","_this","$http","post","then","res","code","Error","msg","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","categoryVoList","err","return","catch","e","console","log","message","changeSize","changeCurrent","_param","_this2","spliceLen","extends_default","result","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","uniqueId","cityId","cityPlatformGoodsId","showProfitRate","showDiscountRate","$notify","error","title","handleSelect","val","row","hash","checkedListTemp","utils","push","checkedListTempArr","concat","toConsumableArray_default","reduceRight","handleSelectAll","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_item","checkedListArr","modifyProfitRate","index","sureProfitRate","_this3","updateProfitRate","isNaN","$message","_params","platformRateParams","type","deleteProfitRate","_this4","setTimeout","modifyDiscountRate","sureDiscountRate","_this5","updateDiscountRate","deleteDiscountRate","_this6","modifyMore","forEach","i","rateDataArr","stringify_default","JSON","parse","sureRate","_this7","rateDataReturn","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","platformRateParamsItem","PriceAudit_PriceConfig","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","label-position","placeholder","size","clearable","nativeOn","keyup","$event","indexOf","_k","keyCode","key","callback","$$v","$set","trim","expression","_v","options","change-on-select","filterable","props","on","change","click","icon","disabled","directives","name","rawName","staticStyle","width","empty-text","select","select-all","align","min-width","prop","scopedSlots","_u","fn","scope","_s","productCost","font-size","color","focus","$index","blur","_e","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","visible","update:visible","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"iOA4JAA,EAEA,wCAFAA,EAIA,gCAJAA,EAMA,kCANAA,EAQA,uCAEAC,GACAC,KADA,WAEA,OACAC,YAAA,EACAC,SAAA,EACAC,QAAA,EACAC,SAAA,GACAC,MAAA,EACAC,aACAC,kBACAC,kBAEAC,MAAA,EACAC,MAAA,OAGAD,MAAA,EACAC,MAAA,QAGAD,MAAA,EACAC,MAAA,QAGAC,eACAC,YAAA,GACAC,UAAA,GACAC,WAAA,EACAC,kBACAC,WAAA,IAGAC,kBACAC,SAAA,iBACAR,MAAA,eACAD,MAAA,cAEAU,gBACAC,eACAC,mBAAA,EACAC,WAEAC,aAAA,OACAT,WAAA,EACAU,WAAA,GACAC,aAAA,OAKAC,QAlDA,WAoDAC,KAAAC,oBAEAD,KAAAE,gBAAA,IAEAC,SAKAF,kBALA,WAKA,IAAAG,EAAAJ,KACAA,KAAAK,MAAAC,KAAAnC,GAAAoC,KAAA,SAAAC,GACA,OAAAA,EAAAC,KAaA,UAAAC,MAAAF,EAAAG,KAZA,GAAAH,EAAAnC,MAAAmC,EAAAnC,KAAAuC,OAAA,KAAAC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IACA,QAAAC,EAAAC,EAAAC,IAAAX,EAAAnC,QAAAwC,GAAAI,EAAAC,EAAAE,QAAAC,MAAAR,GAAA,OAAAS,EAAAL,EAAAnC,MACAwC,EAAAC,gBAAA,IAAAD,EAAAC,eAAAX,SACAU,EAAAC,eAAA,OAHA,MAAAC,GAAAV,GAAA,EAAAC,EAAAS,EAAA,aAAAX,GAAAK,EAAAO,QAAAP,EAAAO,SAAA,WAAAX,EAAA,MAAAC,GAMAX,EAAAZ,aAAAgB,EAAAnC,UAEA+B,EAAAZ,kBAKAkC,MAAA,SAAAC,GACAC,QAAAC,IAAA,gBAAAF,EAAAG,YAQAC,WA9BA,SA8BAjD,GACAkB,KAAAvB,SAAAK,EACAkB,KAAAE,kBAOA8B,cAvCA,SAuCAlD,GACAkB,KAAAxB,QAAAM,EACAkB,KAAAE,eAAApB,IAMAoB,eA/CA,SA+CA+B,GAAA,IAAAC,EAAAlC,KACAmC,EAAAnC,KAAAhB,cAAAI,eAAAwB,OAAA,EACAZ,KAAAhB,cAAAK,WAAAW,KAAAhB,cAAAI,eAAA+C,GACAnC,KAAAzB,SAAA,GACA,IAAA0D,IACAjC,KAAAxB,QAAA,GAEAwB,KAAAK,MAAAC,KAAAnC,EAAAiE,OAAApC,KAAAhB,eAAAR,QAAAwB,KAAAxB,QAAAC,SAAAuB,KAAAvB,YAAA8B,KAAA,SAAAC,GAEA,GADA0B,EAAA3D,SAAA,EACA,IAAAiC,EAAAC,KAoBA,UAAAC,MAAAF,EAAAG,KAnBA,GAAAH,EAAAnC,MAAAmC,EAAAnC,KAAAgE,QAAA7B,EAAAnC,KAAAgE,OAAAzB,OAAA,CACAsB,EAAAzC,eACA,IAAAd,EAAA6B,EAAAnC,KAAAgE,OAFAC,GAAA,EAAAC,GAAA,EAAAC,OAAAxB,EAAA,IAGA,QAAAyB,EAAAC,EAAAvB,IAAAxC,KAAA2D,GAAAG,EAAAC,EAAAtB,QAAAC,MAAAiB,GAAA,OAAAhB,EAAAmB,EAAA3D,MACAwC,EAAAqB,SAAA,GAAArB,EAAAsB,OAAAtB,EAAApC,UAAAoC,EAAAuB,oBACAvB,EAAA,iBAAAA,EAAA,WACAA,EAAAwB,gBAAA,EACAxB,EAAA,mBAAAA,EAAA,aACAA,EAAAyB,kBAAA,GARA,MAAAvB,GAAAe,GAAA,EAAAC,EAAAhB,EAAA,aAAAc,GAAAI,EAAAjB,QAAAiB,EAAAjB,SAAA,WAAAc,EAAA,MAAAC,GAUAN,EAAAvD,iBAEAuD,EAAAvD,aAEA,IAAAuD,EAAA1D,UACA0D,EAAAxD,MAAA8B,EAAAnC,KAAAK,SAKAgD,MAAA,SAAAC,GACAO,EAAA3D,SAAA,EACA2D,EAAAc,QAAAC,OACAC,MAAA,KACApB,QAAAH,EAAAG,aAQAqB,aAzFA,SAyFAC,EAAAC,GACA,IAAAC,KACAC,KAEA,GAAAC,EAAA,EAAAH,EAAAV,SAAA3C,KAAAP,aACAO,KAAAP,YAAA+D,EAAA,aAAAH,EAAAV,SAAA3C,KAAAP,iBADA,CAIA8D,EAAAE,KAAAJ,GAGA,IAAAK,KAAAC,OAAAJ,EAAAK,IAAA5D,KAAAP,cACAO,KAAAP,YAAAiE,EAAAG,YAAA,SAAAvC,EAAAF,GAEA,OADAkC,EAAAlC,EAAAuB,YAAAW,EAAAlC,EAAAuB,UAAArB,EAAAmC,KAAArC,IACAE,SAOAwC,gBA9GA,SA8GAV,GACA,IAAAE,KACA,GAAAF,EAAAxC,OAAA,OAAAmD,GAAA,EAAAC,GAAA,EAAAC,OAAAjD,EAAA,IAEA,QAAAkD,EAAAC,EAAAhD,IAAAiC,KAAAW,GAAAG,EAAAC,EAAA/C,QAAAC,MAAA0C,GAAA,OAAAzC,EAAA4C,EAAApF,MACAkB,KAAAP,YAAAgE,KAAAnC,IAHA,MAAAE,GAAAwC,GAAA,EAAAC,EAAAzC,EAAA,aAAAuC,GAAAI,EAAA1C,QAAA0C,EAAA1C,SAAA,WAAAuC,EAAA,MAAAC,GAMAjE,KAAAP,YAAAO,KAAAP,YAAAoE,YAAA,SAAAvC,EAAAF,GAEA,OADAkC,EAAAlC,EAAAuB,YAAAW,EAAAlC,EAAAuB,UAAArB,EAAAmC,KAAArC,IACAE,WAEA,CAGA,IAAAiC,KAHAa,GAAA,EAAAC,GAAA,EAAAC,OAAAtD,EAAA,IAIA,QAAAuD,EAAAC,EAAArD,IAAAnB,KAAArB,aAAAyF,GAAAG,EAAAC,EAAApD,QAAAC,MAAA+C,GAAA,OAAAK,EAAAF,EAAAzF,MACAyE,EAAAE,KAAAgB,IALA,MAAAjD,GAAA6C,GAAA,EAAAC,EAAA9C,EAAA,aAAA4C,GAAAI,EAAA/C,QAAA+C,EAAA/C,SAAA,WAAA4C,EAAA,MAAAC,GAQA,IAAAI,EAAAlB,EAAA,EAAAxD,KAAAP,YAAA8D,EAAA,YACAvD,KAAAP,YAAAiF,KAAA9D,OAAA,EAAA8D,OAOAC,iBA1IA,SA0IAC,EAAAxB,GACA,GAAAA,EAAAN,iBAGA9C,KAAArB,UAAAiG,GAAA9B,gBAAA,IAMA+B,eApJA,SAoJAzB,GAAA,IAAA0B,EAAA9E,KACA,SAAAoD,EAAA2B,kBAAA,IAAA3B,EAAA2B,iBAIA,MAAAC,MAAA5B,EAAA2B,kBAIA,GAAA3B,EAAA2B,iBAAA,KAAA3B,EAAA2B,iBAAA,EACA/E,KAAAiF,SAAA,0BADA,CAIAjF,KAAAzB,SAAA,EACA,IAAA2G,GACA/F,WAAAa,KAAAhB,cAAAG,WACAgG,qBAEAtC,oBAAAO,EAAAP,qBAAA,GACA/C,aAAAsD,EAAAtD,cAAA,GACAD,WAAAuD,EAAA2B,kBAAA,MAIA/E,KAAAK,MAAAC,KAAAnC,EAAA+G,GAAA3E,KAAA,SAAAC,GAEA,GADAsE,EAAAvG,SAAA,EACA,IAAAiC,EAAAC,KAMA,OALAqE,EAAAG,UACAnD,QAAA,UACAsD,KAAA,iBAEAN,EAAA5E,iBAGA,UAAAQ,MAAAF,EAAAG,OACAe,MAAA,SAAAC,GACAmD,EAAAvG,SAAA,EACAuG,EAAA9B,QAAAC,OACAC,MAAA,KACApB,QAAAH,EAAAG,iBAjCA9B,KAAAiF,SAAA,kBAJAjF,KAAAiF,SAAA,YA6CAI,iBAnMA,SAmMAT,EAAAxB,GAAA,IAAAkC,EAAAtF,KACAuF,WAAA,WACAD,EAAA3G,UAAAiG,GAAAG,iBAAAO,EAAA3G,UAAAiG,GAAA/E,WACAyF,EAAA3G,UAAAiG,GAAA9B,gBAAA,GACA,MAMA0C,mBA7MA,SA6MAZ,EAAAxB,GACA,GAAAA,EAAAL,mBAGA/C,KAAArB,UAAAiG,GAAA7B,kBAAA,IAMA0C,iBAvNA,SAuNArC,GAAA,IAAAsC,EAAA1F,KACA,SAAAoD,EAAAuC,oBAAA,IAAAvC,EAAAuC,mBAIA,MAAAX,MAAA5B,EAAAuC,oBAIA,GAAAvC,EAAAuC,mBAAA,KAAAvC,EAAAuC,mBAAA,EACA3F,KAAAiF,SAAA,0BADA,CAIAjF,KAAAzB,SAAA,EACA,IAAA2G,GACA/F,WAAAa,KAAAhB,cAAAG,WACAgG,qBAEAtC,oBAAAO,EAAAP,qBAAA,GACA/C,aAAAsD,EAAAuC,oBAAA,GACA9F,WAAAuD,EAAAvD,YAAA,MAIAG,KAAAK,MAAAC,KAAAnC,EAAA+G,GAAA3E,KAAA,SAAAC,GAEA,GADAkF,EAAAnH,SAAA,EACA,IAAAiC,EAAAC,KAMA,OALAiF,EAAAT,UACAnD,QAAA,UACAsD,KAAA,iBAEAM,EAAAxF,iBAGA,UAAAQ,MAAAF,EAAAG,OACAe,MAAA,SAAAC,GACA+D,EAAAnH,SAAA,EACAmH,EAAA1C,QAAAC,OACAC,MAAA,KACApB,QAAAH,EAAAG,iBAjCA9B,KAAAiF,SAAA,kBAJAjF,KAAAiF,SAAA,YA6CAW,mBAtQA,SAsQAhB,EAAAxB,GAAA,IAAAyC,EAAA7F,KACAuF,WAAA,WACAM,EAAAlH,UAAAiG,GAAAe,mBAAAE,EAAAlH,UAAAiG,GAAA9E,aACA+F,EAAAlH,UAAAiG,GAAA7B,kBAAA,GACA,MAMA+C,WAhRA,WAiRA9F,KAAAL,SAAAoG,QAAA,SAAAzE,EAAA0E,GACA1E,EAAAzB,WAAA,GACAyB,EAAAxB,aAAA,KAEA,IAAAmG,EAAAC,IAAAlG,KAAAL,UACAK,KAAAL,SAAAwG,KAAAC,MAAAH,GACAjG,KAAAN,mBAAA,GAMA2G,SA7RA,WA6RA,IAAAC,EAAAtG,KACAuG,GAAA,EADAC,GAAA,EAAAC,GAAA,EAAAC,OAAA1F,EAAA,IAEA,QAAA2F,EAAAC,EAAAzF,IAAAnB,KAAAL,YAAA6G,GAAAG,EAAAC,EAAAxF,QAAAC,MAAAmF,GAAA,OAAAlF,EAAAqF,EAAA7H,MACA,MAAAkG,MAAA1D,EAAAzB,aAAA,GAAAmF,MAAA1D,EAAAxB,cAAA,CACAE,KAAAiF,SAAA,iBACAsB,GAAA,EACA,MACA,OAAAjF,EAAAzB,aAAAyB,EAAAzB,WAAA,KAAAyB,EAAAzB,WAAA,QAAAyB,EAAAxB,eAAAwB,EAAAxB,aAAA,KAAAwB,EAAAxB,aAAA,IACAE,KAAAiF,SAAA,0BACAsB,GAAA,EACA,QAVA,MAAA/E,GAAAiF,GAAA,EAAAC,EAAAlF,EAAA,aAAAgF,GAAAI,EAAAnF,QAAAmF,EAAAnF,SAAA,WAAAgF,EAAA,MAAAC,GAaA,IAAAH,EAGA,OAAAvG,KAAAP,YAAAmB,OAAA,CAIAZ,KAAAN,mBAAA,EACA,IAAAyF,KArBA0B,GAAA,EAAAC,GAAA,EAAAC,OAAA/F,EAAA,IAsBA,QAAAgG,EAAAC,EAAA9F,IAAAnB,KAAAL,YAAAkH,GAAAG,EAAAC,EAAA7F,QAAAC,MAAAwF,GAAA,OAAAb,EAAAgB,EAAAlI,MAAAoI,GAAA,EAAAC,GAAA,EAAAC,OAAApG,EAAA,IACA,QAAAqG,EAAAC,EAAAnG,IAAAnB,KAAAP,eAAAyH,GAAAG,EAAAC,EAAAlG,QAAAC,MAAA6F,GAAA,OACAK,GACA1E,oBAFAwE,EAAAvI,MAEA+D,oBACA/C,aAAAkG,EAAAlG,aACAD,WAAAmG,EAAAnG,YAEAsF,EAAA1B,KAAA8D,IAPA,MAAA/F,GAAA2F,GAAA,EAAAC,EAAA5F,EAAA,aAAA0F,GAAAI,EAAA7F,QAAA6F,EAAA7F,SAAA,WAAA0F,EAAA,MAAAC,KAtBA,MAAA5F,GAAAsF,GAAA,EAAAC,EAAAvF,EAAA,aAAAqF,GAAAI,EAAAxF,QAAAwF,EAAAxF,SAAA,WAAAqF,EAAA,MAAAC,GAgCA,IAAA7B,GACA/F,WAAAa,KAAAhB,cAAAG,WACAgG,sBAGAnF,KAAA1B,YAAA,EACA0B,KAAAK,MAAAC,KAAAnC,EAAA+G,GAAA3E,KAAA,SAAAC,GAKA,GAJA8F,EAAA/H,SAAA,EACAgH,WAAA,WACAe,EAAAhI,YAAA,GACA,KACA,IAAAkC,EAAAC,KAMA,OALA6F,EAAArB,UACAnD,QAAA,SACAsD,KAAA,iBAEAkB,EAAApG,iBAGA,UAAAQ,MAAAF,EAAAG,OACAe,MAAA,SAAAC,GACA2E,EAAA/H,SAAA,EACA+H,EAAAhI,YAAA,EACAgI,EAAAtD,QAAAC,OACAC,MAAA,KACApB,QAAAH,EAAAG,iBAxCA9B,KAAAiF,SAAA,YCzgBeuC,GADEC,OAFjB,WAA0B,IAAAC,EAAA1H,KAAa2H,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,yBAAmCF,EAAA,OAAYE,YAAA,uBAAiCF,EAAA,WAAgBG,OAAOC,MAAAP,EAAA1I,cAAAkJ,iBAAA,SAAkDL,EAAA,gBAAqBG,OAAOjJ,MAAA,UAAgB8I,EAAA,YAAiBE,YAAA,eAAAC,OAAkCG,YAAA,aAAAC,KAAA,QAAAC,UAAA,IAAyDC,UAAWC,MAAA,SAAAC,GAAyB,OAAAA,EAAApD,KAAAqD,QAAA,QAAAf,EAAAgB,GAAAF,EAAAG,QAAA,WAAAH,EAAAI,IAAA,SAAsF,KAAelB,EAAAxH,gBAAA,KAAiC+H,OAAQnJ,MAAA4I,EAAA1I,cAAA,YAAA6J,SAAA,SAAAC,GAA+DpB,EAAAqB,KAAArB,EAAA1I,cAAA,+BAAA8J,IAAAE,OAAAF,IAAuFG,WAAA,gCAAyC,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,gBAAqCG,OAAOjJ,MAAA,WAAiB8I,EAAA,YAAiBE,YAAA,eAAAC,OAAkCG,YAAA,WAAAC,KAAA,QAAAC,UAAA,IAAuDC,UAAWC,MAAA,SAAAC,GAAyB,OAAAA,EAAApD,KAAAqD,QAAA,QAAAf,EAAAgB,GAAAF,EAAAG,QAAA,WAAAH,EAAAI,IAAA,SAAsF,KAAelB,EAAAxH,gBAAA,KAAiC+H,OAAQnJ,MAAA4I,EAAA1I,cAAA,UAAA6J,SAAA,SAAAC,GAA6DpB,EAAAqB,KAAArB,EAAA1I,cAAA,6BAAA8J,IAAAE,OAAAF,IAAqFG,WAAA,8BAAuC,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,gBAAqCG,OAAOjJ,MAAA,UAAgB8I,EAAA,eAAoBE,YAAA,eAAAC,OAAkCG,YAAA,QAAAgB,QAAAzB,EAAAlI,aAAA4J,mBAAA,GAAAhB,KAAA,QAAAC,UAAA,GAAAgB,WAAA,GAAAC,MAAA5B,EAAApI,kBAAkJiK,IAAKC,OAAA,SAAAhB,GAA0B,OAAAd,EAAAxH,gBAAA,KAAiC+H,OAAQnJ,MAAA4I,EAAA1I,cAAA,eAAA6J,SAAA,SAAAC,GAAkEpB,EAAAqB,KAAArB,EAAA1I,cAAA,iBAAA8J,IAAmDG,WAAA,mCAA4C,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,gBAAAA,EAAA,aAAqDG,OAAO5C,KAAA,UAAAgD,KAAA,QAA+BmB,IAAKE,MAAA,SAAAjB,GAAyB,OAAAd,EAAAxH,gBAAA,OAAkCwH,EAAAwB,GAAA,sBAAAxB,EAAAwB,GAAA,KAAArB,EAAA,OAAqDE,YAAA,iBAA2BF,EAAA,OAAYE,YAAA,gBAA0BF,EAAA,aAAkBE,YAAA,WAAAC,OAA8B0B,KAAA,kBAAAtB,KAAA,OAAAuB,SAAA,GAAA3J,KAAAP,YAAAmB,QAA+E2I,IAAKE,MAAA/B,EAAA5B,cAAwB4B,EAAAwB,GAAA,cAAAxB,EAAAwB,GAAA,KAAArB,EAAA,YAAkD+B,aAAaC,KAAA,UAAAC,QAAA,YAAAhL,MAAA4I,EAAA,QAAAuB,WAAA,YAA4ElB,YAAA,eAAAgC,aAA0CC,MAAA,QAAehC,OAAQ3J,KAAAqJ,EAAA/I,UAAAsL,aAAA,cAAA7B,KAAA,SAA+DmB,IAAKW,OAAAxC,EAAAvE,aAAAgH,aAAAzC,EAAA5D,mBAA4D+D,EAAA,mBAAwBG,OAAO5C,KAAA,YAAArG,MAAA,KAAAqL,MAAA,YAAkD1C,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,KAAAC,KAAA,UAAAvL,MAAA,WAAmD2I,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,KAAAC,KAAA,YAAAvL,MAAA,WAAqD2I,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,MAAAC,KAAA,cAAAvL,MAAA,UAAuD2I,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOgC,MAAA,MAAAM,KAAA,oBAAAvL,MAAA,WAA0D2I,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,KAAAC,KAAA,WAAAvL,MAAA,UAAmD2I,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,KAAAC,KAAA,eAAAvL,MAAA,UAAuD2I,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,KAAAC,KAAA,cAAAvL,MAAA,QAAqDwL,YAAA7C,EAAA8C,KAAsB5B,IAAA,UAAA6B,GAAA,SAAAC,GAAiC,OAAAA,EAAArH,IAAA,YAAAwE,EAAA,OAAAH,EAAAwB,GAAA,iBAAAxB,EAAAiD,GAAAD,EAAArH,IAAAuH,aAAA,kBAAA/C,EAAA,OAA4HkC,aAAac,YAAA,OAAAC,MAAA,YAAqCpD,EAAAwB,GAAA,8CAAqDxB,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,MAAAC,KAAA,UAAAvL,MAAA,YAAqD2I,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOjJ,MAAA,QAAAsL,YAAA,SAAoCE,YAAA7C,EAAA8C,KAAsB5B,IAAA,UAAA6B,GAAA,SAAAC,GAAiC,UAAAA,EAAArH,IAAAP,eAAA+E,EAAA,OAAsDE,YAAA,iBAA2BF,EAAA,mBAAAA,EAAA,YAAuCkC,aAAaC,MAAA,QAAehC,OAAQI,KAAA,QAAcmB,IAAKwB,MAAA,SAAAvC,GAAyB,OAAAd,EAAA/C,iBAAA+F,EAAAM,OAAAN,EAAArH,OAAsD4E,OAAQnJ,MAAA4L,EAAArH,IAAA,WAAAwF,SAAA,SAAAC,GAAsDpB,EAAAqB,KAAA2B,EAAArH,IAAA,aAAAyF,IAAuCG,WAAA,2BAAoC,UAAAyB,EAAArH,IAAAP,eAAA+E,EAAA,OAAuDE,YAAA,iBAA2BF,EAAA,mBAAAA,EAAA,YAAuCkC,aAAaC,MAAA,QAAehC,OAAQI,KAAA,QAAcmB,IAAK0B,KAAA,SAAAzC,GAAwB,OAAAd,EAAArC,iBAAAqF,EAAAM,QAAA,KAAiD/C,OAAQnJ,MAAA4L,EAAArH,IAAA,iBAAAwF,SAAA,SAAAC,GAA4DpB,EAAAqB,KAAA2B,EAAArH,IAAA,mBAAAyF,IAA6CG,WAAA,iCAA0C,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,mBAAAA,EAAA,aAAwDkC,aAAaC,MAAA,QAAehC,OAAQ0B,KAAA,gBAAAtB,KAAA,QAAqCmB,IAAKE,MAAA,SAAAjB,GAAyB,OAAAd,EAAA7C,eAAA6F,EAAArH,SAAuCqE,EAAAwB,GAAA,KAAArB,EAAA,aAA8BkC,aAAaC,MAAA,QAAehC,OAAQ0B,KAAA,gBAAAtB,KAAA,QAAqCmB,IAAKE,MAAA,SAAAjB,GAAyB,OAAAd,EAAArC,iBAAAqF,EAAAM,aAA4C,OAAAtD,EAAAwD,YAAwBxD,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOjJ,MAAA,QAAAsL,YAAA,SAAoCE,YAAA7C,EAAA8C,KAAsB5B,IAAA,UAAA6B,GAAA,SAAAC,GAAiC,UAAAA,EAAArH,IAAAN,iBAAA8E,EAAA,OAAwDE,YAAA,iBAA2BF,EAAA,mBAAAA,EAAA,YAAuCkC,aAAaC,MAAA,QAAehC,OAAQI,KAAA,QAAcmB,IAAKwB,MAAA,SAAAvC,GAAyB,OAAAd,EAAAlC,mBAAAkF,EAAAM,OAAAN,EAAArH,OAAwD4E,OAAQnJ,MAAA4L,EAAArH,IAAA,aAAAwF,SAAA,SAAAC,GAAwDpB,EAAAqB,KAAA2B,EAAArH,IAAA,eAAAyF,IAAyCG,WAAA,6BAAsC,UAAAyB,EAAArH,IAAAN,iBAAA8E,EAAA,OAAyDE,YAAA,iBAA2BF,EAAA,mBAAAA,EAAA,YAAuCkC,aAAaC,MAAA,QAAehC,OAAQI,KAAA,QAAcmB,IAAK0B,KAAA,SAAAzC,GAAwB,OAAAd,EAAA9B,mBAAA8E,EAAAM,QAAA,KAAmD/C,OAAQnJ,MAAA4L,EAAArH,IAAA,mBAAAwF,SAAA,SAAAC,GAA8DpB,EAAAqB,KAAA2B,EAAArH,IAAA,qBAAAyF,IAA+CG,WAAA,mCAA4C,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,mBAAAA,EAAA,aAAwDkC,aAAaC,MAAA,QAAehC,OAAQ0B,KAAA,gBAAAtB,KAAA,QAAqCmB,IAAKE,MAAA,SAAAjB,GAAyB,OAAAd,EAAAjC,iBAAAiF,EAAArH,SAAyCqE,EAAAwB,GAAA,KAAArB,EAAA,aAA8BkC,aAAaC,MAAA,QAAehC,OAAQ0B,KAAA,gBAAAtB,KAAA,QAAqCmB,IAAKE,MAAA,SAAAjB,GAAyB,OAAAd,EAAA9B,mBAAA8E,EAAAM,aAA8C,OAAAtD,EAAAwD,YAAwBxD,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,MAAAC,KAAA,aAAAvL,MAAA,WAAsD,GAAA2I,EAAAwB,GAAA,KAAArB,EAAA,iBAAsC+B,aAAaC,KAAA,OAAAC,QAAA,SAAAhL,MAAA4I,EAAA/I,UAAAiC,OAAA,EAAAqI,WAAA,uBAA4FlB,YAAA,UAAAC,OAA+BmD,WAAA,GAAAC,eAAA1D,EAAAlJ,QAAA6M,cAAA,mBAAAC,OAAA,0CAAA5M,MAAAgJ,EAAAhJ,OAAqJ6K,IAAKgC,cAAA7D,EAAA3F,WAAAyJ,iBAAA9D,EAAA1F,cAAAyJ,qBAAA,SAAAjD,GAAsGd,EAAAlJ,QAAAgK,GAAmBkD,sBAAA,SAAAlD,GAAwCd,EAAAlJ,QAAAgK,OAAqB,GAAAd,EAAAwB,GAAA,KAAArB,EAAA,aAAkCG,OAAO9E,MAAA,OAAAyI,QAAAjE,EAAAhI,kBAAAsK,MAAA,SAA+DT,IAAKqC,iBAAA,SAAApD,GAAkCd,EAAAhI,kBAAA8I,MAA+BX,EAAA,YAAiBkC,aAAaC,MAAA,QAAehC,OAAQ3J,KAAAqJ,EAAA/H,SAAAyI,KAAA,WAAoCP,EAAA,mBAAwBG,OAAOqC,YAAA,MAAAC,KAAA,eAAAvL,MAAA,MAAoD2I,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,MAAAC,KAAA,aAAAvL,MAAA,OAAoDwL,YAAA7C,EAAA8C,KAAsB5B,IAAA,UAAA6B,GAAA,SAAAC,GAAiC,OAAA7C,EAAA,YAAuBG,OAAOI,KAAA,QAAcH,OAAQnJ,MAAA4L,EAAArH,IAAA,WAAAwF,SAAA,SAAAC,GAAsDpB,EAAAqB,KAAA2B,EAAArH,IAAA,aAAAyF,IAAuCG,WAAA,iCAA2CvB,EAAAwB,GAAA,KAAArB,EAAA,mBAAoCG,OAAOqC,YAAA,MAAAC,KAAA,eAAAvL,MAAA,OAAsDwL,YAAA7C,EAAA8C,KAAsB5B,IAAA,UAAA6B,GAAA,SAAAC,GAAiC,OAAA7C,EAAA,YAAuBG,OAAOI,KAAA,QAAcH,OAAQnJ,MAAA4L,EAAArH,IAAA,aAAAwF,SAAA,SAAAC,GAAwDpB,EAAAqB,KAAA2B,EAAArH,IAAA,eAAAyF,IAAyCG,WAAA,oCAA6C,GAAAvB,EAAAwB,GAAA,KAAArB,EAAA,QAA6BE,YAAA,gBAAAC,OAAmC6D,KAAA,UAAgBA,KAAA,WAAehE,EAAA,aAAkBG,OAAOI,KAAA,QAAcmB,IAAKE,MAAA,SAAAjB,GAAyBd,EAAAhI,mBAAA,MAAgCgI,EAAAwB,GAAA,SAAAxB,EAAAwB,GAAA,KAAArB,EAAA,aAA8CG,OAAO5C,KAAA,UAAAgD,KAAA,OAAAuB,SAAAjC,EAAApJ,YAAyDiL,IAAKE,MAAA/B,EAAArB,YAAsBqB,EAAAwB,GAAA,sBAEvpQ4C,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE7N,EACAoJ,GATF,EAVA,SAAA0E,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/52.3cbe44575cadcfc3f4bd.js","sourcesContent":["<style>\n  .adjust-price .el-button--mini{\n    padding: 6px 5px;\n  }\n  .adjust-price>div{\n    margin: 5px 0;\n  }\n\n</style>\n<template>\n  <div>\n    <!-- 操作框 -->\n    <div class=\"handel-search-wraper\">\n      <div class=\"search-form-wraper\">\n        <el-form :model=\"searchContent\" label-position=\"top\">\n          <el-form-item label=\"商品名称\">\n            <el-input class=\"search-input\" v-model.trim=\"searchContent.productName\" placeholder=\"请输入已发布商品名称\" size=\"small\" @keyup.enter.native=\"doSearchHandel(true)\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"ERP编码\">\n            <el-input class=\"search-input\" v-model.trim=\"searchContent.erpNumber\" placeholder=\"请输入ERP编码\" size=\"small\" @keyup.enter.native=\"doSearchHandel(true)\" clearable></el-input>\n          </el-form-item>\n          <el-form-item label=\"所属分类\">\n            <el-cascader\n              placeholder=\"请选择分类\"\n              class=\"search-input\"\n              :options=\"categoryList\"\n              change-on-select\n              size=\"small\"\n              clearable\n              filterable\n              @change=\"doSearchHandel(true)\"\n              :props=\"cateDefaultProps\"\n              v-model=\"searchContent.categoryIdList\">\n            </el-cascader>\n          </el-form-item>\n\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n    <!-- 搜索结果 -->\n    <div class=\"table-wraper\">\n      <div class=\"sp-handel-w\">\n        <el-button class=\"sup-mini\" icon=\"el-icon-setting\" size=\"mini\" :disabled=\"this.checkedList.length == 0\" @click=\"modifyMore\">批量配置</el-button>\n      </div>\n      <!-- 列表 -->\n      <el-table\n        class=\"fixed-height\"\n        v-loading=\"loading\"\n        :data=\"tableData\"\n        empty-text=\"没有查询到您想要的数据\"\n        @select=\"handleSelect\"\n        @select-all=\"handleSelectAll\"\n        style=\"width:100%;\"\n        size=\"small\">\n        <el-table-column type=\"selection\" label=\"全选\" align=\"center\"></el-table-column>\n        <el-table-column min-width=\"80\" prop=\"goodsNo\" label=\"SKU编码\"></el-table-column>\n        <el-table-column min-width=\"80\" prop=\"erpNumber\" label=\"ERP编码\"></el-table-column>\n        <el-table-column min-width=\"180\" prop=\"productName\" label=\"商品名称\"></el-table-column>\n        <el-table-column width=\"160\" prop=\"parentProductInfo\" label=\"母商品信息\"></el-table-column>\n        <el-table-column min-width=\"80\" prop=\"cityName\" label=\"售卖区域\"></el-table-column>\n        <el-table-column min-width=\"90\" prop=\"platformName\" label=\"售卖平台\"></el-table-column>\n        <el-table-column min-width=\"90\" prop=\"productCost\" label=\"进货成本\">\n          <template slot-scope=\"scope\">\n            <div v-if=\"scope.row.productCost\">\n              {{scope.row.productCost}}\n            </div>\n            <div v-else style=\"font-size: 11px;color: orange;\">\n              尚未获取到成本\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"160\" prop=\"getDate\" label=\"获取成本时间\"></el-table-column>\n        <el-table-column label=\"平台毛利率\" min-width=\"160px\">\n          <template slot-scope=\"scope\">\n            <div v-if=\"scope.row.showProfitRate == false\" class=\"adjust-price\">\n              <el-button-group>\n                <el-input v-model=\"scope.row.profitRate\" size=\"mini\" style=\"width: 80px;\" @focus=\"modifyProfitRate(scope.$index, scope.row)\"></el-input>\n              </el-button-group>\n            </div>\n            <div v-else-if=\"scope.row.showProfitRate == true\" class=\"adjust-price\">\n              <el-button-group>\n                <el-input v-model=\"scope.row.updateProfitRate\" size=\"mini\" style=\"width: 80px;\" @blur=\"deleteProfitRate(scope.$index, true)\"></el-input>\n              </el-button-group>\n              <el-button-group>\n                <el-button icon=\"el-icon-check\" size=\"mini\" style=\"width: 25px;\" @click=\"sureProfitRate(scope.row)\"></el-button>\n                <el-button icon=\"el-icon-close\" size=\"mini\" style=\"width: 25px;\" @click=\"deleteProfitRate(scope.$index)\"></el-button>\n              </el-button-group>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"平台折扣率\" min-width=\"160px\">\n          <template slot-scope=\"scope\">\n            <div v-if=\"scope.row.showDiscountRate == false\" class=\"adjust-price\">\n              <el-button-group>\n                <el-input v-model=\"scope.row.discountRate\" size=\"mini\" style=\"width: 80px;\" @focus=\"modifyDiscountRate(scope.$index, scope.row)\"></el-input>\n              </el-button-group>\n            </div>\n            <div v-else-if=\"scope.row.showDiscountRate == true\" class=\"adjust-price\">\n              <el-button-group>\n                <el-input v-model=\"scope.row.updateDiscountRate\" size=\"mini\" style=\"width: 80px;\" @blur=\"deleteDiscountRate(scope.$index, true)\"></el-input>\n              </el-button-group>\n              <el-button-group>\n                <el-button icon=\"el-icon-check\" size=\"mini\" style=\"width: 25px;\" @click=\"sureDiscountRate(scope.row)\"></el-button>\n                <el-button icon=\"el-icon-close\" size=\"mini\" style=\"width: 25px;\" @click=\"deleteDiscountRate(scope.$index)\"></el-button>\n              </el-button-group>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"160\" prop=\"updateTime\" label=\"修改时间\"></el-table-column>\n      </el-table>\n      <!-- 分页条 -->\n      <el-pagination\n        v-show=\"tableData.length>0\"\n        class=\"tc mt20\"\n        background\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"\n        :current-page.sync=\"pageNum\"\n        :page-sizes=\"[10, 50, 100, 150, 200]\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n\n    <!-- 确认批量配置列表 -->\n    <el-dialog\n      title=\"批量配置\"\n      :visible.sync=\"rateDialogVisible\"\n      width=\"400px\">\n      <el-table :data=\"rateData\" style=\"width:100%;\" size=\"small\">\n        <el-table-column min-width=\"100\" prop=\"platformName\" label=\"\"></el-table-column>\n        <el-table-column min-width=\"120\" prop=\"profitRate\" label=\"毛利率\">\n          <template slot-scope=\"scope\">\n            <el-input v-model=\"scope.row.profitRate\" size=\"mini\"></el-input>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"120\" prop=\"discountRate\" label=\"折扣率\">\n          <template slot-scope=\"scope\">\n            <el-input v-model=\"scope.row.discountRate\" size=\"mini\"></el-input>\n          </template>\n        </el-table-column>\n      </el-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"rateDialogVisible = false\" size=\"mini\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"sureRate\" size=\"mini\" :disabled=\"isDisabled\">保 存</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport * as utils from '@/utils/utils'\n\nconst priceAuditUrl = {\n  // 获取分类\n  getCategoryTree: '/plateform/a/category/getCategoryTree',\n  // 获取折扣率/毛利率设置列表\n  ratelist: '/plateform/a/pricing/ratelist',\n  // 修改折扣率/毛利率\n  updaterate: '/plateform/a/pricing/updaterate',\n  // 批量修改折扣率、毛利率\n  batchupdaterate: '/plateform/a/pricing/batchupdaterate'\n}\nexport default {\n  data() {\n    return {\n      isDisabled: false, // 是否禁止点击\n      loading: false,\n      pageNum: 1,\n      pageSize: 10,\n      total: 0,\n      tableData: [],\n      categoriesList: [], // 获取分类\n      checkStatusList: [\n        {\n          value: 0,\n          label: '全部'\n        },\n        {\n          value: 1,\n          label: '待审核'\n        },\n        {\n          value: 2,\n          label: '已审核'\n        }\n      ],\n      searchContent: { //搜索\n        productName: '', // 商品名称\n        erpNumber: '', //ERP编码\n        platformId: 2, // 平台ID（1：有赞，2：京东到家，3：美团外卖，4：饿百，不传或空表示所有平台）\n        categoryIdList: [],\n        categoryId: '' // 商品分类ID\n      },\n      // 默认分类参数\n      cateDefaultProps: {\n        children: 'categoryVoList',\n        label: 'categoryName',\n        value: 'categoryId'\n      },\n      categoryList: [], // 商品分类id\n      checkedList: [], // 批量选中的商品\n      rateDialogVisible: false,\n      rateData: [\n        {\n          platformName: \"京东到家\",\n          platformId: 2, // 平台ID（1：有赞，2：京东到家，3：美团外卖，4：饿百，不传或空表示所有平台）\n          profitRate: '',\n          discountRate: ''\n        }\n      ] // 批量修改数据\n    }\n  },\n  created() {\n    // 获取分类\n    this.getCategoriesList()\n    // 查询\n    this.doSearchHandel(true)\n  },\n  methods: {\n    /**\n     * [getCategoriesList 三方平台店内分类]\n     * @return {[type]} [description]\n     */\n    getCategoriesList() {\n      this.$http.post(priceAuditUrl.getCategoryTree).then(res => {\n        if(res.code === 0) {\n          if(res.data && res.data.length) {\n            for(let item of res.data) {\n              if(item.categoryVoList && item.categoryVoList.length === 0) {\n                item.categoryVoList = null\n              }\n            }\n            this.categoryList = res.data\n          }else {\n            this.categoryList = []\n          }\n          return \n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        console.log(\"提示(三方平台店内分类):\", e.message)\n      })\n    },\n    /**\n     * [changeSize description]\n     * @param    {[type]}                 value [description]\n     * @return   {[type]}                       [description]\n     */\n    changeSize (value) {\n      this.pageSize = value\n      this.doSearchHandel()\n    },\n    /**\n     * [changeCurrent 点击分页条]\n     * @param    {[type]}                 value [当前页]\n     * @return   {[type]}                       [description]\n     */\n    changeCurrent (value) {\n      this.pageNum = value\n      this.doSearchHandel(value)\n    },\n    /**\n     * [doSearchHandel 搜索]\n     * @return {[type]} [description]\n     */\n    doSearchHandel(_param) {\n      let spliceLen = this.searchContent.categoryIdList.length - 1\n          this.searchContent.categoryId = this.searchContent.categoryIdList[spliceLen]\n      this.loading = true\n      if(_param === true) {\n        this.pageNum = 1\n      }\n      this.$http.post(priceAuditUrl.ratelist, { ...this.searchContent, pageNum: this.pageNum, pageSize: this.pageSize}).then(res => {\n        this.loading = false\n        if(res.code === 0) {\n          if(res.data && res.data.result && res.data.result.length) {\n            this.checkedList = []\n            let tableData = res.data.result\n            for(let item of tableData) {\n              item.uniqueId = `${item.cityId}${item.erpNumber}${item.cityPlatformGoodsId}`\n              item['updateProfitRate'] = item['profitRate']\n              item.showProfitRate = false\n              item['updateDiscountRate'] = item['discountRate']\n              item.showDiscountRate = false\n            }\n            this.tableData = tableData\n          }else {\n            this.tableData = []\n          }\n          if(this.pageNum === 1) {\n            this.total = res.data.total\n          }\n          return \n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    },\n    /**\n     * [handleSelect 选择某一个]\n     * @return {[type]} [description]\n     */\n    handleSelect(val, row) {\n      let hash = {}\n      let checkedListTemp = []\n\n      if(utils.isKeyInArray(row.uniqueId, this.checkedList)) {\n        this.checkedList = utils.removeItemByKeyVal('uniqueId', row.uniqueId, this.checkedList)\n        return\n      }else {\n        checkedListTemp.push(row)\n      }\n\n      let checkedListTempArr = [...checkedListTemp, ...this.checkedList]\n      this.checkedList = checkedListTempArr.reduceRight((item, next) => {\n        hash[next.uniqueId] ? '' : hash[next.uniqueId] = true && item.push(next)\n        return item\n      }, [])\n    },\n    /**\n     * [handleSelectAll 选择多个]\n     * @return {[type]} [description]\n     */\n    handleSelectAll(val) {\n      let hash = {}\n      if(val.length > 0) {        \n        // 全选\n        for(let item of val) {\n          this.checkedList.push(item)\n        }\n        // 去重\n        this.checkedList = this.checkedList.reduceRight((item, next) => {\n          hash[next.uniqueId] ? '' : hash[next.uniqueId] = true && item.push(next)\n          return item\n        }, [])\n      }else { \n        // 全不选 此时val.length<=0\n        // 1.获取当前table中每一条的id\n        let checkedListTemp = []\n        for(let item of this.tableData) {\n          checkedListTemp.push(item)\n        }\n        // 2.从要传递的参数中去掉这些重复的\n        let checkedListArr = utils.getSubtract(this.checkedList, checkedListTemp, 'uniqueId')\n        this.checkedList = checkedListArr && checkedListArr.length > 0 ? checkedListArr : [] \n      }\n    },\n    /**\n     * [modifyProfitRate 修改毛利率]\n     * @return {[type]} [description]\n     */\n    modifyProfitRate(index, val) {\n      if(val.showProfitRate == true) {\n        return\n      }\n      this.tableData[index].showProfitRate = true\n    },\n    /**\n     * [sureProfitRate 确认毛利率]\n     * @return {[type]} [description]\n     */\n    sureProfitRate(val) {\n      if(val.updateProfitRate == null || val.updateProfitRate == '') {\n        this.$message(\"毛利率不能为空\")\n        return\n      }\n      if(isNaN(val.updateProfitRate) == true) {\n        this.$message(\"请输入正确的毛利率\")\n        return\n      }\n      if(val.updateProfitRate < 0.01 || val.updateProfitRate > 1) {\n        this.$message(\"毛利率应大于等于0.01，小于等于1\")\n        return\n      }\n      this.loading = true\n      let _params = {\n        platformId: this.searchContent.platformId,\n        platformRateParams: [\n          {\n            cityPlatformGoodsId: val.cityPlatformGoodsId || '',\n            discountRate: val.discountRate || '',\n            profitRate: val.updateProfitRate || ''\n          }\n        ]\n      }\n      this.$http.post(priceAuditUrl.updaterate, _params).then(res => {\n        this.loading = false\n        if(res.code === 0) {\n          this.$message({\n            message: '配置毛利率成功',\n            type: 'success'\n          })\n          this.doSearchHandel()\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    },\n    /**\n     * [deleteProfitRate 删除毛利率]\n     * @return {[type]} [description]\n     */\n    deleteProfitRate(index, val) {\n      setTimeout(() => {\n        this.tableData[index].updateProfitRate = this.tableData[index].profitRate\n        this.tableData[index].showProfitRate = false\n      }, 500)\n    },\n    /**\n     * [modifyDiscountRate 修改折扣率]\n     * @return {[type]} [description]\n     */\n    modifyDiscountRate(index, val) {\n      if(val.showDiscountRate == true) {\n        return\n      }\n      this.tableData[index].showDiscountRate = true\n    },\n    /**\n     * [sureDiscountRate 确认折旧率]\n     * @return {[type]} [description]\n     */\n    sureDiscountRate(val) {\n      if(val.updateDiscountRate == null || val.updateDiscountRate == '') {\n        this.$message(\"折扣率不能为空\")\n        return\n      }\n      if(isNaN(val.updateDiscountRate) == true) {\n        this.$message(\"请输入正确的折扣率\")\n        return\n      }\n      if(val.updateDiscountRate < 0.01 || val.updateDiscountRate > 1) {\n        this.$message(\"折扣率应大于等于0.01，小于等于1\")\n        return\n      }\n      this.loading = true\n      let _params = {\n        platformId: this.searchContent.platformId,\n        platformRateParams: [\n          {\n            cityPlatformGoodsId: val.cityPlatformGoodsId || '',\n            discountRate: val.updateDiscountRate || '',\n            profitRate: val.profitRate || ''\n          }\n        ]\n      }\n      this.$http.post(priceAuditUrl.updaterate, _params).then(res => {\n        this.loading = false\n        if(res.code === 0) {\n          this.$message({\n            message: '配置折扣率成功',\n            type: 'success'\n          })\n          this.doSearchHandel()\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    },\n    /**\n     * [deleteDiscountRate 删除折旧率]\n     * @return {[type]} [description]\n     */\n    deleteDiscountRate(index, val) {\n      setTimeout(() => {\n        this.tableData[index].updateDiscountRate = this.tableData[index].discountRate\n        this.tableData[index].showDiscountRate = false\n      }, 500)\n    },\n    /**\n     * [modifyMore 批量配置]\n     * @return {[type]} [description]\n     */\n    modifyMore() {\n      this.rateData.forEach((item, i) => {\n        item.profitRate = ''\n        item.discountRate = ''\n      })\n      let rateDataArr = JSON.stringify(this.rateData)\n      this.rateData = JSON.parse(rateDataArr)\n      this.rateDialogVisible = true\n    },\n    /**\n     * [sureRate 保存配置]\n     * @return {[type]} [description]\n     */\n    sureRate() {\n      let rateDataReturn = false\n      for(let item of this.rateData) {\n        if(isNaN(item.profitRate) == true || isNaN(item.discountRate) == true) {\n          this.$message(\"请输入正确的毛利率或折扣率\")\n          rateDataReturn = true\n          break\n        }else if((item.profitRate != '' && (item.profitRate < 0.01 || item.profitRate > 1)) ||(item.discountRate != '' && (item.discountRate < 0.01 || item.discountRate > 1)) ) {\n          this.$message(\"毛利率或折扣率应大于等于0.01，小于等于1\")\n          rateDataReturn = true\n          break\n        }\n      }\n      if(rateDataReturn) {\n        return\n      }\n      if(this.checkedList.length === 0) {\n        this.$message(\"请选择商品\")\n        return\n      }\n      this.rateDialogVisible = false\n      let platformRateParams = []\n      for(let i of this.rateData) {\n        for(let j of this.checkedList) {\n          let platformRateParamsItem = {\n            cityPlatformGoodsId: j.cityPlatformGoodsId,\n            discountRate: i.discountRate,\n            profitRate: i.profitRate\n          }\n          platformRateParams.push(platformRateParamsItem)\n        }\n      }\n      let _params = {\n        platformId: this.searchContent.platformId,\n        platformRateParams: platformRateParams\n      }\n\n      this.isDisabled = true\n      this.$http.post(priceAuditUrl.batchupdaterate, _params).then(res => {\n        this.loading = false\n        setTimeout(() => {\n          this.isDisabled = false\n        }, 800)\n        if(res.code === 0) {\n          this.$message({\n            message: '保存配置成功',\n            type: 'success'\n          })\n          this.doSearchHandel()\n          return\n        }\n        throw new Error(res.msg)\n      }).catch(e => {\n        this.loading = false\n        this.isDisabled = false\n        this.$notify.error({\n          title: '提示',\n          message: e.message\n        })\n      })\n    }\n  }\n\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/GoodsMgt/JdGoods/PriceAudit/PriceConfig.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"handel-search-wraper\"},[_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请输入已发布商品名称\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.productName),callback:function ($$v) {_vm.$set(_vm.searchContent, \"productName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.productName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"ERP编码\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请输入ERP编码\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.erpNumber),callback:function ($$v) {_vm.$set(_vm.searchContent, \"erpNumber\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.erpNumber\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"所属分类\"}},[_c('el-cascader',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请选择分类\",\"options\":_vm.categoryList,\"change-on-select\":\"\",\"size\":\"small\",\"clearable\":\"\",\"filterable\":\"\",\"props\":_vm.cateDefaultProps},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.categoryIdList),callback:function ($$v) {_vm.$set(_vm.searchContent, \"categoryIdList\", $$v)},expression:\"searchContent.categoryIdList\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")])],1)],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('div',{staticClass:\"sp-handel-w\"},[_c('el-button',{staticClass:\"sup-mini\",attrs:{\"icon\":\"el-icon-setting\",\"size\":\"mini\",\"disabled\":this.checkedList.length == 0},on:{\"click\":_vm.modifyMore}},[_vm._v(\"批量配置\")])],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\"},on:{\"select\":_vm.handleSelect,\"select-all\":_vm.handleSelectAll}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"label\":\"全选\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"goodsNo\",\"label\":\"SKU编码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"erpNumber\",\"label\":\"ERP编码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"180\",\"prop\":\"productName\",\"label\":\"商品名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"160\",\"prop\":\"parentProductInfo\",\"label\":\"母商品信息\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"cityName\",\"label\":\"售卖区域\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90\",\"prop\":\"platformName\",\"label\":\"售卖平台\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90\",\"prop\":\"productCost\",\"label\":\"进货成本\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.productCost)?_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.productCost)+\"\\n          \")]):_c('div',{staticStyle:{\"font-size\":\"11px\",\"color\":\"orange\"}},[_vm._v(\"\\n            尚未获取到成本\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"160\",\"prop\":\"getDate\",\"label\":\"获取成本时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"平台毛利率\",\"min-width\":\"160px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.showProfitRate == false)?_c('div',{staticClass:\"adjust-price\"},[_c('el-button-group',[_c('el-input',{staticStyle:{\"width\":\"80px\"},attrs:{\"size\":\"mini\"},on:{\"focus\":function($event){return _vm.modifyProfitRate(scope.$index, scope.row)}},model:{value:(scope.row.profitRate),callback:function ($$v) {_vm.$set(scope.row, \"profitRate\", $$v)},expression:\"scope.row.profitRate\"}})],1)],1):(scope.row.showProfitRate == true)?_c('div',{staticClass:\"adjust-price\"},[_c('el-button-group',[_c('el-input',{staticStyle:{\"width\":\"80px\"},attrs:{\"size\":\"mini\"},on:{\"blur\":function($event){return _vm.deleteProfitRate(scope.$index, true)}},model:{value:(scope.row.updateProfitRate),callback:function ($$v) {_vm.$set(scope.row, \"updateProfitRate\", $$v)},expression:\"scope.row.updateProfitRate\"}})],1),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{staticStyle:{\"width\":\"25px\"},attrs:{\"icon\":\"el-icon-check\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.sureProfitRate(scope.row)}}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"25px\"},attrs:{\"icon\":\"el-icon-close\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteProfitRate(scope.$index)}}})],1)],1):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"平台折扣率\",\"min-width\":\"160px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.showDiscountRate == false)?_c('div',{staticClass:\"adjust-price\"},[_c('el-button-group',[_c('el-input',{staticStyle:{\"width\":\"80px\"},attrs:{\"size\":\"mini\"},on:{\"focus\":function($event){return _vm.modifyDiscountRate(scope.$index, scope.row)}},model:{value:(scope.row.discountRate),callback:function ($$v) {_vm.$set(scope.row, \"discountRate\", $$v)},expression:\"scope.row.discountRate\"}})],1)],1):(scope.row.showDiscountRate == true)?_c('div',{staticClass:\"adjust-price\"},[_c('el-button-group',[_c('el-input',{staticStyle:{\"width\":\"80px\"},attrs:{\"size\":\"mini\"},on:{\"blur\":function($event){return _vm.deleteDiscountRate(scope.$index, true)}},model:{value:(scope.row.updateDiscountRate),callback:function ($$v) {_vm.$set(scope.row, \"updateDiscountRate\", $$v)},expression:\"scope.row.updateDiscountRate\"}})],1),_vm._v(\" \"),_c('el-button-group',[_c('el-button',{staticStyle:{\"width\":\"25px\"},attrs:{\"icon\":\"el-icon-check\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.sureDiscountRate(scope.row)}}}),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"25px\"},attrs:{\"icon\":\"el-icon-close\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deleteDiscountRate(scope.$index)}}})],1)],1):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"160\",\"prop\":\"updateTime\",\"label\":\"修改时间\"}})],1),_vm._v(\" \"),_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tableData.length>0),expression:\"tableData.length>0\"}],staticClass:\"tc mt20\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[10, 50, 100, 150, 200],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"批量配置\",\"visible\":_vm.rateDialogVisible,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.rateDialogVisible=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.rateData,\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"100\",\"prop\":\"platformName\",\"label\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120\",\"prop\":\"profitRate\",\"label\":\"毛利率\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(scope.row.profitRate),callback:function ($$v) {_vm.$set(scope.row, \"profitRate\", $$v)},expression:\"scope.row.profitRate\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"120\",\"prop\":\"discountRate\",\"label\":\"折扣率\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(scope.row.discountRate),callback:function ($$v) {_vm.$set(scope.row, \"discountRate\", $$v)},expression:\"scope.row.discountRate\"}})]}}])})],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.rateDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.isDisabled},on:{\"click\":_vm.sureRate}},[_vm._v(\"保 存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b92562a0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoodsMgt/JdGoods/PriceAudit/PriceConfig.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b92562a0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./PriceConfig.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PriceConfig.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PriceConfig.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b92562a0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PriceConfig.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoodsMgt/JdGoods/PriceAudit/PriceConfig.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}