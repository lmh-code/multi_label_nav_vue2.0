webpackJsonp([9],{"/if+":function(e,t){},MlSJ:function(e,t,s){"use strict";var a=s("segh"),o={props:{title:{type:String,default:"-"},moduleId:{type:String,default:""},options:{type:Array,default:function(){return[]}},default:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,visible:!1,isDisabled:!1,checkAll:!1,isIndeterminate:!0,defaultChecked:[]}},methods:{setDefaultMsg:function(){this.visible=!0,this.getColumnDetail()},getColumnDetail:function(){var e=this;this.loading=!0,this.$http.post(""+a.a.moduleIdDetail+this.moduleId).then(function(t){if(e.loading=!1,0!==t.code)throw new Error(t.msg);e.defaultChecked=t.data&&t.data.text?t.data.text.split(","):e.default}).catch(function(t){e.loading=!1,e.$tip.notify(t.message||"","error","系统提示")})},handleCheckAllChange:function(e){this.defaultChecked=e?this.options:[],this.isIndeterminate=!1},handleCheckedChange:function(e){var t=e.length;this.checkAll=t===this.options.length,this.isIndeterminate=t>0&&t<this.options.length},confirm:function(){var e=this;this.defaultChecked&&0!==this.defaultChecked.length?(this.isDisabled=!0,this.$http.post(a.a.savePrintDetail,{moduleId:this.moduleId,text:this.defaultChecked&&this.defaultChecked.length>0?this.defaultChecked.join(","):""}).then(function(t){if(e.isDisabled=!1,0!==t.code)throw new Error(t.msg);e.$emit("confirm",e.defaultChecked)}).catch(function(t){e.isDisabled=!1,e.$tip.notify(t.message||"","error","系统提示")})):this.$tip.message("请选择要打印的列","warning")}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,title:e.title,visible:e.visible,width:"600px"},on:{"update:visible":function(t){e.visible=t}}},[s("div",[s("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),e._v(" "),s("el-checkbox-group",{staticClass:"mt10 flexWrap",on:{change:e.handleCheckedChange},model:{value:e.defaultChecked,callback:function(t){e.defaultChecked=t},expression:"defaultChecked"}},e._l(e.options,function(t,a){return s("el-checkbox",{key:a,staticClass:"checkboxItem",attrs:{label:t}},[e._v(e._s(t))])}),1)],1),e._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"mini"},on:{click:function(t){e.visible=!1}}},[e._v("取消")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"mini",loading:e.isDisabled},on:{click:e.confirm}},[e._v("确定")])],1)])},staticRenderFns:[]};var r=s("VU/8")(o,i,!1,function(e){s("aVo9")},"data-v-fb79144a",null);t.a=r.exports},aVo9:function(e,t){},sZbM:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Gu7T"),o=s.n(a),i=s("Msnf"),r=s("MlSJ"),n={mixins:[i.a],data:function(){return{loadingStoreGoods:!1,activeName:"first",searchStoreGoodsContent:{pickStoreNo:"",barcode:"",erpGoodsNo:"",vendorGoodsNo:""},storeGoodsTableData:[],storeGoodsTableDataTemp:[],checkedColumnOptions:["货号","商品条码","商品编码","商品名称","单位","规格","订单金额","订货数量","件数","订货单价","件单价","发货数量","收货数量"],defaultChecked:["货号","商品条码","商品编码","商品名称","单位","规格","订单金额","订货数量","订货单价","发货数量","收货数量"]}},components:{RemColumn:r.a},methods:{getStoreDetailJs:function(){var e=this.searchStoreGoodsContent.pickStoreNo,t=this.searchStoreGoodsContent.barcode,s=this.searchStoreGoodsContent.erpGoodsNo,a=this.searchStoreGoodsContent.vendorGoodsNo,i=[].concat(o()(this.storeGoodsTableDataTemp));if(e||t||s||a){var r=i.filter(function(o){return o.pickStoreNo&&e&&o.pickStoreNo.includes(e)||o.vendorGoodsNo===a||o.barcode===t||o.goodsNo===s});this.storeGoodsTableData=r}else this.storeGoodsTableData=i},doPrintHandle:function(){this.$refs.remColumn&&this.$refs.remColumn.setDefaultMsg()},successHandel:function(){this.$router.push("/order_mgt/print/"+this.paperNo+"/"+this.storeNo)}}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"handel-wraper"},[s("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-printer"},on:{click:e.doPrintHandle}},[e._v("打印")])],1),e._v(" "),s("div",{staticClass:"search-form-wraper pr"},[s("div",{staticClass:"tow-row"},[s("div",{staticClass:"left"},[s("div",{staticClass:"row-item"},[s("div",{staticClass:"f1"},[e._v("门店/仓库："+e._s(e.orderMsg.storeName||"--"))]),e._v(" "),s("div",{staticClass:"f1"},[e._v("订单编号："+e._s(e.orderMsg.paperNo))])]),e._v(" "),s("div",{staticClass:"row-item"},[s("div",{staticClass:"f1"},[e._v("联系人: "+e._s(e.orderMsg.createUserName||"--"))]),e._v(" "),s("div",{staticClass:"f1"},[e._v("联系电话: "+e._s(e.orderMsg.userPhone||"--"))])]),e._v(" "),s("div",{staticClass:"row-item"},[s("div",{staticClass:"f1"},[e._v("单据时间: "+e._s(e.orderMsg.createTime||"--"))]),e._v(" "),s("div",{staticClass:"f1"},[e._v("期望送达时间: "+e._s(e.orderMsg.expectDate||"--"))])])]),e._v(" "),s("div",{staticClass:"right"},[s("bar-code",{attrs:{barCodeMsg:e.paperNo}})],1),e._v(" "),s("div",{staticClass:"status-tag"},[e._v(e._s(e.orderMsg.tagName))])]),e._v(" "),s("div",{staticClass:"tow-row"},[e._v("备注："+e._s(e.orderMsg.remark))])]),e._v(" "),s("div",{staticClass:"table-wraper"},[1===e.orderMsg.havePurchaseQty?s("div",[s("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"商品汇总",name:"first"}},[s("bl-table",{attrs:{loading:e.loading,border:!1,selection:!1,dataSource:e.orderSumTableData,columns:e.orderSumTableColumn}})],1),e._v(" "),s("el-tab-pane",{attrs:{label:"门店明细",name:"second"}},[s("bl-table",{attrs:{loading:e.loading,border:!1,selection:!1,dataSource:e.storeGoodsTableData,columns:e.storeGoodsTableColumn}})],1)],1)],1):s("div",[s("bl-table",{attrs:{loading:e.loading,border:!1,selection:!1,dataSource:e.orderSumTableData,columns:e.orderSumTableColumn}})],1)]),e._v(" "),s("rem-column",{ref:"remColumn",attrs:{title:"打印信息确认",moduleId:"order_mgt",options:e.checkedColumnOptions,default:e.defaultChecked},on:{confirm:e.successHandel}})],1)},staticRenderFns:[]};var d=s("VU/8")(n,l,!1,function(e){s("/if+")},"data-v-8be1be36",null);t.default=d.exports}});
//# sourceMappingURL=9.62b5a1f46c87f1e4559e.1615898974438.js.map