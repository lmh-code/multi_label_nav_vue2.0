{"version":3,"sources":["webpack:///src/components/Activity/StoreAct/TimelyBuy/JoinGoodsTable.vue","webpack:///./src/components/Activity/StoreAct/TimelyBuy/JoinGoodsTable.vue?a694","webpack:///./src/components/Activity/StoreAct/TimelyBuy/JoinGoodsTable.vue","webpack:///src/components/Activity/StoreAct/TimelyBuy/AddTBPage.vue","webpack:///./src/components/Activity/StoreAct/TimelyBuy/AddTBPage.vue?9967","webpack:///./src/components/Activity/StoreAct/TimelyBuy/AddTBPage.vue"],"names":["JoinGoodsTable","data","tableData","scene","checkedList","methods","setDefaultMesg","_val","this","defaultSelectFun","handleSelect","val","row","hash","checkedListTemp","utils","platformCityGoodsId","push","checkedListTempArr","concat","toConsumableArray_default","reduceRight","item","next","_value","$emit","handleSelectAll","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","done","value","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_item","checkedListArr","_this","rows","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","i","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","j","goodsName","activityId","id","activityTimes","curStock","groupCount","groupPrice","limitGroupType","sortNum","limitGoodsCount","$refs","multipleTable","clearSelection","setTimeout","forEach","rowItem","toggleRowSelection","sfInStockHeader","h","$createElement","attrs","placement","width","trigger","slot","class","deleteGoodsItem","_row","TimelyBuy_JoinGoodsTable","render","_vm","_h","_c","_self","directives","name","rawName","expression","ref","staticClass","staticStyle","empty-text","max-height","size","on","select","select-all","min-width","label","scopedSlots","_u","key","fn","scope","imgUrl","src","alt","onerror","_v","_s","goodsNo","prop","disabled","placeholder","model","callback","$$v","$set","render-header","align","fixed","type","icon","click","$event","_m","staticRenderFns","color","Component","__webpack_require__","normalizeComponent","__webpack_exports__","reqUrl","numReg","salePriceReg","AddTBPage","pickerOptions","disabledDate","time","getTime","Date","now","isDisabled","addParamMesg","DIFFCITY","platformId","regionCode","localStorage","get","activityType","activityTypeName","activityName","activityStartDate","activityEndDate","activityCode","activityStoreList","activityStoreGroupList","activityScenes","activeName","activityStartTime","activityEndTime","platCityGoodsInfos","discount","performanceDate","activityStoresCheckedList","tempConfig","skuNo","activityGoodsName","preSalePrice","platformCurStock","limitCount","sfInStockStr","showTipErrorMsg","hasErrorMsgData","components","choose-store","ChooseStore","choose-goods","ChooseGoods","join-goods-table","region","Region","excel-add","AddByExcel","chooseStoreOpen","groupIndex","_params","title","otherCheckedList","getCheckedStores","chooseStore","setDefault","chooseGoodsOpen","sceneMsg","params","chooseGoods","$message","warning","handleTabClick","setJoinGoodsMesg","_scene","joinGoodsTable","confirmChooseStore","confirmChooseGoods","activityGoodsCheckedList","deleteStoreItem","erpStoreNo","checkdStoreList","filter","setDefaultChecked","setDiscountBatch","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","test","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","parseFloat","price","toFixed","doSaveHandel","substr","activityStartDateNum","parse","replace","activityEndDateNum","map","idx","index","storeNoList","k","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","performanceDatetime","sceneName","activityScenesTemp","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","goodsItem","startTimeArr","endTimeArr","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","_item2","$http","post","extends_default","then","res","code","success","$router","Error","msg","catch","e","$notify","error","message","doCancelHandel","_this2","$confirm","confirmButtonText","cancelButtonText","doAddStoreGroupHandel","doMinusStoreGroupHandel","splice","excludeIdx","allCheckedStores","showExcelBatchInsertDialog","excelAdd","setDefaultMsg","doConfirmHandel","_this3","excelDataList","dataList","closeDisabled","closeDialog","some","msgType","goodsId","sfInStock","downLoadErrorMsg","_this4","downloadExcelConfig","msgTypeStr","tHeader","filterVal","exportExcel","ExportJsonToExcel","header","filename","TimelyBuy_AddTBPage","label-width","required","font-size","font-weight","className","clearable","format","value-format","picker-options","_l","erpStoreName","_e","circle","tab-click","visible","close-on-click-modal","close-on-press-escape","update:visible","ssrContext"],"mappings":"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","file":"static/js/28.614f2134661b1d70dca5.js","sourcesContent":["<template>\n  <div>\n    <div v-show=\"tableData.length > 0\">\n      <el-table\n        class=\"fixed-height\"\n        :data=\"tableData\"\n        ref=\"multipleTable\"\n        empty-text=\"暂无选中任何商品\"\n        style=\"width:100%;\"\n        max-height=\"400\"\n        @select=\"handleSelect\"\n        @select-all=\"handleSelectAll\"\n        size=\"small\">\n        <el-table-column min-width=\"220px\" label=\"商品信息\">\n          <template slot-scope=\"scope\">\n            <div class=\"ll-p-m-w\">\n              <div class=\"ll-img-w\">\n                <img v-if=\"scope.row.imgUrl && scope.row.imgUrl != ''\" :src=\"scope.row.imgUrl\" alt=\"\" onerror=\"onerror=null;src='/shop/static/img_error.png'\">\n                <img v-else src=\"/shop/static/img_error.png\" alt=\"\">\n              </div>\n              <div class=\"ll-p-m-c-r\">\n                <div>\n                  {{scope.row.goodsName || '--'}}\n                </div>\n                <div class=\"ll-erp-p-no\">SKU编码：{{scope.row.goodsNo || '--'}}</div>\n              </div>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"100px\" prop=\"spec\" label=\"规格\"></el-table-column>\n        <el-table-column min-width=\"130px\" label=\"活动商品名称\">\n          <template slot-scope=\"scope\">\n            <div>\n              <el-input :disabled = \"scope.row.disabled\" v-model=\"scope.row.activityGoodsName\" size=\"small\" placeholder=\"输入名称\"></el-input>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"90px\" prop=\"price\" label=\"原价\"></el-table-column>\n        <el-table-column min-width=\"110px\" label=\"活动价\">\n          <template slot-scope=\"scope\">\n            <div>\n              <el-input v-model=\"scope.row.groupPrice\" size=\"small\" placeholder=\"输入价格\" :disabled = \"scope.row.disabled\"></el-input>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"150px\" label=\"限购数量(为空不限)\">\n          <template slot-scope=\"scope\">\n            <div>\n              <el-input v-model=\"scope.row.limitGoodsCount\" size=\"small\" placeholder=\"输入限购数量\" :disabled = \"scope.row.disabled\"></el-input>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"110px\" label=\"活动库存\">\n          <template slot-scope=\"scope\">\n            <div>\n              <el-input v-model=\"scope.row.curStock\" size=\"small\" placeholder=\"输入库存\" :disabled = \"scope.row.disabled\"></el-input>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"110px\" label=\"排序权重\">\n          <template slot-scope=\"scope\">\n            <div>\n              <el-input v-model=\"scope.row.sortNum\" size=\"small\" placeholder=\"输入权重\" :disabled = \"scope.row.disabled\"></el-input>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column min-width=\"190px\" :render-header=\"sfInStockHeader\">\n          <template slot-scope=\"scope\">\n            <div>\n              <el-radio :disabled = \"scope.row.disabled\" v-model=\"scope.row.sfInStock\" :label=\"true\">是</el-radio>\n              <el-radio :disabled = \"scope.row.disabled\" v-model=\"scope.row.sfInStock\" :label=\"false\">否</el-radio>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          label=\"操作\"\n          fixed=\"right\"\n          width=\"80\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <el-button @click=\"deleteGoodsItem(scope.row)\" type=\"text\" size=\"mini\" icon=\"el-icon-delete\" :disabled = \"scope.row.disabled\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div>\n        <span style=\"color: red;\">*</span>注意：权重排序，先创建的活动商品在前；剩余的按前端规则走。\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import * as utils from '@/utils/utils'\n  export default {\n    data() {\n      return {\n        tableData: [],\n        scene: '',\n        checkedList: []\n      }\n    },\n\n    methods: {\n      /**\n       * [setDefaultMesg 设置信息]\n       * @param {[type]} _val [description]\n       */\n      setDefaultMesg(_val) {\n        this.tableData = _val.tableData || []\n        this.checkedList = _val.checkedList || []\n        this.scene = _val.scene || ''\n\n        this.defaultSelectFun()\n      },\n      /**\n       * [handleSelect 选择某一个]\n       * @return {[type]} [description]\n       */\n      handleSelect(val, row) {\n        let hash = {}\n        let checkedListTemp = []\n\n        if(utils.isKeyInArrayBykey(row.platformCityGoodsId, 'platformCityGoodsId', this.checkedList)) {\n          this.checkedList = utils.removeItemByKeyVal('platformCityGoodsId', row.platformCityGoodsId, this.checkedList)\n          return\n        }else {\n          checkedListTemp.push(row)\n        }\n\n        let checkedListTempArr = [...checkedListTemp, ...this.checkedList]\n        this.checkedList = checkedListTempArr.reduceRight((item, next) => {\n          hash[next.platformCityGoodsId] ? '' : hash[next.platformCityGoodsId] = true && item.push(next)\n          return item\n        }, [])\n\n        // 处理数据\n        let _value = {\n          scene: this.scene,\n          checkedList: this.checkedList\n        }\n        this.$emit(\"setDefaultChecked\", _value)\n      },\n      /**\n       * [handleSelectAll 选择多个]\n       * @return {[type]} [description]\n       */\n      handleSelectAll(val) {\n        let hash = {}\n        if(val.length > 0) {\n          // 全选\n          for(let item of val) {\n            this.checkedList.push(item)\n          }\n          // 去重\n          this.checkedList = this.checkedList.reduceRight((item, next) => {\n            hash[next.platformCityGoodsId] ? '' : hash[next.platformCityGoodsId] = true && item.push(next)\n            return item\n          }, [])\n        }else {\n          // 全不选 此时val.length<=0\n          // 1.获取当前table中每一条的id\n          let checkedListTemp = []\n          for(let item of this.tableData) {\n            checkedListTemp.push(item)\n          }\n          // 2.从要传递的参数中去掉这些重复的\n          let checkedListArr = utils.getSubtract(this.checkedList, checkedListTemp, 'platformCityGoodsId')\n          this.checkedList = checkedListArr && checkedListArr.length > 0 ? checkedListArr : []\n        }\n\n        // 处理数据\n        let _value = {\n          scene: this.scene,\n          checkedList: this.checkedList\n        }\n        this.$emit(\"setDefaultChecked\", _value)\n      },\n      /**\n       * [defaultSelectFun 设置表格中的默认选中项]\n       * @param    {[type]}                 row [description]\n       * @return   {[type]}                     [description]\n       */\n      defaultSelectFun() {\n        let _this = this\n        let rows = []\n        // 设置默认选中项  处理已经有的操作\n        for(let i of this.tableData) {\n          for(let j of this.checkedList) {\n            if(i.platformCityGoodsId == j.platformCityGoodsId) {\n              i.goodsName = j.goodsName\n              i.activityId = j.activityId // 活动id\n              i.id = j.id // 活动明细流水ID\n              i.activityTimes = j.activityTimes // 活动限制时间（小时）\n              i.curStock = j.curStock // 活动库存\n              i.groupCount = j.groupCount // 活动人数\n              i.groupPrice = j.groupPrice // 活动售价\n              i.limitGroupType = j.limitGroupType // 活动限制: 0：全部；1：老用户；2：新用户；\n              i.sortNum = j.sortNum // 活动权重\n              i.limitGoodsCount = j.limitGoodsCount // 活动商品限制数量\n\n              rows.push(i)\n            }\n          }\n        }\n        if(rows.length > 0) {\n          this.$refs.multipleTable.clearSelection()\n          setTimeout(function() {\n            rows.forEach(rowItem => {\n              _this.$refs.multipleTable.toggleRowSelection(rowItem)\n            });\n          }, 100)\n        } else {\n          this.$refs.multipleTable.clearSelection()\n        }\n      },\n      sfInStockHeader() {\n        return (\n          <el-popover\n            placement=\"top-start\"\n            width=\"260\"\n            trigger=\"hover\">\n            <div>\n              <p>1、顺丰标品设为顺丰仓现货时，下单会校验仓库库存；</p>\n              <p>2、本来鲜生鲜品无需设置；</p>\n            </div>\n            <span slot=\"reference\">是否为顺丰仓现货<i class=\"el-icon-question\"></i></span>\n          </el-popover>\n        )\n      },\n      /**\n       * [deleteGoodsItem 删除]\n       * @return {[type]} [description]\n       */\n      deleteGoodsItem(_row) {\n        let _value = {\n          scene: this.scene,\n          row: _row\n        }\n        this.$emit(\"deleteGoodsItem\", _value)\n      }\n\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/StoreAct/TimelyBuy/JoinGoodsTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tableData.length > 0),expression:\"tableData.length > 0\"}]},[_c('el-table',{ref:\"multipleTable\",staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"暂无选中任何商品\",\"max-height\":\"400\",\"size\":\"small\"},on:{\"select\":_vm.handleSelect,\"select-all\":_vm.handleSelectAll}},[_c('el-table-column',{attrs:{\"min-width\":\"220px\",\"label\":\"商品信息\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"ll-p-m-w\"},[_c('div',{staticClass:\"ll-img-w\"},[(scope.row.imgUrl && scope.row.imgUrl != '')?_c('img',{attrs:{\"src\":scope.row.imgUrl,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}}):_c('img',{attrs:{\"src\":\"/shop/static/img_error.png\",\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"ll-p-m-c-r\"},[_c('div',[_vm._v(\"\\n                \"+_vm._s(scope.row.goodsName || '--')+\"\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"ll-erp-p-no\"},[_vm._v(\"SKU编码：\"+_vm._s(scope.row.goodsNo || '--'))])])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"100px\",\"prop\":\"spec\",\"label\":\"规格\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"130px\",\"label\":\"活动商品名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"disabled\":scope.row.disabled,\"size\":\"small\",\"placeholder\":\"输入名称\"},model:{value:(scope.row.activityGoodsName),callback:function ($$v) {_vm.$set(scope.row, \"activityGoodsName\", $$v)},expression:\"scope.row.activityGoodsName\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"90px\",\"prop\":\"price\",\"label\":\"原价\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"110px\",\"label\":\"活动价\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入价格\",\"disabled\":scope.row.disabled},model:{value:(scope.row.groupPrice),callback:function ($$v) {_vm.$set(scope.row, \"groupPrice\", $$v)},expression:\"scope.row.groupPrice\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"150px\",\"label\":\"限购数量(为空不限)\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入限购数量\",\"disabled\":scope.row.disabled},model:{value:(scope.row.limitGoodsCount),callback:function ($$v) {_vm.$set(scope.row, \"limitGoodsCount\", $$v)},expression:\"scope.row.limitGoodsCount\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"110px\",\"label\":\"活动库存\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入库存\",\"disabled\":scope.row.disabled},model:{value:(scope.row.curStock),callback:function ($$v) {_vm.$set(scope.row, \"curStock\", $$v)},expression:\"scope.row.curStock\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"110px\",\"label\":\"排序权重\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"输入权重\",\"disabled\":scope.row.disabled},model:{value:(scope.row.sortNum),callback:function ($$v) {_vm.$set(scope.row, \"sortNum\", $$v)},expression:\"scope.row.sortNum\"}})],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"190px\",\"render-header\":_vm.sfInStockHeader},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('el-radio',{attrs:{\"disabled\":scope.row.disabled,\"label\":true},model:{value:(scope.row.sfInStock),callback:function ($$v) {_vm.$set(scope.row, \"sfInStock\", $$v)},expression:\"scope.row.sfInStock\"}},[_vm._v(\"是\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"disabled\":scope.row.disabled,\"label\":false},model:{value:(scope.row.sfInStock),callback:function ($$v) {_vm.$set(scope.row, \"sfInStock\", $$v)},expression:\"scope.row.sfInStock\"}},[_vm._v(\"否\")])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"disabled\":scope.row.disabled},on:{\"click\":function($event){return _vm.deleteGoodsItem(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_vm._m(0)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"注意：权重排序，先创建的活动商品在前；剩余的按前端规则走。\\n    \")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-97e939a4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/StoreAct/TimelyBuy/JoinGoodsTable.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./JoinGoodsTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./JoinGoodsTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-97e939a4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./JoinGoodsTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/StoreAct/TimelyBuy/JoinGoodsTable.vue\n// module id = null\n// module chunks = ","<style>\r\n  .ll-p-m-w {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n  }\r\n  .ll-img-w {\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n  .ll-img-w>img {\r\n    width: 60px;\r\n  }\r\n  .ll-p-m-c-r {\r\n    padding: 0 10px;\r\n  }\r\n  .ll-erp-p-no {\r\n    color: #666;\r\n    font-size: 12px;\r\n  }\r\n  .del-store-icon-w {\r\n    position: absolute;\r\n    top: -8px;\r\n    right: 2px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .store-pre-time-item-wrap {\r\n    display: flex;\r\n    flex-direction: row;\r\n    flex-wrap: nowrap;\r\n    align-items: center;\r\n  }\r\n  .store-pre-time-item-wrap>.item-left {\r\n    flex: 0 0 90px;\r\n    width: 90px;\r\n    text-align: left;\r\n    margin-left: 20px\r\n  }\r\n  .store-pre-time-item-wrap>.item-right {\r\n    border: 1px solid #ececec;\r\n    border-radius: 8px;\r\n    padding: 8px;\r\n    width: 550px;\r\n    box-sizing: border-box;\r\n  }\r\n</style>\r\n<template>\r\n  <div>\r\n    <div class=\"add-form-wraper\">\r\n      <el-form ref=\"form\" :model=\"addParamMesg\" label-width=\"140px\">\r\n        <el-form-item label=\"活动类型\" required>\r\n          <p style=\"color: #222;font-size: 16px; font-weight: bold;\">{{addParamMesg.activityTypeName}}</p>\r\n        </el-form-item>\r\n        <region class=\"region-wrap\" className=\"add-input\" label=\"选择区域\" :required=\"true\"></region>\r\n        <el-form-item label=\"活动名称\" required>\r\n          <el-input v-model=\"addParamMesg.activityName\" size=\"small\" class=\"add-input\" placeholder=\"请输入活动名称\" clearable></el-input>\r\n          <span>活动名称,限制30个汉字</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"开始时间\" required>\r\n          <el-date-picker\r\n            class=\"add-input\"\r\n            v-model=\"addParamMesg.activityStartDate\"\r\n            type=\"date\"\r\n            placeholder=\"请选择活动开始时间\"\r\n            format=\"yyyy-MM-dd\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            size=\"small\"\r\n            :picker-options=\"pickerOptions\">\r\n          </el-date-picker>\r\n          <span>活动开始时间</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"结束时间\" required>\r\n          <el-date-picker\r\n            class=\"add-input\"\r\n            v-model=\"addParamMesg.activityEndDate\"\r\n            type=\"date\"\r\n            placeholder=\"请选择活动结束时间\"\r\n            format=\"yyyy-MM-dd\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            size=\"small\"\r\n            :picker-options=\"pickerOptions\">\r\n          </el-date-picker>\r\n          <span>活动结束时间</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"门店/履约时间\" required>\r\n          <div class=\"store-pre-time-item-wrap\" :class=\"index > 0 ? 'mt10' : null\" v-for=\"(item, index) of activityStoreGroupList\" :key=\"index\">\r\n            <div class=\"item-right\">\r\n              <div>\r\n                <span>参与门店</span>\r\n                <el-button size=\"small\" @click=\"chooseStoreOpen(index)\" icon=\"el-icon-plus\">选择门店</el-button>\r\n                <div v-if=\"item.activityStoresCheckedList.length > 0\">\r\n                  <el-table\r\n                    class=\"fixed-height\"\r\n                    :data=\"item.activityStoresCheckedList\"\r\n                    empty-text=\"暂无选中任何门店\"\r\n                    max-height=\"250\"\r\n                    size=\"small\">\r\n                    <el-table-column min-width=\"220px\" label=\"门店编码/名称\">\r\n                      <template slot-scope=\"scope\">\r\n                        <div>\r\n                          {{scope.row.erpStoreNo}}_{{scope.row.erpStoreName}}\r\n                        </div>\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column min-width=\"80\" prop=\"cityName\" label=\"城市\"></el-table-column>\r\n                    <el-table-column min-width=\"80\" prop=\"saleTypeName\" label=\"门店类型\"></el-table-column>\r\n                    <el-table-column\r\n                      align=\"center\"\r\n                      label=\"操作\"\r\n                      width=\"100\">\r\n                      <template slot-scope=\"scope\" size=\"small\">\r\n                        <el-button @click=\"deleteStoreItem(index, scope.row)\" type=\"text\" size=\"mini\" icon=\"el-icon-delete\">删除</el-button>\r\n                      </template>\r\n                    </el-table-column>\r\n                  </el-table>\r\n                </div>\r\n              </div>\r\n              <div class=\"mt10\">\r\n                <span>履约时间</span>\r\n                <!-- default-time=\"23:59:59\"\r\n                format=\"yyyy-MM-dd HH:mm:ss\"\r\n                value-format=\"yyyy-MM-dd HH:mm:ss\" -->\r\n                <el-date-picker\r\n                  class=\"search-input\"\r\n                  v-model=\"item.performanceDate\"\r\n                  type=\"date\"\r\n                  placeholder=\"请选择履约时间\"\r\n                  format=\"yyyy-MM-dd\"\r\n                  value-format=\"yyyy-MM-dd\"\r\n                  size=\"small\"\r\n                  :picker-options=\"pickerOptions\">\r\n                </el-date-picker>\r\n                <span>门店仅支持自提则为自提时间</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"item-left\">\r\n              <el-button type=\"primary\" size=\"mini\" icon=\"el-icon-plus\" circle @click=\"doAddStoreGroupHandel\"></el-button>\r\n              &nbsp;\r\n              <el-button size=\"mini\" icon=\"el-icon-minus\" circle v-if=\"activityStoreGroupList.length > 1\" @click=\"doMinusStoreGroupHandel(index)\"></el-button>\r\n            </div>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"参与商品\" required>\r\n          <el-tabs v-model=\"activeName\" @tab-click=\"handleTabClick\">\r\n            <el-tab-pane  :name=\"item.activeName\" v-for=\"(item, idx) in activityScenes\" :key=\"idx\">\r\n              <span slot=\"label\">\r\n                {{item.label}} \r\n                <span v-if=\"item.activityStartTime && item.activityEndTime\">\r\n                  {{item.activityStartTime}}-{{item.activityEndTime}}\r\n                </span>\r\n              </span>\r\n\r\n              <span>\r\n                开始时间:\r\n              </span>\r\n              <el-time-picker\r\n                v-model=\"item.activityStartTime\"\r\n                format=\"HH:mm\"\r\n                value-format=\"HH:mm\"\r\n                class=\"add-input-inline\"\r\n                size=\"small\" \r\n                clearable\r\n                placeholder=\"开始时间\">\r\n              </el-time-picker>\r\n              \r\n              <span>\r\n                结束时间:\r\n              </span>\r\n              <el-time-picker\r\n                v-model=\"item.activityEndTime\"\r\n                format=\"HH:mm\"\r\n                class=\"add-input-inline\"\r\n                value-format=\"HH:mm\"\r\n                size=\"small\" \r\n                clearable\r\n                placeholder=\"结束时间\"\r\n                :picker-options=\"pickerOptions\">\r\n              </el-time-picker>\r\n\r\n              <el-button size=\"small\" type=\"primary\" @click=\"chooseGoodsOpen(item)\" icon=\"el-icon-plus\">选择商品</el-button>\r\n              <el-button @click=\"showExcelBatchInsertDialog(item)\" size=\"mini\" icon=\"el-icon-plus\">Excel批量导入</el-button>\r\n              <!-- <el-input placeholder=\"活动价折扣(0-100整数)\" class=\"add-input\" size=\"small\" v-model=\"item.discount\" v-if=\"item.platCityGoodsInfos && item.platCityGoodsInfos.length\">\r\n                <el-button slot=\"append\" @click=\"setDiscountBatch(item.scene)\" type=\"primary\">确定</el-button>\r\n              </el-input> -->\r\n            </el-tab-pane>\r\n            \r\n            <join-goods-table ref=\"joinGoodsTable\" @deleteGoodsItem=\"deleteGoodsItem\" @setDefaultChecked=\"setDefaultChecked\"></join-goods-table>\r\n          </el-tabs>\r\n  \r\n\r\n        </el-form-item>\r\n\r\n        <hr class=\"s-slip-tb\">\r\n        <el-form-item>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel\" :disabled=\"isDisabled\">保存</el-button>\r\n          <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 选择门店 -->\r\n    <choose-store ref=\"chooseStore\" @confirmChooseStore=\"confirmChooseStore\"></choose-store>\r\n    <!-- 选择商品 -->\r\n    <choose-goods ref=\"chooseGoods\" @confirmChooseGoods=\"confirmChooseGoods\"></choose-goods>\r\n    <excel-add ref=\"excelAdd\" @doConfirmHandel=\"doConfirmHandel\"></excel-add>\r\n    <el-dialog \r\n      title=\"批量导入失败\" \r\n      :visible.sync=\"showTipErrorMsg\" \r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      width='450px'>\r\n      <div>\r\n        部分商品不符合要求，请按要求修改后再重新导入。<el-button type=\"text\" size=\"mini\" @click=\"downLoadErrorMsg\">下载查看失败原因</el-button>\r\n      </div>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"showTipErrorMsg = false\" size=\"mini\">关 闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\n  import * as utils from '@/utils/utils'\r\n  import exportSheet from '@/utils/exportExcel'\r\n  import Storage from '@/utils/localStorage'\r\n  import ChooseStore from \"@/components/Activity/Common/ChooseStore\"\r\n  import ChooseGoods from \"@/components/Activity/Common/ChooseGoods\"\r\n  import JoinGoodsTable from \"./JoinGoodsTable\"\r\n  import Region from '@/components/Common/StoreCommon/Region'\r\n  import AddByExcel from \"@/components/Common/Excel/AddByExcel\"\r\n  const reqUrl = {\r\n    // 校验新增预售商品\r\n    checkPreGoodsInsert: '/plateform/a/preSale/goods/checkPreGoodsInsert',\r\n    // 新增活动规则\r\n    add: \"/plateform/a/activityRule/add\"\r\n  }\r\n  const numReg = /^[1-9]*[1-9][0-9]*$/\r\n  const salePriceReg = /((^[1-9]\\d*)|^0)(\\.\\d{0,2}){0,1}$/\r\n  const salePriceOnePointReg = /((^[1-9]\\d*))(\\.\\d{0,1}){0,1}$/\r\n  export default {\r\n    data() {\r\n      return {\r\n        pickerOptions: {\r\n          disabledDate(time) {\r\n            return time.getTime() < Date.now() - 8.64e7; // 如果没有后面的-8.64e7就是不可以选择今天的\r\n          }\r\n        }, \r\n        isDisabled: false,\r\n        addParamMesg: {\r\n          DIFFCITY: true,\r\n          platformId: 5,\r\n          regionCode: Storage.get('regionCode') || '', // 区域ID\r\n          activityType: 21, // 活动类型\r\n          activityTypeName: '秒杀', // 活动类型名称\r\n          activityName: '', // 活动名称\r\n          activityStartDate: '', // 活动开始时间\r\n          activityEndDate: '', // 活动结束时间\r\n          activityCode: '', // 活动编码\r\n          // 参与门店 秒杀中此字段没用，但是后端有非空验证，所以希望前端加上，故此处把所有门店分组中的门店编号传入\r\n          activityStoreList: [],\r\n          // 活动门店分组集合\r\n          activityStoreGroupList: [],\r\n          // 活动场次集合\r\n          activityScenes: []\r\n        },\r\n        // 默认选中的场次\r\n        activeName: 'first',\r\n        scene: 1,\r\n        // secnce 1 第一场 2 第二场 3 第三场 4 第四场 \r\n        activityScenes: [\r\n          {\r\n            scene: 1, \r\n            activeName: 'first',\r\n            label: '第一场',\r\n            // 开始时间 格式：HH:mm:ss\r\n            activityStartTime: '',\r\n            // 结束时间 格式：HH:mm:ss\r\n            activityEndTime: '',\r\n            // 活动商品集合\r\n            platCityGoodsInfos: [],\r\n            // 当前选中的商品用于批量设置价格\r\n            checkedList: [],\r\n            // 批量修改折扣\r\n            discount: ''\r\n          },\r\n          {\r\n            scene: 2,\r\n            activeName: 'second', \r\n            label: '第二场',\r\n            // 开始时间 格式：HH:mm:ss\r\n            activityStartTime: '',\r\n            // 结束时间 格式：HH:mm:ss\r\n            activityEndTime: '',\r\n            // 活动商品集合\r\n            platCityGoodsInfos: [],\r\n            // 当前选中的商品用于批量设置价格\r\n            checkedList: [],\r\n            // 批量修改折扣\r\n            discount: ''\r\n          },\r\n          {\r\n            scene: 3, \r\n            activeName: 'third', \r\n            label: '第三场',\r\n            // 开始时间 格式：HH:mm:ss\r\n            activityStartTime: '',\r\n            // 结束时间 格式：HH:mm:ss\r\n            activityEndTime: '',\r\n            // 活动商品集合\r\n            platCityGoodsInfos: [],\r\n            // 当前选中的商品用于批量设置价格\r\n            checkedList: [],\r\n            // 批量修改折扣\r\n            discount: ''\r\n          },\r\n          {\r\n            scene: 4, \r\n            activeName: 'fourth', \r\n            label: '第四场',\r\n            // 开始时间 格式：HH:mm:ss\r\n            activityStartTime: '',\r\n            // 结束时间 格式：HH:mm:ss\r\n            activityEndTime: '',\r\n            // 活动商品集合\r\n            platCityGoodsInfos: [],\r\n            // 当前选中的商品用于批量设置价格\r\n            checkedList: [],\r\n            // 批量修改折扣\r\n            discount: ''\r\n          }\r\n        ],\r\n        // 参与门店与履约时间\r\n        activityStoreGroupList: [\r\n          {\r\n            performanceDate: '', // 履约时间\r\n            activityStoresCheckedList: [] // 选中的门店\r\n          }\r\n        ],\r\n\r\n        tempConfig: {\r\n          platformCityGoodsId: '区域商品id(必填)',\r\n          goodsNo: 'SKU编码(选填)',\r\n          skuNo: 'ERP商品编码(选填)',\r\n          activityGoodsName: '活动商品名称(可修改，必填)',\r\n          preSalePrice: '活动价(必填)',\r\n          platformCurStock: '活动库存（必填）',\r\n          limitCount: '每人每期限购(选填，为空时不限)',\r\n          sortNum: '排序(必填)',\r\n          sfInStockStr: '顺丰仓现货（选填，填是/否，空时为是）'\r\n        },\r\n        // 显示下载含有失败原因的excel\r\n        showTipErrorMsg: false, \r\n        // 后台返回的又失败原因的内容\r\n        hasErrorMsgData: []\r\n      }\r\n    },\r\n    components: {\r\n      \"choose-store\": ChooseStore,\r\n      \"choose-goods\": ChooseGoods,\r\n      \"join-goods-table\": JoinGoodsTable,\r\n      \"region\": Region,\r\n      \"excel-add\": AddByExcel\r\n    },\r\n    methods: {\r\n      /**\r\n       * [chooseStoreOpen 选择门店]\r\n       * @return {[type]} [description]\r\n       */\r\n      chooseStoreOpen(groupIndex) {\r\n        let _params = {\r\n          title: '选择门店',\r\n          platformId: this.addParamMesg.platformId,\r\n          regionCode: this.addParamMesg.regionCode,\r\n          groupIndex: groupIndex,\r\n          checkedList: this.activityStoreGroupList[groupIndex].activityStoresCheckedList,\r\n          otherCheckedList: this.getCheckedStores(groupIndex)\r\n        }\r\n        this.$refs.chooseStore.setDefault(_params)\r\n      },\r\n      /**\r\n       * [chooseGoodsOpen 选择商品]\r\n       * @return {[type]} [description]\r\n       */\r\n      chooseGoodsOpen(sceneMsg) {\r\n        if(!sceneMsg.activityStartTime || !sceneMsg.activityEndTime) {\r\n          this.$message.warning(\"请先选择本场次的开始时间和结束时间\")\r\n          return\r\n        }\r\n        let params = {\r\n          title: '选择商品',\r\n          regionCode: this.addParamMesg.regionCode,\r\n          checkedList: sceneMsg.platCityGoodsInfos\r\n        }\r\n        this.$refs.chooseGoods.setDefault(params)\r\n      },\r\n\r\n       /**\r\n       * [handleTabClick tab点击切换]\r\n       */\r\n      handleTabClick(_val) {\r\n        if(_val.name == 'first') {\r\n          this.scene = 1\r\n        }else if(_val.name == 'second') {\r\n          this.scene = 2\r\n        }else if(_val.name == 'third') {\r\n          this.scene = 3\r\n        }else if(_val.name == 'fourth') {\r\n          this.scene = 4\r\n        }\r\n\r\n        this.activeName = _val.name\r\n        this.setJoinGoodsMesg(this.scene)\r\n      },\r\n      /**\r\n       * [setJoinGoodsMesg 设置表格组件数据]\r\n       * @param {[type]} _scene [description]\r\n       */\r\n      setJoinGoodsMesg(_scene) {\r\n        let tableData = []\r\n        let checkedList = []\r\n\r\n        for(let item of this.activityScenes) {\r\n          if(item.scene === _scene) {\r\n            tableData = item.platCityGoodsInfos\r\n            checkedList = item.checkedList\r\n          }\r\n        }\r\n\r\n        let _value = {\r\n          scene: _scene,\r\n          checkedList: checkedList,\r\n          tableData: tableData\r\n        }\r\n        this.$refs.joinGoodsTable.setDefaultMesg(_value)\r\n      },\r\n      /**\r\n       * [confirmChooseStore 选中的门店]\r\n       * @param  {[type]} _value [description]\r\n       * @return {[type]}        [description]\r\n       */\r\n      confirmChooseStore(_value) {\r\n        let activityStoresCheckedList = _value.checkedList || []\r\n        let groupIndex = _value.groupIndex || 0\r\n        this.activityStoreGroupList[groupIndex].activityStoresCheckedList = activityStoresCheckedList\r\n      },\r\n      /**\r\n       * [confirmChooseGoods 选中的商品]\r\n       * @param  {[type]} _value [description]\r\n       * @return {[type]}        [description]\r\n       */\r\n      confirmChooseGoods(_value) {\r\n        let activityGoodsCheckedList = []\r\n        if(_value.checkedList && _value.checkedList.length) {\r\n          activityGoodsCheckedList = _value.checkedList\r\n        }else {\r\n          activityGoodsCheckedList = []\r\n        }\r\n        for(let item of this.activityScenes) {\r\n          if(item.scene === this.scene) {\r\n            item.platCityGoodsInfos = activityGoodsCheckedList\r\n          }\r\n        }\r\n        this.setJoinGoodsMesg(this.scene)\r\n      },\r\n      /**\r\n       * [deleteItem 删除选中的门店]\r\n       * @param  {[type]} row [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      deleteStoreItem(groupIndex, row) {\r\n        let erpStoreNo = row.erpStoreNo\r\n        let checkdStoreList = this.activityStoreGroupList[groupIndex].activityStoresCheckedList\r\n\r\n        this.activityStoreGroupList[groupIndex].activityStoresCheckedList = checkdStoreList.filter(item => {\r\n          return item.erpStoreNo !== erpStoreNo\r\n        })\r\n      },\r\n      /**\r\n       * [deleteItem 删除选中的商品]\r\n       * @param  {[type]} _row [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      deleteGoodsItem(_value) {\r\n        let _row = _value.row ? _value.row : {}\r\n        let platformCityGoodsId = _row.platformCityGoodsId\r\n        let scene = _value.scene ? _value.scene : ''\r\n        for(let item of this.activityScenes) {\r\n          if(item.scene === scene) {\r\n            item.platCityGoodsInfos = item.platCityGoodsInfos.filter(j => {\r\n              return j.platformCityGoodsId !== platformCityGoodsId\r\n            })\r\n          }\r\n        }\r\n\r\n        this.setJoinGoodsMesg(scene)\r\n      },\r\n      /**\r\n       * [setDefaultChecked 给选中的商品默认赋值]\r\n       * @param {[type]} _value [description]\r\n       */\r\n      setDefaultChecked(_value) {\r\n        let checkedList = _value.checkedList ? _value.checkedList : {}\r\n        let scene = _value.scene ? _value.scene : ''\r\n        for(let item of this.activityScenes) {\r\n          if(item.scene === scene) {\r\n            item.checkedList = checkedList\r\n          }\r\n        }\r\n      },\r\n      /**\r\n       * [setDiscountBatch 批量设置折扣]\r\n       * @return {[type]} [description]\r\n       */\r\n      setDiscountBatch(_scene) {\r\n        for(let item of this.activityScenes) {\r\n          if(item.scene === _scene) {\r\n            if(!item.discount) {\r\n              this.$message(\"请输入拼团价折扣\")\r\n              return\r\n            }else {\r\n              if(!numReg.test(item.discount)) {\r\n                this.$message(\"拼团价折扣为(0-100整数)\")\r\n                return\r\n              }\r\n            }\r\n            if(item.checkedList.length === 0) {\r\n              this.$message(\"请选择商品\")\r\n              return\r\n            }\r\n\r\n            for(let i of item.platCityGoodsInfos) {\r\n              for(let j of item.checkedList) {\r\n                if(i.platformCityGoodsId === j.platformCityGoodsId) {\r\n                  i.groupPrice = ((parseFloat(item.discount) * parseFloat(i.price)) / 100).toFixed(2)\r\n                }\r\n              }\r\n            }\r\n\r\n            item.checkedList = []\r\n          }\r\n        }\r\n\r\n        this.setJoinGoodsMesg(_scene)\r\n      },\r\n      /**\r\n       * [doSaveHandel 保存]\r\n       * @return {[type]} [description]\r\n       */\r\n      doSaveHandel() {\r\n        if(!this.addParamMesg.activityName) {\r\n          this.$message(\"请输入活动名称\")\r\n          return\r\n        }else if(this.addParamMesg.activityName.length > 30) {\r\n          this.$message(\"活动名称限制30个汉字\")\r\n          return\r\n        }\r\n        if(!this.addParamMesg.activityStartDate) {\r\n          this.$message(\"请输入活动开始时间\")\r\n          return\r\n        }\r\n        if(!this.addParamMesg.activityEndDate) {\r\n          this.$message(\"请输入活动结束时间\")\r\n          return\r\n        }\r\n        // 根据后台要求传递日期参数是带上时分秒\r\n        if(!this.addParamMesg.activityStartDate.substr(11)) {\r\n          this.addParamMesg.activityStartDate = this.addParamMesg.activityStartDate + ' 00:00:00'\r\n        }\r\n        if(!this.addParamMesg.activityEndDate.substr(11)) {\r\n          this.addParamMesg.activityEndDate = this.addParamMesg.activityEndDate + ' 23:59:59'\r\n        }\r\n        \r\n        let activityStartDateNum = Date.parse(new Date(this.addParamMesg.activityStartDate.replace(/\\-/g, '/')))\r\n        let activityEndDateNum = Date.parse(new Date(this.addParamMesg.activityEndDate.replace(/\\-/g, '/')))\r\n        let currentDateNum = new Date().getTime()\r\n        if(activityEndDateNum < currentDateNum) {\r\n          this.$message(\"活动结束时间不能早于当前时间\")\r\n          return\r\n        }\r\n        if(activityStartDateNum > activityEndDateNum) {\r\n          this.$message(\"活动结束时间不能早于开始时间\")\r\n          return\r\n        }\r\n\r\n        this.addParamMesg.activityStoreGroupList = this.activityStoreGroupList.map((i, idx) => {\r\n          return {\r\n            index: idx,\r\n            performanceDate: i.performanceDate,\r\n            storeNoList: i.activityStoresCheckedList.map(k => {\r\n              return k.erpStoreNo\r\n            })\r\n          }\r\n        })\r\n        for(let item of this.addParamMesg.activityStoreGroupList) {\r\n          if(!item.storeNoList || !item.storeNoList.length) {\r\n            this.$message(`请选择参与门店/履约时间组中【第${item.index + 1}组】的参与门店`)\r\n            return\r\n          }\r\n          if(item.performanceDate) {\r\n            let performanceDateNum = Date.parse(new Date(`${item.performanceDate} 23:59:59`.replace(/\\-/g, '/')))\r\n            if(activityEndDateNum > performanceDateNum) {\r\n              this.$message(`参与门店/履约时间组中【第${item.index + 1}组】的履约时间不能早于活动结束时间`)\r\n              return\r\n            }\r\n            item.performanceDatetime = `${item.performanceDate} 23:59:59`\r\n          }else {\r\n            this.$message(`请选择参与门店/履约时间组中【第${item.index + 1}组】的履约时间`)\r\n            return\r\n          }\r\n        }\r\n        this.addParamMesg.activityStoreList = this.getCheckedStores().map(item => {\r\n          return item.erpStoreNo\r\n        })\r\n\r\n        let sceneName = ''\r\n        let activityScenesTemp = []\r\n        for(let item of this.activityScenes) {\r\n          if(item.scene === 1) {\r\n            sceneName = '第一场'\r\n          }else if(item.scene === 2) {\r\n            sceneName = '第二场'\r\n          }else if(item.scene === 3) {\r\n            sceneName = '第三场'\r\n          }else if(item.scene === 4) {\r\n            sceneName = '第四场'\r\n          }\r\n\r\n          if(!item.activityStartTime) {\r\n            item.activityStartTime = ''\r\n          }\r\n          if(!item.activityEndTime) {\r\n            item.activityEndTime = ''\r\n          }\r\n\r\n          if(item.platCityGoodsInfos && item.platCityGoodsInfos.length) {\r\n            if(!item.activityStartTime || !item.activityEndTime) {\r\n              this.$message(`请选择【${sceneName}】的开始时间和结束时间`)\r\n              return\r\n            }\r\n            if(utils.changeStrToMinutes(item.activityEndTime) <= utils.changeStrToMinutes(item.activityStartTime)) {\r\n              this.$message(`请选择【${sceneName}】的结束时间必须晚于开始时间`)\r\n              return\r\n            }\r\n        \r\n            for(let goodsItem of item.platCityGoodsInfos) {\r\n              if(!goodsItem.goodsName) {\r\n                this.$message(`请输入【${sceneName}】中(${goodsItem.goodsName})的活动商品名称`)\r\n                return\r\n              }\r\n              if(!goodsItem.groupPrice) {\r\n                this.$message(`请输入【${sceneName}】中(${goodsItem.goodsName})的活动价`)\r\n                return\r\n              }else if(!salePriceReg.test(goodsItem.groupPrice)) {\r\n                this.$message(`【${sceneName}】中(${goodsItem.goodsName})的活动价是大于0，小数保留小数点后2位`)\r\n                return\r\n              }else {\r\n                if(parseFloat(goodsItem.groupPrice) == '0.00') {\r\n                  this.$message(`【${sceneName}】中(${goodsItem.goodsName})的活动价是大于0，小数保留小数点后2位`)\r\n                  return\r\n                }\r\n              }\r\n              if(parseFloat(goodsItem.groupPrice) > goodsItem.price) {\r\n                this.$message(`【${sceneName}】中(${goodsItem.goodsName})的活动价必须小于或等于原价`)\r\n                return\r\n              }\r\n              if(goodsItem.limitGoodsCount) {\r\n                if(!numReg.test(goodsItem.limitGoodsCount)) {\r\n                  this.$message(`【${sceneName}】中(${goodsItem.goodsName})的限购数量为大于零的正整数`)\r\n                  return\r\n                }\r\n              }\r\n              if(!goodsItem.curStock) {\r\n                this.$message(`请输入【${sceneName}】中(${goodsItem.goodsName})的活动库存`)\r\n                return\r\n              }else if(!numReg.test(goodsItem.curStock)) {\r\n                this.$message(`【${sceneName}】中(${goodsItem.goodsName})的活动库存为大于零的正整数`)\r\n                return\r\n              }\r\n              if(!goodsItem.sortNum) {\r\n                this.$message(`请输入【${sceneName}】中(${goodsItem.goodsName})的排序权重`)\r\n                return\r\n              }else {\r\n                if(!numReg.test(goodsItem.sortNum)) {\r\n                  this.$message(`【${sceneName}】中(${goodsItem.goodsName})的排序权重为1—100正整数`)\r\n                  return\r\n                }else {\r\n                  if(goodsItem.sortNum < 1 || goodsItem.sortNum > 100) {\r\n                    this.$message(`【${sceneName}】中(${goodsItem.goodsName})的排序权重为1—100正整数`)\r\n                    return\r\n                  }\r\n                }\r\n              }\r\n              goodsItem.activityStartDate = this.addParamMesg.activityStartDate\r\n              goodsItem.activityEndDate = this.addParamMesg.activityEndDate\r\n              goodsItem.activityStartTime = item.activityStartTime\r\n              goodsItem.activityEndTime = item.activityEndTime\r\n            }\r\n            activityScenesTemp.push(item)\r\n          }\r\n        }\r\n        \r\n        let startTimeArr = []\r\n        let endTimeArr = []\r\n        for(let item of activityScenesTemp) {\r\n          startTimeArr.push(utils.changeStrToMinutes(item.activityStartTime))\r\n          endTimeArr.push(utils.changeStrToMinutes(item.activityEndTime))\r\n        }\r\n\r\n        if(!utils.compareDate(startTimeArr, endTimeArr)) {\r\n          this.$message(\"活动各场次的开始时间和结束时间有冲突\")\r\n          return\r\n        }\r\n\r\n        this.addParamMesg.activityScenes = [...activityScenesTemp]\r\n        if(this.addParamMesg.activityScenes.length === 0) {\r\n          this.$message(\"请选择参与商品\")\r\n          return\r\n        }\r\n        this.isDisabled = true\r\n        this.$http.post(reqUrl.add, {...this.addParamMesg}).then(res => {\r\n          // 保存按钮可再次点击\r\n          setTimeout(() => {\r\n            this.isDisabled = false\r\n          }, 800)\r\n          if(res.code === 0) {\r\n            this.$message.success(\"保存成功\")\r\n            this.$router.push('/store_act')\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.isDisabled = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      doCancelHandel() {\r\n        this.$confirm('确定取消吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push('/store_act')\r\n        }).catch(() => {})\r\n      },\r\n      /**\r\n       * @description: 添加分组\r\n       * @param {type} \r\n       * @return: \r\n       */\r\n      doAddStoreGroupHandel() {\r\n        let groupItem = {\r\n          performanceDate: '',\r\n          activityStoresCheckedList: []\r\n        }\r\n        this.activityStoreGroupList.push(groupItem)\r\n      },\r\n      doMinusStoreGroupHandel(index) {\r\n        this.activityStoreGroupList.splice(index, 1)\r\n      },\r\n      /**\r\n       * @description: 计算出所有门店和履约时间分组中已经选中的门店\r\n       * @param {type} \r\n       * @return: \r\n       */\r\n      getCheckedStores(excludeIdx) {\r\n        let allCheckedStores = []\r\n        if(excludeIdx || excludeIdx === 0) {\r\n          this.activityStoreGroupList.forEach((item, idx) => {\r\n            if(idx != excludeIdx) {\r\n              allCheckedStores = [...allCheckedStores, ...item.activityStoresCheckedList]\r\n            }\r\n          })\r\n        }else {\r\n          this.activityStoreGroupList.forEach(item => {\r\n            allCheckedStores = [...allCheckedStores, ...item.activityStoresCheckedList]\r\n          })\r\n        }\r\n        return allCheckedStores\r\n      },\r\n    \r\n      /**\r\n       * @description: excel 批量导入添加商品\r\n       */\r\n      showExcelBatchInsertDialog(sceneMsg) {\r\n        if(!sceneMsg.activityStartTime || !sceneMsg.activityEndTime) {\r\n          this.$message.warning(\"请先选择本场次的开始时间和结束时间\")\r\n          return\r\n        }\r\n        if(this.$refs.excelAdd) {\r\n          let val = {\r\n            title: 'Excel 批量导入',\r\n            tempConfig: this.tempConfig\r\n          }\r\n          this.$refs.excelAdd.setDefaultMsg(val)\r\n        }\r\n      },\r\n      doConfirmHandel (value) {\r\n        let excelDataList = value.dataList || []\r\n        excelDataList.forEach(item => {\r\n          item.activityType = 21\r\n        })\r\n        this.$http.post(reqUrl.checkPreGoodsInsert, [...excelDataList]).then(res => {\r\n          this.$refs.excelAdd.closeDisabled()\r\n          this.$refs.excelAdd.closeDialog()\r\n          if (res.code === 0) {\r\n            this.hasErrorMsgData = res.data && res.data.length ? res.data : []\r\n            this.hasErrorMsgData.forEach(item => {\r\n              item.groupPrice = item.preSalePrice\r\n              item.curStock = item.platformCurStock\r\n              item.limitGoodsCount = item.limitCount\r\n            })\r\n            let isOk = this.hasErrorMsgData.some(item => {\r\n              return item.msgType === 1\r\n            })\r\n            if (isOk) {\r\n              this.showTipErrorMsg = true\r\n            } else {\r\n              let checkedListTemp = [...this.activityScenes[this.scene - 1].platCityGoodsInfos]\r\n              checkedListTemp.forEach(i => {\r\n                this.hasErrorMsgData.forEach(j => {\r\n                  if (i.goodsId === j.goodsId && i.goodsNo === j.goodsNo && i.platformCityGoodsId === j.platformCityGoodsId && i.skuNo === j.skuNo) {\r\n                    i.activityGoodsName = j.activityGoodsName\r\n                    i.groupPrice = j.groupPrice\r\n                    i.curStock = j.curStock\r\n                    i.limitGoodsCount = j.limitGoodsCount\r\n                    i.sortNum = j.sortNum\r\n                    i.sfInStock = j.sfInStock\r\n                  }\r\n                })\r\n              })\r\n              let hash = {}\r\n              this.activityScenes[this.scene - 1].platCityGoodsInfos = [...checkedListTemp, ...this.hasErrorMsgData].reduceRight((item, next) => {\r\n                hash[next.platformCityGoodsId] ? '' : hash[next.platformCityGoodsId] = true && item.push(next)\r\n                return item\r\n              }, [])\r\n              this.setJoinGoodsMesg(this.scene)\r\n            }\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.$refs.excelAdd.closeDisabled()\r\n          this.$refs.excelAdd.closeDialog()\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      downLoadErrorMsg () {\r\n        let downloadExcelConfig = { ...this.tempConfig }\r\n        downloadExcelConfig.msgTypeStr = '验证结果'\r\n        downloadExcelConfig.msg = '失败原因'\r\n        this.hasErrorMsgData.forEach(item => {\r\n          item.msgTypeStr = item.msgType === 1 ? '验证失败' : '验证成功'\r\n          item.sfInStockStr = item.sfInStock ? '是' : '否'\r\n        })\r\n        const tHeader = utils.objectToArray(downloadExcelConfig, false)\r\n        const filterVal = utils.objectToArray(downloadExcelConfig, true)\r\n        exportSheet.ExportJsonToExcel({\r\n          header: tHeader,\r\n          filterVal,\r\n          data: this.hasErrorMsgData,\r\n          filename: `Excel批量导入模板`\r\n        })\r\n        setTimeout(() => {\r\n          this.$notify.success({\r\n            title: '温馨提示',\r\n            message: `Excel批量导入模板下载成功`\r\n          })\r\n          this.isDisabled = false\r\n        }, 500)\r\n      }\r\n    }\r\n  }\r\n\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Activity/StoreAct/TimelyBuy/AddTBPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMesg,\"label-width\":\"140px\"}},[_c('el-form-item',{attrs:{\"label\":\"活动类型\",\"required\":\"\"}},[_c('p',{staticStyle:{\"color\":\"#222\",\"font-size\":\"16px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.addParamMesg.activityTypeName))])]),_vm._v(\" \"),_c('region',{staticClass:\"region-wrap\",attrs:{\"className\":\"add-input\",\"label\":\"选择区域\",\"required\":true}}),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"活动名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入活动名称\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.activityName),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"activityName\", $$v)},expression:\"addParamMesg.activityName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动名称,限制30个汉字\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"type\":\"date\",\"placeholder\":\"请选择活动开始时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.addParamMesg.activityStartDate),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"activityStartDate\", $$v)},expression:\"addParamMesg.activityStartDate\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动开始时间\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"required\":\"\"}},[_c('el-date-picker',{staticClass:\"add-input\",attrs:{\"type\":\"date\",\"placeholder\":\"请选择活动结束时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.addParamMesg.activityEndDate),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"activityEndDate\", $$v)},expression:\"addParamMesg.activityEndDate\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"活动结束时间\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"门店/履约时间\",\"required\":\"\"}},_vm._l((_vm.activityStoreGroupList),function(item,index){return _c('div',{key:index,staticClass:\"store-pre-time-item-wrap\",class:index > 0 ? 'mt10' : null},[_c('div',{staticClass:\"item-right\"},[_c('div',[_c('span',[_vm._v(\"参与门店\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.chooseStoreOpen(index)}}},[_vm._v(\"选择门店\")]),_vm._v(\" \"),(item.activityStoresCheckedList.length > 0)?_c('div',[_c('el-table',{staticClass:\"fixed-height\",attrs:{\"data\":item.activityStoresCheckedList,\"empty-text\":\"暂无选中任何门店\",\"max-height\":\"250\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"min-width\":\"220px\",\"label\":\"门店编码/名称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n                        \"+_vm._s(scope.row.erpStoreNo)+\"_\"+_vm._s(scope.row.erpStoreName)+\"\\n                      \")])]}}],null,true)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"cityName\",\"label\":\"城市\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"saleTypeName\",\"label\":\"门店类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteStoreItem(index, scope.row)}}},[_vm._v(\"删除\")])]}}],null,true)})],1)],1):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"mt10\"},[_c('span',[_vm._v(\"履约时间\")]),_vm._v(\" \"),_c('el-date-picker',{staticClass:\"search-input\",attrs:{\"type\":\"date\",\"placeholder\":\"请选择履约时间\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"size\":\"small\",\"picker-options\":_vm.pickerOptions},model:{value:(item.performanceDate),callback:function ($$v) {_vm.$set(item, \"performanceDate\", $$v)},expression:\"item.performanceDate\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"门店仅支持自提则为自提时间\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"item-left\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-plus\",\"circle\":\"\"},on:{\"click\":_vm.doAddStoreGroupHandel}}),_vm._v(\"\\n             \\n            \"),(_vm.activityStoreGroupList.length > 1)?_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-minus\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.doMinusStoreGroupHandel(index)}}}):_vm._e()],1)])}),0),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"参与商品\",\"required\":\"\"}},[_c('el-tabs',{on:{\"tab-click\":_vm.handleTabClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_vm._l((_vm.activityScenes),function(item,idx){return _c('el-tab-pane',{key:idx,attrs:{\"name\":item.activeName}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\"\\n              \"+_vm._s(item.label)+\" \\n              \"),(item.activityStartTime && item.activityEndTime)?_c('span',[_vm._v(\"\\n                \"+_vm._s(item.activityStartTime)+\"-\"+_vm._s(item.activityEndTime)+\"\\n              \")]):_vm._e()]),_vm._v(\" \"),_c('span',[_vm._v(\"\\n              开始时间:\\n            \")]),_vm._v(\" \"),_c('el-time-picker',{staticClass:\"add-input-inline\",attrs:{\"format\":\"HH:mm\",\"value-format\":\"HH:mm\",\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"开始时间\"},model:{value:(item.activityStartTime),callback:function ($$v) {_vm.$set(item, \"activityStartTime\", $$v)},expression:\"item.activityStartTime\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n              结束时间:\\n            \")]),_vm._v(\" \"),_c('el-time-picker',{staticClass:\"add-input-inline\",attrs:{\"format\":\"HH:mm\",\"value-format\":\"HH:mm\",\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"结束时间\",\"picker-options\":_vm.pickerOptions},model:{value:(item.activityEndTime),callback:function ($$v) {_vm.$set(item, \"activityEndTime\", $$v)},expression:\"item.activityEndTime\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.chooseGoodsOpen(item)}}},[_vm._v(\"选择商品\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.showExcelBatchInsertDialog(item)}}},[_vm._v(\"Excel批量导入\")])],1)}),_vm._v(\" \"),_c('join-goods-table',{ref:\"joinGoodsTable\",on:{\"deleteGoodsItem\":_vm.deleteGoodsItem,\"setDefaultChecked\":_vm.setDefaultChecked}})],2)],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled},on:{\"click\":_vm.doSaveHandel}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1)],1),_vm._v(\" \"),_c('choose-store',{ref:\"chooseStore\",on:{\"confirmChooseStore\":_vm.confirmChooseStore}}),_vm._v(\" \"),_c('choose-goods',{ref:\"chooseGoods\",on:{\"confirmChooseGoods\":_vm.confirmChooseGoods}}),_vm._v(\" \"),_c('excel-add',{ref:\"excelAdd\",on:{\"doConfirmHandel\":_vm.doConfirmHandel}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"批量导入失败\",\"visible\":_vm.showTipErrorMsg,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.showTipErrorMsg=$event}}},[_c('div',[_vm._v(\"\\n      部分商品不符合要求，请按要求修改后再重新导入。\"),_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":_vm.downLoadErrorMsg}},[_vm._v(\"下载查看失败原因\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.showTipErrorMsg = false}}},[_vm._v(\"关 闭\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b14357a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Activity/StoreAct/TimelyBuy/AddTBPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b14357a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddTBPage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddTBPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddTBPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b14357a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddTBPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Activity/StoreAct/TimelyBuy/AddTBPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}