{"version":3,"sources":["webpack:///src/components/GoodsMgt/LibaryGoods/EditLibaryGoods.vue","webpack:///./src/components/GoodsMgt/LibaryGoods/EditLibaryGoods.vue?9615","webpack:///./src/components/GoodsMgt/LibaryGoods/EditLibaryGoods.vue"],"names":["fileUrlList","mallGoodsMgt","numReg","ratioReg","EditLibaryGoods","data","isDisabled","saveLoading","imageUploadLoading","videoUploadLoading","addParamMesg","DIFFCITY","checkOrUpdate","skuTempName","categoryId","categoryPlatList","categoryName","videoImageList","detailImageList","detailImageUrl","qualityPeriod","imageList","initStock","marketPrice","pack","origin","goodsDesc","goodsId","sortNum","skuId","skuName","skuNo","spec","weight","buyName","goodsErpSkuRelations","isPick","isRefund","currentUpFileIdx","cateDefaultProps","children","label","value","categoryList","imageListArr","imgUrl","validMsgDialogVisible","validMsg","created","this","getCategoryId","$route","params","id","getLibraryDetil","components","draggable","vuedraggable_common_default","a","methods","_this","$http","post","then","res","code","Error","msg","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","categoryVoList","err","return","catch","e","console","log","message","_goodsId","_this2","utils","createGoodsMesg","goodsName","goodsItems","map","parseInt","categoryChange","push","$notify","error","title","videoUploadReg","file","_this3","isVideo","type","indexOf","isMP4","isSizeNum","size","$message","isSize","promise_default","resolve","reject","_URL","window","URL","webkitURL","videoUrl","createObjectURL","videoObj","document","createElement","onloadedmetadata","evt","revokeObjectURL","src","load","emitUploadVideo","_this4","getToken","qiniu_min","fileName","token","subscribe","complete","urlImage","key","deleteVideo","imageUploadReg","_this5","isPic","isJPG","img","Image","onload","emitUpload","_this6","setImgUrl","hash","reduceRight","reverse","imageUploadRegForMore","_this7","width","height","_this8","param","fileExtension","setItemIdx","_idx","_imgUrl","currentIdx","detailItemMesg","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","map_default","i","_ref","_ref2","slicedToArray_default","deleteUpFile","filter","idx","datadragEnd","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_ref3","_ref4","index","_val","_this9","currentValArr","setTimeout","$refs","getCheckedNodes","doSaveHandel","checkOrUpdateVal","_this10","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","test","ratio","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_ref5","_ref6","extends_default","success","$router","doCancelHandel","_this11","$confirm","confirmButtonText","cancelButtonText","skuTypeFormater","row","column","cellValue","deleteDetailImg","beforeRouteLeave","to","from","meta","keepAlive","LibaryGoods_EditLibaryGoods","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","empty-text","prop","_v","formatter","staticStyle","line-height","padding-left","skuType","callback","$$v","$set","expression","_e","required","placeholder","clearable","disabled","slot","action","show-file-list","before-upload","http-request","directives","name","rawName","controls","on","click","update","_l","$event","options","filterable","props","change","loading","visible","update:visible","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/104.d1a16131fe616d914cde.js","sourcesContent":["<style>\r\n  @import \"../../../../static/style/file_upload.css\";\r\n  .mh-up-w {\r\n    float: left;\r\n    margin-left: 10px;\r\n  }\r\n  .mh-up-w:first-child {\r\n    margin-left: 0;\r\n  }\r\n  .mh-up-h-w {\r\n    padding: 0 5px;\r\n    line-height: 0;\r\n    margin-top: -8px;\r\n    margin-bottom: 8px;\r\n    text-align: center;\r\n  }\r\n  .up-h-i {\r\n    cursor: pointer;\r\n    padding-left: 6px;\r\n    padding-right: 6px;\r\n  }\r\n  .up-h-i:hover {\r\n    color: #3080fe;\r\n  }\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <div class=\"add-form-wraper\">\r\n      <el-form ref=\"form\" :model=\"addParamMesg\" label-width=\"160px\">\r\n        <el-form-item label=\"ERP母商品\">\r\n          <el-table\r\n            :data=\"addParamMesg.goodsErpSkuRelations\"\r\n            empty-text=\"暂无数据\"\r\n            size=\"small\">\r\n            <el-table-column width=\"90\" prop=\"skuNo\" label=\"ERP编码\"></el-table-column>\r\n            <el-table-column width=\"180\" prop=\"skuName\" label=\"母商品名称\"></el-table-column>\r\n            <el-table-column width=\"120\" prop=\"categoryName\" label=\"ERP分类\"></el-table-column>\r\n            <el-table-column width=\"100\" prop=\"skuType\" label=\"商品种类\" :formatter=\"skuTypeFormater\"></el-table-column>\r\n            <el-table-column width=\"90\" prop=\"ratio\" label=\"转换比例\"></el-table-column>\r\n            <el-table-column width=\"60\" prop=\"saleUnitName\" label=\"单位\"></el-table-column>\r\n          </el-table>\r\n          <p style=\"line-height: 20px;\">注：转换比例即线上售卖一份需减扣多少单位的母商品；</p>\r\n          <p style=\"padding-left: 2em; line-height: 20px;\">果切商品，请注意减扣母商品的重量，是否带皮；</p>\r\n          <p style=\"padding-left: 2em; line-height: 20px;\">ERP组合商品，不可订货，不能添加到线上商品库；</p>\r\n          <p style=\"padding-left: 2em; line-height: 20px;\">线上商品库，组合多个ERP商品时，只能选择标品或计量商品；</p>\r\n        </el-form-item>\r\n          \r\n        <el-form-item label=\"扫码捡货\" v-if=\"addParamMesg.goodsErpSkuRelations.length === 1 && addParamMesg.goodsErpSkuRelations[0].skuType === 'W'\">\r\n          <el-radio-group v-model=\"addParamMesg.isPick\" size=\"small\">\r\n            <el-radio-button :label=\"1\">开启</el-radio-button>\r\n            <el-radio-button :label=\"0\">关闭</el-radio-button>\r\n          </el-radio-group>\r\n          <span>母商品为重量商品才能开启扫码捡货</span>\r\n        </el-form-item> \r\n\r\n        <el-form-item label=\"差额退款\" v-if=\"addParamMesg.isPick === 1 && addParamMesg.goodsErpSkuRelations.length === 1 && addParamMesg.goodsErpSkuRelations[0].skuType === 'W'\">\r\n          <el-radio-group v-model=\"addParamMesg.isRefund\" size=\"small\">\r\n            <el-radio-button :label=\"1\">开启</el-radio-button>\r\n            <el-radio-button :label=\"0\">关闭</el-radio-button>\r\n          </el-radio-group>\r\n          <span>开启了扫码捡货的商品才能开启差额退款</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"线上商品名称\" required>\r\n          <el-input v-model=\"addParamMesg.skuName\" size=\"small\" class=\"add-input\" placeholder=\"请输入线上商品名称\" clearable></el-input>\r\n          <span>商品名称限制30个字，请规范命名，案例：香蕉2根 约400g/份 或 麒麟瓜半个 不少于1000g/份</span>\r\n        </el-form-item>  \r\n\r\n        <el-form-item label=\"规格\" required>\r\n          <el-input v-model=\"addParamMesg.spec\" size=\"small\" class=\"add-input\" placeholder=\"请输入规格\" disabled></el-input>\r\n          <span>规格描述</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"商品卖点\">\r\n          <el-input v-model=\"addParamMesg.buyName\" size=\"small\" class=\"add-input\" placeholder=\"请输入商品卖点\" clearable></el-input>\r\n          <span>商品特色、优点，限制20个字</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"重量\" required>\r\n          <el-input v-model=\"addParamMesg.weight\" size=\"small\" class=\"add-input\" placeholder=\"请输入重量\" clearable>\r\n            <el-button slot=\"append\">g</el-button>\r\n          </el-input>\r\n          <span>京东到家平台用</span>\r\n        </el-form-item>\r\n        \r\n        <!-- <el-form-item label=\"市场价\" required>\r\n          <el-input v-model=\"addParamMesg.marketPrice\" size=\"small\" class=\"add-input\" placeholder=\"请输入市场价\"></el-input>\r\n          <span>市场价是大于0，小数保留小数点后2位</span>\r\n        </el-form-item> -->\r\n\r\n        <!-- <el-form-item label=\"初始库存\" required>\r\n          <el-input v-model=\"addParamMesg.initStock\" size=\"small\" class=\"add-input\" placeholder=\"请输入初始库存\"></el-input>\r\n          <span>初始库存为0-999的整数</span>\r\n        </el-form-item> -->\r\n\r\n        <el-form-item label=\"商品首图小视频\">\r\n          <div class=\"mh-up-w\">\r\n            <el-upload\r\n              class=\"avatar-uploader\"\r\n              action=\"\"\r\n              :show-file-list=\"false\"\r\n              :before-upload=\"videoUploadReg\"\r\n              :http-request=\"emitUploadVideo\">\r\n              <div v-loading=\"videoUploadLoading\">\r\n                <video v-if=\"addParamMesg.videoImageList && addParamMesg.videoImageList[0] && addParamMesg.videoImageList[0].imgUrl\" :src=\"addParamMesg.videoImageList && addParamMesg.videoImageList[0] && addParamMesg.videoImageList[0].imgUrl\" class=\"avatar\" controls=\"controls\">您的浏览器不支持视频播放</video>\r\n                <i v-else class=\"el-icon-upload2 avatar-uploader-icon\"></i>\r\n              </div>\r\n            </el-upload>\r\n            <div class=\"mh-up-h-w\" v-if=\"addParamMesg.videoImageList && addParamMesg.videoImageList[0] && addParamMesg.videoImageList[0].imgUrl\"> \r\n              <span class=\"up-h-i\" @click=\"deleteVideo\"><i class=\"el-icon-delete\"></i>删除</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"tip-txt-w\">\r\n            <span>请上传大小不超过10M的MP4格式的小视频</span>\r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"商品方图\" required>\r\n          <div>\r\n            <draggable  v-model=\"imageListArr\" @update=\"datadragEnd\">\r\n              <transition-group>\r\n                <div class=\"mh-up-w\" v-for=\"(item, idx) of imageListArr\" @click=\"setItemIdx(idx)\" :key=\"item.imgUrl\">\r\n                  <el-upload\r\n                    class=\"avatar-uploader\"\r\n                    action=\"\"\r\n                    :show-file-list=\"false\"\r\n                    :before-upload=\"imageUploadRegForMore\"\r\n                    :http-request=\"emitUpload\">\r\n                    <div v-loading=\"imageUploadLoading && currentUpFileIdx == idx\">\r\n                      <img v-if=\"item.imgUrl\" :src=\"item.imgUrl\" class=\"avatar\">\r\n                      <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    </div>\r\n                  </el-upload>\r\n                  <div class=\"mh-up-h-w\" v-if=\"item.imgUrl && item.imgUrl != ''\"> \r\n                    <span class=\"up-h-i\" @click=\"deleteUpFile(idx)\"><i class=\"el-icon-delete\"></i></span>\r\n                    <span class=\"up-h-i\"><i class=\"el-icon-rank\"></i></span>\r\n                  </div>\r\n                </div>\r\n              </transition-group>\r\n            </draggable>\r\n            <div class=\"tip-txt-w\">\r\n              <span>请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张</span>\r\n            </div> \r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"商品详情图\">\r\n          <div  @click=\"setItemIdx(-1)\">\r\n            <div class=\"mh-up-w\">\r\n              <el-upload\r\n                class=\"avatar-uploader\"\r\n                action=\"\"\r\n                :show-file-list=\"false\"\r\n                :before-upload=\"imageUploadReg\"\r\n                :http-request=\"emitUpload\">\r\n                <div v-loading=\"imageUploadLoading && currentUpFileIdx == -1\">\r\n                  <img v-if=\"addParamMesg.detailImageUrl\" :src=\"addParamMesg.detailImageUrl\" class=\"avatar\">\r\n                  <i v-else class=\"el-icon-upload2 avatar-uploader-icon\"></i>\r\n                </div>\r\n              </el-upload>\r\n              <div class=\"mh-up-h-w\" v-if=\"addParamMesg.detailImageUrl\"> \r\n                <span class=\"up-h-i\" @click=\"deleteDetailImg\"><i class=\"el-icon-delete\"></i>删除</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"tip-txt-w\">\r\n              <span>建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M</span>\r\n            </div> \r\n          </div>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"分类\" required>\r\n          <el-cascader\r\n            ref=\"cascaderCategory\"\r\n            placeholder=\"请选择分类\"\r\n            class=\"add-input\"\r\n            :options=\"categoryList\"\r\n            size=\"small\"\r\n            filterable\r\n            :props=\"cateDefaultProps\"\r\n            @change=\"categoryChange\"\r\n            v-model=\"addParamMesg.categoryPlatList\">\r\n          </el-cascader>\r\n          <span>店内分类</span>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"排序权重\">\r\n          <el-input v-model=\"addParamMesg.sortNum\" size=\"small\" class=\"add-input\" placeholder=\"请输入排序权重\" clearable></el-input>\r\n          <span>店内分类下的商品排序，0-999整数，数值越大越靠前</span>\r\n        </el-form-item>\r\n\r\n        <!-- <el-form-item label=\"商品描述\">\r\n          <el-input type=\"textarea\" v-model=\"addParamMesg.goodsDesc\" size=\"small\" class=\"add-input\" placeholder=\"请输入商品描述\"></el-input>\r\n          <span>描述小于250字</span>\r\n        </el-form-item> -->\r\n\r\n        <el-form-item label=\"产地\">\r\n          <el-input v-model=\"addParamMesg.origin\" size=\"small\" class=\"add-input\" placeholder=\"请输入产地\" clearable></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"保质期\">\r\n          <el-input v-model=\"addParamMesg.qualityPeriod\" size=\"small\" class=\"add-input\" placeholder=\"请输入保质期\" clearable></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"包装\">\r\n          <el-input v-model=\"addParamMesg.pack\" size=\"small\" class=\"add-input\" placeholder=\"请输入包装\" clearable></el-input>\r\n        </el-form-item>\r\n        \r\n        <hr class=\"s-slip-tb\">\r\n        <el-form-item>\r\n          <el-button type=\"primary\" size=\"small\" @click=\"doSaveHandel(true)\" :disabled=\"isDisabled\" :loading=\"saveLoading\">保存</el-button>\r\n          <el-button size=\"small\" @click=\"doCancelHandel\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-dialog\r\n      title=\"系统提示\"\r\n      :visible.sync=\"validMsgDialogVisible\"\r\n      width=\"360px\">\r\n      <span>现商品库有相同规格的商品，确定要重复创建吗？</span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button size=\"mini\" @click=\"validMsgDialogVisible = false\">取 消</el-button>\r\n        <el-button size=\"mini\" type=\"primary\" @click=\"doSaveHandel(true)\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Draggable from 'vuedraggable'\r\n  import Storage from '@/utils/localStorage'\r\n  import * as utils from '@/utils/utils'\r\n  import * as qiniu from 'qiniu-js'\r\n  const fileUrlList = {\r\n    getQiNiuToken: '/foundation/qiniu/auth/file'\r\n  }\r\n  const mallGoodsMgt = {\r\n    // 获取三方平台店内分类\r\n    getCategoryTree: '/plateform/a/category/getCategoryTree',\r\n    // 商品库管理——编辑或新增 (完善商品资料)\r\n    updateOrInsert: '/plateform/a/product/goods/updateorinsert',\r\n    // 商品库管理(New)——选择下拉SKU\r\n    queryGoodsSku: '/plateform/a/product/goods/sku',\r\n    // 商品库管理——完善商品资料\r\n    libraryDetail: '/plateform/a/product/goods/detail'\r\n  }\r\n  let nameReg = /^[\\u4E00-\\u9FA5][A-Za-z]{1,20}$/\r\n  let numReg = /^[1-9]*[1-9][0-9]*$/\r\n  let salePriceReg = /((^[1-9]\\d*)|^0)(\\.\\d{0,2}){0,1}$/\r\n  let ratioReg = /((^[1-9]\\d*)|^0)(\\.\\d{0,3}){0,1}$/\r\n  export default {\r\n    data() {\r\n      return {\r\n        // 是否禁止按钮可再点击\r\n        isDisabled: false, \r\n        // 保存时的loading\r\n        saveLoading: false,\r\n        // 商品详情图加载\r\n        imageUploadLoading: false,\r\n        // 小视频加载\r\n        videoUploadLoading: false,\r\n        addParamMesg: {\r\n          DIFFCITY: true,\r\n          checkOrUpdate: true, // 编辑的时候不需要加验证 故此处可始终为true\r\n          skuTempName: '', // 临时暂时的sku名称\r\n          categoryId: '', // 分类ID\r\n          categoryPlatList: [],\r\n          categoryName: '', // 分类名称\r\n          videoImageList: [],\r\n          // 商品详情图  imgUrl: 图片地址  sortNum: 序号 goodsId: 商品编码\r\n          detailImageList: [], \r\n          detailImageUrl: '', // 商品详情图地址\r\n          qualityPeriod: '', // 保质期\r\n          // 商品图  imgUrl: 图片地址  sortNum: 序号 goodsId: 商品编码\r\n          imageList: [], \r\n          initStock: '', // 初始库存\r\n          marketPrice: '', // 市场价\r\n          pack: '', // 包装\r\n          origin: '', // 产地\r\n          goodsDesc: '', // 商品描述\r\n          goodsId: '', // 商品id\r\n          sortNum: '', // 序号\r\n          skuId: '', // SKU_ID\r\n          skuName: '', // SKU 名称\r\n          skuNo: '', // SKU 编号\r\n          spec: '', // 规格\r\n          weight: '', // 重量\r\n          buyName: '', // 商品卖点\r\n          goodsErpSkuRelations: [], // 关联商品\r\n          isPick: 0, // 是否开启扫码拣货(0:关闭 1:开启) 默认:0\r\n          isRefund: 0 // 是否开启差额退款(0:关闭 1:开启) 默认:0\r\n        },\r\n        currentUpFileIdx: -1, // 默认选中的文件上传框\r\n        // 默认分类参数\r\n        cateDefaultProps: {\r\n          children: 'categoryVoList',\r\n          label: 'categoryName',\r\n          value: 'categoryId'\r\n        },\r\n        // 商品分类id\r\n        categoryList: [],\r\n        // 商品图临时使用  imgUrl: 图片地址  sortNum: 序号 goodsId: 商品编码 \r\n        imageListArr: [\r\n          {\r\n            imgUrl: '',\r\n            sortNum: ''\r\n          }\r\n        ],\r\n        validMsgDialogVisible: false,\r\n        validMsg: ''\r\n\r\n      }\r\n    },\r\n    created() {\r\n      // 获取三方平台店内分类\r\n      this.getCategoryId()\r\n      // 获取goodsId\r\n      let goodsId = this.$route.params.id\r\n      this.getLibraryDetil(goodsId)\r\n    },\r\n    components: {\r\n      'draggable': Draggable\r\n    },\r\n    methods: {\r\n      /**\r\n       * [getCategoryId 三方平台店内分类]\r\n       * @return {[type]} [description]\r\n       */\r\n      getCategoryId() {\r\n        this.$http.post(mallGoodsMgt.getCategoryTree, {DIFFCITY: true}).then(res => {\r\n          if(res.code === 0) {\r\n            if(res.data && res.data.length) {\r\n              for(let item of res.data) {\r\n                if(item.categoryVoList && item.categoryVoList.length === 0) {\r\n                  item.categoryVoList = null\r\n                }\r\n              }\r\n              this.categoryList = res.data\r\n            }else {\r\n              this.categoryList = []\r\n            }\r\n            return \r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          console.log(\"提示(三方平台店内分类):\", e.message)\r\n        })\r\n      },\r\n      /**\r\n       * [getLibraryDetil 获取商品详情]\r\n       * @param  {[type]} _goodsId [description]\r\n       * @return {[type]}            [description]\r\n       */\r\n      getLibraryDetil(_goodsId) {\r\n        let goodsId = _goodsId\r\n        utils.showLoading()\r\n        this.$http.post(mallGoodsMgt.libraryDetail, {goodsId: goodsId, DIFFCITY: true}).then(res => {\r\n          utils.clearLoading()\r\n          if(res.code === 0) {\r\n            if(res.data) {\r\n\r\n              let createGoodsMesg = res.data\r\n              this.addParamMesg.goodsId = createGoodsMesg.id\r\n              this.addParamMesg.skuTempName = createGoodsMesg.skuNo + '-' + createGoodsMesg.skuName + '-' + createGoodsMesg.spec\r\n              this.addParamMesg.skuName = createGoodsMesg.skuName\r\n              this.addParamMesg.skuNo = createGoodsMesg.skuNo\r\n              this.addParamMesg.skuId = createGoodsMesg.skuId\r\n              this.addParamMesg.goodsName = createGoodsMesg.goodsName\r\n              this.addParamMesg.spec = createGoodsMesg.spec\r\n\r\n              this.addParamMesg.goodsErpSkuRelations = createGoodsMesg.goodsItems && createGoodsMesg.goodsItems.length > 0 ? createGoodsMesg.goodsItems : []\r\n\r\n              this.addParamMesg.categoryId = createGoodsMesg.categoryId\r\n              this.addParamMesg.categoryName = createGoodsMesg.categoryName\r\n              if(createGoodsMesg.categoryPlatList && createGoodsMesg.categoryPlatList.length > 0) {\r\n                createGoodsMesg.categoryPlatList = createGoodsMesg.categoryPlatList.map(item => item && parseInt(item))\r\n                this.addParamMesg.categoryPlatList = createGoodsMesg.categoryPlatList\r\n              }\r\n              this.categoryChange(this.addParamMesg.categoryPlatList)\r\n              this.addParamMesg.marketPrice = createGoodsMesg.marketPrice\r\n              this.addParamMesg.sortNum = createGoodsMesg.sortNum\r\n              this.addParamMesg.weight = createGoodsMesg.weight\r\n              this.addParamMesg.buyName = createGoodsMesg.buyName\r\n              this.addParamMesg.goodsDesc = createGoodsMesg.goodsDesc\r\n              this.addParamMesg.pack = createGoodsMesg.pack\r\n              this.addParamMesg.origin = createGoodsMesg.origin\r\n              this.addParamMesg.initStock = createGoodsMesg.initStock\r\n              this.addParamMesg.qualityPeriod = createGoodsMesg.qualityPeriod\r\n              this.addParamMesg.videoImageList = createGoodsMesg.videoImageList\r\n              // 编辑的时候返回的内容中缺少  商品方图，商品详情图片，店内分类的list\r\n              if(createGoodsMesg.detailImageList && createGoodsMesg.detailImageList.length > 0) {\r\n                this.addParamMesg.detailImageList = createGoodsMesg.detailImageList\r\n                this.addParamMesg.detailImageUrl = createGoodsMesg.detailImageList[0].imgUrl\r\n              }\r\n\r\n              if(createGoodsMesg.imageList && createGoodsMesg.imageList.length > 0) {\r\n                this.imageListArr = createGoodsMesg.imageList\r\n              }else {\r\n                this.imageListArr = []\r\n              }\r\n              this.imageListArr.push({\"imgUrl\": \"\", \"sortNum\": \"\"})\r\n\r\n              this.addParamMesg.isPick = createGoodsMesg.isPick\r\n              this.addParamMesg.isRefund = createGoodsMesg.isRefund\r\n\r\n            }\r\n            return \r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          utils.clearLoading()\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [videoUploadReg 上传视频检测]\r\n       * @param  {[type]} file [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      videoUploadReg (file) {\r\n        const isVideo = file.type.indexOf('video/') !== -1\r\n        const isMP4 = file.type === 'video/mp4'\r\n        const isSizeNum = file.size <= 10 * 1024 * 1024\r\n        if (!isVideo) {\r\n          this.$message.error('建议上传MP4格式，大小不能超过10M')\r\n        }\r\n        if (!isMP4) {\r\n          this.$message.error('建议上传MP4格式，大小不能超过10M')\r\n        }\r\n        if (!isSizeNum) {\r\n          this.$message.error('建议上传MP4格式，大小不能超过10M')\r\n        }\r\n        const isSize = new Promise(function(resolve, reject) {\r\n          let width = 1280\r\n\r\n          let _URL = window.URL || window.webkitURL\r\n          let videoUrl = _URL.createObjectURL(file);\r\n          let videoObj = document.createElement(\"video\");\r\n          videoObj.onloadedmetadata = function (evt) {\r\n              _URL.revokeObjectURL(videoUrl);\r\n              // 执行上传的方法，获取外网路径，上传进度等\r\n              // let valid = videoObj.videoWidth == width\r\n              let valid = true\r\n              valid ? resolve() : reject()\r\n          };\r\n          videoObj.src = videoUrl;\r\n          videoObj.load();\r\n        }).then(() => {\r\n          return file\r\n        }, () => {\r\n          this.$message.error('建议上传MP4格式，大小不能超过10M')\r\n          return Promise.reject()\r\n        })\r\n        return isVideo && isMP4 && isSizeNum && isSize\r\n      },\r\n      /**\r\n       * [emitUploadVideo 上传视频]\r\n       * @param  {[type]} e [description]\r\n       * @return {[type]}   [description]\r\n       */\r\n      emitUploadVideo(e) {\r\n        this.videoUploadLoading = true\r\n        this.getToken('mp4').then((res) => {\r\n          // 开始上传图片\r\n          let uploader = qiniu.upload(e.file, res.fileName, res.token)\r\n          uploader.subscribe({\r\n            error: () => {\r\n              this.videoUploadLoading = false\r\n            },\r\n            complete: (res) => {\r\n              // 添加内容设置图片地址\r\n              let urlImage = 'http://retailimg01.benlailife.com/' + res.key\r\n              this.videoUploadLoading = false\r\n              // 设置对应的图片地址\r\n              this.addParamMesg.videoImageList = [{\r\n                imgUrl: urlImage,\r\n                sortNum: 1\r\n              }]\r\n            },\r\n            next: res => {\r\n            }\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [deleteDetailImg 删除商品详情图]\r\n       * @return {[type]} [description]\r\n       */\r\n      deleteVideo() {\r\n        this.addParamMesg.videoImageList = []\r\n      },\r\n      /**\r\n       * [imageUploadReg 上传图片检测]\r\n       * @param  {[type]} file [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      imageUploadReg (file) {\r\n        const isPic = file.type.indexOf('image/') !== -1\r\n        const isJPG = file.type === 'image/jpeg' || 'image/png'\r\n        const isSizeNum = file.size <= 1 * 1024 * 1024\r\n        if (!isPic) {\r\n          this.$message.error('建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M')\r\n          return false\r\n        }\r\n        if (!isJPG) {\r\n          this.$message.error('建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M')\r\n          return false\r\n        }\r\n        if (!isSizeNum) {\r\n          this.$message.error('建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M')\r\n          return false\r\n        }\r\n        /**\r\n         * [检测上传图片宽高]\r\n         */\r\n        const isSize = new Promise(function(resolve, reject) {\r\n          let width = 750\r\n\r\n          let _URL = window.URL || window.webkitURL\r\n          let img = new Image();\r\n          img.onload = function() {\r\n            // let valid = img.width == width\r\n            let valid = true\r\n            valid ? resolve() : reject()\r\n          }\r\n          img.src = _URL.createObjectURL(file)\r\n        }).then(() => {\r\n          return file\r\n        }, () => {\r\n          this.$message.error('建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M')\r\n          return Promise.reject()\r\n        })\r\n        return isPic && isJPG && isSizeNum && isSize\r\n      },\r\n\r\n      /**\r\n       * [emitUpload 上传图片]\r\n       * @param  {[type]} e [description]\r\n       * @return {[type]}   [description]\r\n       */\r\n      emitUpload(e) {\r\n        if(this.imageListArr.length > 6 && this.currentUpFileIdx != -1) {\r\n          this.$message.error('商品方图，最多可添加6张')\r\n          return\r\n        }\r\n        this.imageUploadLoading = true\r\n        this.getToken().then((res) => {\r\n          // 开始上传图片\r\n          let uploader = qiniu.upload(e.file, res.fileName, res.token)\r\n          uploader.subscribe({\r\n            error: () => {\r\n              this.imageUploadLoading = false\r\n            },\r\n            complete: (res) => {\r\n              // 添加内容设置图片地址\r\n              let urlImage = 'http://retailimg01.benlailife.com/' + res.key\r\n              this.imageUploadLoading = false\r\n              // 设置对应的图片地址\r\n              this.setImgUrl(this.currentUpFileIdx, urlImage)\r\n\r\n              if(this.currentUpFileIdx != -1) {\r\n                let hash = {}\r\n                let imageListItem = {\r\n                  imgUrl: '',\r\n                  sortNum: ''\r\n                }\r\n                this.imageListArr.push(imageListItem)\r\n\r\n                // 去重  防止多个空对象\r\n                this.imageListArr = this.imageListArr.reduceRight((item, next) => {\r\n                  hash[next.imgUrl] ? '' : hash[next.imgUrl] = true && item.push(next)\r\n                  return item\r\n                }, [])\r\n                this.imageListArr.reverse()\r\n              }\r\n\r\n            },\r\n            next: res => {\r\n            }\r\n          })\r\n        })\r\n      },\r\n\r\n      /**\r\n       * [imageUploadReg 上传图片检测]\r\n       * @param  {[type]} file [description]\r\n       * @return {[type]}      [description]\r\n       */\r\n      imageUploadRegForMore (file) {\r\n        const isPic = file.type.indexOf('image/') !== -1\r\n        const isJPG = file.type === 'image/jpeg' || 'image/png'\r\n        const isSizeNum = file.size <= 1 * 230 * 1024\r\n        if (!isPic) {\r\n          this.$message.error('请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张')\r\n          return false\r\n        }\r\n        if (!isJPG) {\r\n          this.$message.error('请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张')\r\n          return false\r\n        }\r\n        if (!isSizeNum) {\r\n          this.$message.error('请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张')\r\n          return false\r\n        }\r\n        /**\r\n         * [检测上传图片宽高]\r\n         */\r\n        const isSize = new Promise(function(resolve, reject) {\r\n          let width = 800\r\n          let height = 800 \r\n\r\n          let _URL = window.URL || window.webkitURL\r\n          let img = new Image();\r\n          img.onload = function() {\r\n            let valid = img.width == width && img.height == height\r\n            valid ? resolve() : reject()\r\n          }\r\n          img.src = _URL.createObjectURL(file)\r\n        }).then(() => {\r\n          return file\r\n        }, () => {\r\n          this.$message.error('请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张')\r\n          return Promise.reject()\r\n        })\r\n        return isPic && isJPG && isSizeNum && isSize\r\n      },\r\n      /**\r\n       * [getToken 通过后台封装的接口获取七牛的token]\r\n       * @return {[type]}            [description]\r\n       */\r\n      getToken (e) {\r\n        let param = {}\r\n        if(e) {\r\n          param = {fileExtension: 'mp4'}\r\n        }\r\n        return this.$http.post(fileUrlList.getQiNiuToken, param).then(res => {\r\n          if (res.code == 0) {\r\n            let token = res.data.token\r\n            let fileName = res.data.key\r\n            return {fileName, token}\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          this.imageUploadLoading = false\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n      },\r\n      /**\r\n       * [setItemIdx 设置当前的上传文件的idx]\r\n       * @param {[type]} _idx [description]\r\n       */\r\n      setItemIdx(_idx) {\r\n        if(this.imageUploadLoading) {\r\n          return\r\n        }\r\n        this.currentUpFileIdx = _idx\r\n      },\r\n      /**\r\n       * [setImgUrl 设置对应的图片路径]\r\n       * @param {[type]} _idx    [description]\r\n       * @param {[type]} _imgUrl [description]\r\n       */\r\n      setImgUrl(_idx, _imgUrl) {\r\n        let urlImage = _imgUrl\r\n        let currentIdx = _idx\r\n        if(_idx === -1) {\r\n          this.addParamMesg.detailImageList = []\r\n          this.addParamMesg.detailImageUrl = urlImage\r\n          let detailItemMesg = {\r\n            imgUrl: urlImage,\r\n            sortNum: 1\r\n          }\r\n          this.addParamMesg.detailImageList.push(detailItemMesg)\r\n        }else {\r\n          for(let [i, item] of new Map(this.imageListArr.map((item, i) => [i, item]))) {\r\n            if(i === currentIdx) {\r\n              this.imageListArr[i].imgUrl = urlImage\r\n              this.imageListArr[i].sortNum = parseInt(currentIdx) + 1\r\n            }\r\n          }\r\n        }\r\n      },\r\n      /**\r\n       * [removeFileLeft 删除]\r\n       * @param  {[type]} _idx [description]\r\n       * @return {[type]}       [description]\r\n       */\r\n      deleteUpFile(_idx) {\r\n        let idx = _idx\r\n        this.imageListArr = this.imageListArr.filter((item, idx) => {\r\n          return idx != _idx\r\n        })\r\n      },\r\n      /**\r\n       * [datadragEnd 拖拽结束]\r\n       * @return {[type]} [description]\r\n       */\r\n      datadragEnd(evt) {\r\n        for(let [index, elem] of new Map(this.imageListArr.map((item, i) => [i, item]))){\r\n          elem.sortNum = index + 1\r\n        }\r\n\r\n        this.imageListArr = this.imageListArr.filter(item => {\r\n          return item.imgUrl != ''\r\n        });\r\n\r\n        let imageListItem = {\r\n          imgUrl: '',\r\n          sortNum: ''\r\n        }\r\n        this.imageListArr.push(imageListItem)\r\n      },\r\n      /**\r\n       * [categoryChange 分类发生变化启用]\r\n       * @param  {[type]} _val [当前选中的值]\r\n       * @return {[type]}      [description]\r\n       */\r\n      categoryChange(_val) {\r\n        let currentValArr = _val\r\n        if(currentValArr.length > 0) {\r\n          this.addParamMesg.categoryId = currentValArr[currentValArr.length - 1]\r\n        }\r\n        setTimeout(() => {\r\n          if(this.$refs['cascaderCategory'].getCheckedNodes()[0]) {\r\n            this.addParamMesg.categoryName = this.$refs['cascaderCategory'].getCheckedNodes()[0].data.categoryName\r\n          }\r\n        }, 500);\r\n      },\r\n      /**\r\n       * [doSaveHandel 保存]\r\n       * @return {[type]} [description]\r\n       */\r\n      doSaveHandel(checkOrUpdateVal) {\r\n        if(this.isDisabled === true) {\r\n          return\r\n        }\r\n        this.addParamMesg.checkOrUpdate = checkOrUpdateVal\r\n        if(this.addParamMesg.goodsErpSkuRelations.length === 0) {\r\n          this.$message(\"请选择并添加ERP母商品\")\r\n          return \r\n        }else {\r\n          for(let item of this.addParamMesg.goodsErpSkuRelations) {\r\n            if(!ratioReg.test(item.ratio)) {\r\n              this.$message(\"转换比例是大于0，小数保留小数点后3位\")\r\n              return \r\n            }\r\n          }\r\n        }\r\n\r\n        if(this.addParamMesg.isPick === 0) {\r\n          this.addParamMesg.isRefund = 0\r\n        }\r\n\r\n        if(this.addParamMesg.skuName == \"\") {\r\n          this.$message(\"请输入线上商品名称\")\r\n          return \r\n        }else {\r\n          if(this.addParamMesg.skuName.length > 30) {\r\n            this.$message(\"商品名称,限制30个汉字\")\r\n            return\r\n          }\r\n        }\r\n\r\n        // 处理要上传的商品方图\r\n        let imageListArr = this.imageListArr.filter((item, idx) => {\r\n          return item.imgUrl != '' \r\n        })\r\n        for(let [i, item] of new Map(imageListArr.map((item, i) => [i, item]))) {\r\n          item.sortNum = parseInt(i) + 1\r\n        }\r\n        this.addParamMesg.imageList = imageListArr\r\n\r\n        if(this.addParamMesg.buyName) {\r\n          if(this.addParamMesg.buyName.length > 20) {\r\n            this.$message(\"卖点信息,限制20个汉字\")\r\n            return\r\n          }\r\n        }\r\n        \r\n        if(this.addParamMesg.weight == \"\") {\r\n          this.$message(\"请输入商品重量\")\r\n          return \r\n        }else {\r\n          if(numReg.test(this.addParamMesg.weight)) {\r\n            if(this.addParamMesg.weight <= 0) {\r\n              this.$message(\"商品重量为大于0的整数\")\r\n              return\r\n            }\r\n          }else {\r\n            this.$message(\"商品重量大于0的整数\")\r\n            return\r\n          }\r\n        } \r\n\r\n        // if(this.addParamMesg.marketPrice == \"\") {\r\n        //   this.$message(\"请输入商品市场价\")\r\n        //   return \r\n        // }else {\r\n        //   if(!salePriceReg.test(this.addParamMesg.marketPrice)) {\r\n        //     this.$message('市场价是大于0，小数保留小数点后2位') \r\n        //     return\r\n        //   }\r\n        // }\r\n\r\n        // if(this.addParamMesg.initStock == \"\") {\r\n        //   this.$message(\"请输入初始库存\")\r\n        //   return \r\n        // }else if(this.addParamMesg.initStock == 0) {\r\n        //   this.addParamMesg.initStock = 0\r\n        // }else {\r\n        //   if(numReg.test(this.addParamMesg.initStock)) {\r\n        //     if(this.addParamMesg.initStock < 0 || this.addParamMesg.initStock > 999) {\r\n        //       this.$message(\"初始库存为0-999的整数\")\r\n        //       return\r\n        //     }\r\n        //   }else {\r\n        //     this.$message(\"初始库存为0-999的整数\")\r\n        //     return\r\n        //   }\r\n        // }\r\n\r\n        if(this.addParamMesg.imageList.length === 0) {\r\n          this.$message(\"请添加商品方图\")\r\n          return \r\n        }\r\n\r\n        // if(this.addParamMesg.detailImageList.length === 0) {\r\n        //   this.$message(\"请添加商品详情图片\")\r\n        //   return \r\n        // }\r\n\r\n        if(this.addParamMesg.categoryId == \"\" || this.addParamMesg.categoryPlatList.length === 0) {\r\n          this.$message(\"请选择分类\")\r\n          return \r\n        }\r\n\r\n        if(this.addParamMesg.sortNum == \"\") {\r\n          this.addParamMesg.sortNum = 0\r\n        }else if(this.addParamMesg.sortNum == 0) {\r\n          this.addParamMesg.sortNum = 0\r\n        }else {\r\n          if(numReg.test(this.addParamMesg.sortNum)) {\r\n            if(this.addParamMesg.sortNum < 0 || this.addParamMesg.sortNum > 999) {\r\n              this.$message(\"店内分类下的商品排序，0-999的整数，数值越大越靠前\")\r\n              return\r\n            }\r\n          }else {\r\n            this.$message(\"店内分类下的商品排序，0-999的整数，数值越大越靠前\")\r\n            return\r\n          }\r\n        }\r\n\r\n        utils.showLoading()\r\n        this.isDisabled = true\r\n        this.$http.post(mallGoodsMgt.updateOrInsert, {...this.addParamMesg}).then(res => {\r\n          utils.clearLoading()\r\n          // 保存按钮可再次点击\r\n          setTimeout(() => {\r\n            this.isDisabled = false\r\n          }, 800)\r\n          if(res.code === 0) {\r\n            if(res.data && res.data.checkOrUpdate === true) {\r\n              this.validMsgDialogVisible = true\r\n              this.validMsg = res.data.validMsg\r\n            }else {\r\n              this.$message.success(\"编辑保存成功\")\r\n              this.$router.push('/mall_goods_mgt')\r\n            }\r\n            return\r\n          }\r\n          throw new Error(res.msg)\r\n        }).catch(e => {\r\n          utils.clearLoading()\r\n          // 保存按钮可再次点击\r\n          setTimeout(() => {\r\n            this.isDisabled = false\r\n          }, 800)\r\n          this.$notify.error({\r\n            title: '提示',\r\n            message: e.message\r\n          })\r\n        })\r\n\r\n      },\r\n      /**\r\n       * [doCancelHandel 取消]\r\n       * @return {[type]} [description]\r\n       */\r\n      doCancelHandel() {\r\n        this.$confirm('确定取消生成商品吗?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$router.push('/mall_goods_mgt')\r\n        }).catch(() => {})\r\n      },\r\n      /**\r\n       * [skuTypeFormater 表格数据格式化]\r\n       * @param  {[type]} row       [description]\r\n       * @param  {[type]} column    [description]\r\n       * @param  {[type]} cellValue [description]\r\n       * @return {[type]}           [description]\r\n       */\r\n      skuTypeFormater(row, column, cellValue) {\r\n        if(cellValue === 'C') {\r\n          return \"组合商品\"\r\n        }else if(cellValue == 'Q') {\r\n          return \"计量商品\"\r\n        }else if(cellValue == 'S') {\r\n          return \"标准商品\"\r\n        }else if(cellValue == 'W') {\r\n          return \"重量商品\"\r\n        }else {\r\n          return \"--\"\r\n        }\r\n      },\r\n      /**\r\n       * [deleteDetailImg 删除商品详情图]\r\n       * @return {[type]} [description]\r\n       */\r\n      deleteDetailImg() {\r\n        this.addParamMesg.detailImageList = []\r\n        this.addParamMesg.detailImageUrl = ''\r\n      }\r\n\r\n    },\r\n    /**\r\n     * [beforeRouteLeave 页面离开]\r\n     * @param  {[type]}   to   [description]\r\n     * @param  {[type]}   from [description]\r\n     * @param  {Function} next [description]\r\n     * @return {[type]}        [description]\r\n     */\r\n    beforeRouteLeave (to, from, next){\r\n      to.meta.keepAlive = true;\r\n      next();\r\n    }\r\n\r\n\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/GoodsMgt/LibaryGoods/EditLibaryGoods.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"add-form-wraper\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addParamMesg,\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":\"ERP母商品\"}},[_c('el-table',{attrs:{\"data\":_vm.addParamMesg.goodsErpSkuRelations,\"empty-text\":\"暂无数据\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"width\":\"90\",\"prop\":\"skuNo\",\"label\":\"ERP编码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"180\",\"prop\":\"skuName\",\"label\":\"母商品名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120\",\"prop\":\"categoryName\",\"label\":\"ERP分类\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"100\",\"prop\":\"skuType\",\"label\":\"商品种类\",\"formatter\":_vm.skuTypeFormater}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"90\",\"prop\":\"ratio\",\"label\":\"转换比例\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"60\",\"prop\":\"saleUnitName\",\"label\":\"单位\"}})],1),_vm._v(\" \"),_c('p',{staticStyle:{\"line-height\":\"20px\"}},[_vm._v(\"注：转换比例即线上售卖一份需减扣多少单位的母商品；\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-left\":\"2em\",\"line-height\":\"20px\"}},[_vm._v(\"果切商品，请注意减扣母商品的重量，是否带皮；\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-left\":\"2em\",\"line-height\":\"20px\"}},[_vm._v(\"ERP组合商品，不可订货，不能添加到线上商品库；\")]),_vm._v(\" \"),_c('p',{staticStyle:{\"padding-left\":\"2em\",\"line-height\":\"20px\"}},[_vm._v(\"线上商品库，组合多个ERP商品时，只能选择标品或计量商品；\")])],1),_vm._v(\" \"),(_vm.addParamMesg.goodsErpSkuRelations.length === 1 && _vm.addParamMesg.goodsErpSkuRelations[0].skuType === 'W')?_c('el-form-item',{attrs:{\"label\":\"扫码捡货\"}},[_c('el-radio-group',{attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMesg.isPick),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"isPick\", $$v)},expression:\"addParamMesg.isPick\"}},[_c('el-radio-button',{attrs:{\"label\":1}},[_vm._v(\"开启\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":0}},[_vm._v(\"关闭\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"母商品为重量商品才能开启扫码捡货\")])],1):_vm._e(),_vm._v(\" \"),(_vm.addParamMesg.isPick === 1 && _vm.addParamMesg.goodsErpSkuRelations.length === 1 && _vm.addParamMesg.goodsErpSkuRelations[0].skuType === 'W')?_c('el-form-item',{attrs:{\"label\":\"差额退款\"}},[_c('el-radio-group',{attrs:{\"size\":\"small\"},model:{value:(_vm.addParamMesg.isRefund),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"isRefund\", $$v)},expression:\"addParamMesg.isRefund\"}},[_c('el-radio-button',{attrs:{\"label\":1}},[_vm._v(\"开启\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":0}},[_vm._v(\"关闭\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"开启了扫码捡货的商品才能开启差额退款\")])],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"线上商品名称\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入线上商品名称\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.skuName),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"skuName\", $$v)},expression:\"addParamMesg.skuName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"商品名称限制30个字，请规范命名，案例：香蕉2根 约400g/份 或 麒麟瓜半个 不少于1000g/份\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"规格\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入规格\",\"disabled\":\"\"},model:{value:(_vm.addParamMesg.spec),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"spec\", $$v)},expression:\"addParamMesg.spec\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"规格描述\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品卖点\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入商品卖点\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.buyName),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"buyName\", $$v)},expression:\"addParamMesg.buyName\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"商品特色、优点，限制20个字\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"重量\",\"required\":\"\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入重量\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.weight),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"weight\", $$v)},expression:\"addParamMesg.weight\"}},[_c('el-button',{attrs:{\"slot\":\"append\"},slot:\"append\"},[_vm._v(\"g\")])],1),_vm._v(\" \"),_c('span',[_vm._v(\"京东到家平台用\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品首图小视频\"}},[_c('div',{staticClass:\"mh-up-w\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.videoUploadReg,\"http-request\":_vm.emitUploadVideo}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.videoUploadLoading),expression:\"videoUploadLoading\"}]},[(_vm.addParamMesg.videoImageList && _vm.addParamMesg.videoImageList[0] && _vm.addParamMesg.videoImageList[0].imgUrl)?_c('video',{staticClass:\"avatar\",attrs:{\"src\":_vm.addParamMesg.videoImageList && _vm.addParamMesg.videoImageList[0] && _vm.addParamMesg.videoImageList[0].imgUrl,\"controls\":\"controls\"}},[_vm._v(\"您的浏览器不支持视频播放\")]):_c('i',{staticClass:\"el-icon-upload2 avatar-uploader-icon\"})])]),_vm._v(\" \"),(_vm.addParamMesg.videoImageList && _vm.addParamMesg.videoImageList[0] && _vm.addParamMesg.videoImageList[0].imgUrl)?_c('div',{staticClass:\"mh-up-h-w\"},[_c('span',{staticClass:\"up-h-i\",on:{\"click\":_vm.deleteVideo}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"删除\")])]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"tip-txt-w\"},[_c('span',[_vm._v(\"请上传大小不超过10M的MP4格式的小视频\")])])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品方图\",\"required\":\"\"}},[_c('div',[_c('draggable',{on:{\"update\":_vm.datadragEnd},model:{value:(_vm.imageListArr),callback:function ($$v) {_vm.imageListArr=$$v},expression:\"imageListArr\"}},[_c('transition-group',_vm._l((_vm.imageListArr),function(item,idx){return _c('div',{key:item.imgUrl,staticClass:\"mh-up-w\",on:{\"click\":function($event){return _vm.setItemIdx(idx)}}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadRegForMore,\"http-request\":_vm.emitUpload}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading && _vm.currentUpFileIdx == idx),expression:\"imageUploadLoading && currentUpFileIdx == idx\"}]},[(item.imgUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.imgUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])]),_vm._v(\" \"),(item.imgUrl && item.imgUrl != '')?_c('div',{staticClass:\"mh-up-h-w\"},[_c('span',{staticClass:\"up-h-i\",on:{\"click\":function($event){return _vm.deleteUpFile(idx)}}},[_c('i',{staticClass:\"el-icon-delete\"})]),_vm._v(\" \"),_c('span',{staticClass:\"up-h-i\"},[_c('i',{staticClass:\"el-icon-rank\"})])]):_vm._e()],1)}),0)],1),_vm._v(\" \"),_c('div',{staticClass:\"tip-txt-w\"},[_c('span',[_vm._v(\"请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张\")])])],1)]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品详情图\"}},[_c('div',{on:{\"click\":function($event){return _vm.setItemIdx(-1)}}},[_c('div',{staticClass:\"mh-up-w\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"show-file-list\":false,\"before-upload\":_vm.imageUploadReg,\"http-request\":_vm.emitUpload}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.imageUploadLoading && _vm.currentUpFileIdx == -1),expression:\"imageUploadLoading && currentUpFileIdx == -1\"}]},[(_vm.addParamMesg.detailImageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.addParamMesg.detailImageUrl}}):_c('i',{staticClass:\"el-icon-upload2 avatar-uploader-icon\"})])]),_vm._v(\" \"),(_vm.addParamMesg.detailImageUrl)?_c('div',{staticClass:\"mh-up-h-w\"},[_c('span',{staticClass:\"up-h-i\",on:{\"click\":_vm.deleteDetailImg}},[_c('i',{staticClass:\"el-icon-delete\"}),_vm._v(\"删除\")])]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"tip-txt-w\"},[_c('span',[_vm._v(\"建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M\")])])])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"分类\",\"required\":\"\"}},[_c('el-cascader',{ref:\"cascaderCategory\",staticClass:\"add-input\",attrs:{\"placeholder\":\"请选择分类\",\"options\":_vm.categoryList,\"size\":\"small\",\"filterable\":\"\",\"props\":_vm.cateDefaultProps},on:{\"change\":_vm.categoryChange},model:{value:(_vm.addParamMesg.categoryPlatList),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"categoryPlatList\", $$v)},expression:\"addParamMesg.categoryPlatList\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"店内分类\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"排序权重\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入排序权重\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.sortNum),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"sortNum\", $$v)},expression:\"addParamMesg.sortNum\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"店内分类下的商品排序，0-999整数，数值越大越靠前\")])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"产地\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入产地\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.origin),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"origin\", $$v)},expression:\"addParamMesg.origin\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"保质期\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入保质期\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.qualityPeriod),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"qualityPeriod\", $$v)},expression:\"addParamMesg.qualityPeriod\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"包装\"}},[_c('el-input',{staticClass:\"add-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入包装\",\"clearable\":\"\"},model:{value:(_vm.addParamMesg.pack),callback:function ($$v) {_vm.$set(_vm.addParamMesg, \"pack\", $$v)},expression:\"addParamMesg.pack\"}})],1),_vm._v(\" \"),_c('hr',{staticClass:\"s-slip-tb\"}),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.isDisabled,\"loading\":_vm.saveLoading},on:{\"click\":function($event){return _vm.doSaveHandel(true)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":_vm.doCancelHandel}},[_vm._v(\"取消\")])],1)],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"系统提示\",\"visible\":_vm.validMsgDialogVisible,\"width\":\"360px\"},on:{\"update:visible\":function($event){_vm.validMsgDialogVisible=$event}}},[_c('span',[_vm._v(\"现商品库有相同规格的商品，确定要重复创建吗？\")]),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.validMsgDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.doSaveHandel(true)}}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-449aee1f\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/GoodsMgt/LibaryGoods/EditLibaryGoods.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-449aee1f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditLibaryGoods.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditLibaryGoods.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditLibaryGoods.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-449aee1f\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditLibaryGoods.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/GoodsMgt/LibaryGoods/EditLibaryGoods.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}