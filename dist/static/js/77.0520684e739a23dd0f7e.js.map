{"version":3,"sources":["webpack:///src/components/SysSetting/Suggest/index.vue","webpack:///./src/components/SysSetting/Suggest/index.vue?6e15","webpack:///./src/components/SysSetting/Suggest/index.vue"],"names":["reqUrl","Suggest","data","loading","pageNum","pageSize","total","searchContent","ideaType","phone","defaultRange","startDateTime","endDateTime","onlyShowCity","tableData","ideaTypeOptions","value","label","onlyShowCityOptions","bigImgUrl","showDialog","exportLoading","exportConfig","ideaTypeName","remark","leaderStr","createTimeStr","vestStoreNo","memberId","memberPhone","name","sexStr","mounted","this","doSearchHandel","components","date-picker-range","methods","changeSize","changeCurrent","_param","_this","$http","post","extends_default","then","res","code","Error","msg","result","length","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","utils","createTime","updateTimeStr","updateTime","remarkStr70","substring","isShowOpenBtn","err","return","catch","e","$notify","error","title","message","showBigImg","_imgUrl","sexFormatter","row","column","cellValue","exportHandel","_this2","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","sex","leader","tableDataArr","exportSheet","exportFileByConfig","Date","parse","success","warning","datePickerRangeChange","concat","toConsumableArray_default","SysSetting_Suggest","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","model","label-position","nativeOn","submit","$event","preventDefault","filterable","placeholder","clearable","size","on","change","callback","$$v","$set","expression","_l","key","_v","keyup","type","indexOf","_k","keyCode","trim","click","placement","width","trigger","content","slot","icon","directives","rawName","staticStyle","empty-text","prop","min-width","scopedSlots","_u","fn","scope","_s","idx","src","alt","onerror","formatter","background","current-page","page-sizes","layout","size-change","current-change","update:currentPage","update:current-page","_e","visible","update:visible","text-align","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/77.0520684e739a23dd0f7e.js","sourcesContent":["<style>\n  .remark-mesg-wrap {\n    width: 100%;\n    overflow: hidden;\n    position: relative;\n    text-align: justify; \n  }\n  .show-more-btn-wrap {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n  .show-more-btn {\n    color: #3080fe;\n    cursor: pointer;\n    padding: 0 8px;\n  }\n  .problem-img {\n    width: 60px;\n    height: 60px;\n    margin: 0 5px;\n    cursor: pointer;\n    border-right: 4px;\n  }\n  .problem-img-large {\n    width: 300px;\n  }\n</style>\n\n<template>\n  <div>\n    <!-- 搜索框 -->\n    <div class=\"search-form-wraper\">\n      <el-form :model=\"searchContent\" label-position=\"top\" @submit.native.prevent>  \n        <el-form-item label=\"问题类型\">\n          <el-select class=\"search-input\" v-model=\"searchContent.ideaType\" filterable placeholder=\"请选择问题类型\" clearable size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option\n              v-for=\"item in ideaTypeOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item> \n        <el-form-item label=\"会员手机号\">\n          <el-input class=\"search-input\" v-model.trim=\"searchContent.phone\" placeholder=\"会员手机号\" size=\"small\" @keyup.enter.native=\"doSearchHandel(true)\" clearable></el-input>\n        </el-form-item>\n        <el-form-item label=\"反馈时间\">\n          <date-picker-range \n            :defaultRange=\"searchContent.defaultRange\"\n            @datePickerRangeChange=\"datePickerRangeChange\">\n          </date-picker-range>\n        </el-form-item>\n        <el-form-item label=\"仅查看本城市\">\n          <el-select class=\"search-input\" v-model=\"searchContent.onlyShowCity\" placeholder=\"请选择\" size=\"small\" @change=\"doSearchHandel(true)\">\n            <el-option\n              v-for=\"item in onlyShowCityOptions\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :value=\"item.value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"doSearchHandel(true)\" size=\"mini\">搜索</el-button>\n          <el-popover\n            placement=\"bottom-start\"\n            width=\"250\"\n            trigger=\"hover\"\n            content=\"导出功能，最多导出5000条数据。\">\n            <el-button :icon=\"exportLoading? 'el-icon-loading' : 'el-icon-download'\" type=\"primary\" @click=\"exportHandel\" size=\"mini\" slot=\"reference\">导出</el-button>\n          </el-popover>\n        </el-form-item>\n      </el-form>\n    </div>\n    \n    <!-- 搜索结果 -->\n    <div class=\"table-wraper\">\n      <el-table\n        class=\"fixed-height\"\n        v-loading=\"loading\"\n        :data=\"tableData\"\n        empty-text=\"没有查询到您想要的数据\"\n        style=\"width:100%;\"\n        size=\"small\">\n        <el-table-column width=\"90px\" prop=\"ideaTypeName\" label=\"问题类型\"></el-table-column>\n        <el-table-column label=\"问题详情\" min-width=\"300px\">\n           <template slot-scope=\"scope\" size=\"small\">\n            <div>\n              <div class=\"remark-mesg-wrap\">\n                {{scope.row.remark}}\n              </div>\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column width=\"230px\" label=\"问题图片\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <div>\n              <img v-for=\"(item, idx) in scope.row.feedbackImageList\" :key=\"idx\" :src=\"item\" alt=\"\" onerror=\"onerror=null;src='/shop/static/img_error.png'\" class=\"problem-img\" @click=\"showBigImg(item)\">\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column width=\"100px\" prop=\"leader\" label=\"是否为团长\">\n          <template slot-scope=\"scope\" size=\"small\">\n            <div>\n              {{scope.row.leader ? '是' : '否'}}\n            </div>\n          </template>\n        </el-table-column>\n        <el-table-column width=\"170px\" prop=\"createTimeStr\" label=\"反馈时间\"></el-table-column>\n        <el-table-column width=\"120px\" prop=\"phone\" label=\"用户手机\"></el-table-column>\n        <el-table-column width=\"100px\" prop=\"vestStoreNo\" label=\"归属门店\"></el-table-column>\n        <el-table-column width=\"100px\" prop=\"memberId\" label=\"会员编码\"></el-table-column>\n        <el-table-column width=\"120px\" prop=\"memberPhone\" label=\"会员手机号\"></el-table-column>\n        <el-table-column width=\"90px\" prop=\"name\" label=\"姓名\"></el-table-column>\n        <el-table-column width=\"90px\" prop=\"sex\" label=\"性别\" :formatter=\"sexFormatter\"></el-table-column>\n      </el-table>\n      <!-- 分页条 -->\n      <el-pagination\n        v-if=\"total>0\"\n        class=\"tc mt20\"\n        background\n        @size-change=\"changeSize\"\n        @current-change=\"changeCurrent\"\n        :current-page.sync=\"pageNum\"\n        :page-sizes=\"[10, 50, 100, 150, 200]\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n      </el-pagination>\n    </div>\n\n    <el-dialog title=\"查看大图\" :visible.sync=\"showDialog\" width='400px'>\n      <div style=\"text-align: center;\">\n        <img :src=\"bigImgUrl\" alt=\"\" onerror=\"onerror=null;src='/shop/static/img_error.png'\" class=\"problem-img-large\">\n\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showDialog = false\" size=\"mini\">关 闭</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  import * as utils from '@/utils/utils'\n  import exportSheet from '@/utils/exportSheet'\n  import DatePickerRange from '@/components/Common/DatePickerRange'\n  const reqUrl = {\n    // 意见反馈列表\n    pageList: '/member/a/shop/ideaFeedback/pageList'\n  }\n  export default {\n    data() {\n      return {\n        loading: false,\n        pageNum: 1,\n        pageSize: 10,\n        total: 0,\n        searchContent: {\n          ideaType: '', // 反馈类型\n          phone: '', // 会员手机号\n          defaultRange: [],\n          startDateTime: '', \n          endDateTime: '',\n          onlyShowCity: 0\n        },\n        tableData: [],\n        ideaTypeOptions: [\n          {\n            value: '',\n            label: '全部'\n          },\n          {\n            value: 1,\n            label: '功能建议'\n          },\n          {\n            value: 2,\n            label: '售后退款'\n          },\n          {\n            value: 3,\n            label: '送货问题'\n          },\n          {\n            value: 4,\n            label: '商家问题'\n          },\n          {\n            value: 5,\n            label: '商品质量'\n          },\n          {\n            value: 6,\n            label: '购买问题'\n          },\n          {\n            value: 7,\n            label: '登录问题'\n          },\n          {\n            value: 99,\n            label: '其他'\n          }\n        ],\n        onlyShowCityOptions: [\n          {\n            value: 0,\n            label: '否'\n          },\n          {\n            value: 1,\n            label: '是'\n          }\n        ],\n        bigImgUrl: '',\n        showDialog: false,\n\n        exportLoading: false, // 导出loading\n        exportConfig: {\n          ideaTypeName: '问题类型',\n          remark: '问题详情',\n          leaderStr: '是否为团长',\n          createTimeStr: '反馈时间',\n          phone: '用户手机',\n          vestStoreNo: '归属门店',\n          memberId: '会员编码',\n          memberPhone: '会员手机号',\n          name: '姓名',\n          sexStr: '性别'\n        }\n      }\n    },\n    mounted() {\n      this.doSearchHandel(true)\n    },\n    components: {\n      \"date-picker-range\": DatePickerRange\n    },\n    methods: {\n      /**\n       * [changeSize description]\n       * @param    {[type]}                 value [description]\n       * @return   {[type]}                       [description]\n       */\n      changeSize (value) {\n        this.pageSize = value\n        this.doSearchHandel()\n      },\n      /**\n       * [changeCurrent 点击分页条]\n       * @param    {[type]}                 value [当前页]\n       * @return   {[type]}                       [description]\n       */\n      changeCurrent (value) {\n        this.pageNum = value\n        this.doSearchHandel()\n      },\n      /**\n       * [doSearchHandel 获取订单列表内容]\n       * @param  {[type]} _param [description]\n       * @return {[type]}        [description]\n       */\n      doSearchHandel(_param) {\n        this.loading = true\n        if(_param === true) {\n          this.pageNum = 1\n        }\n        this.$http.post(reqUrl.pageList, { ...this.searchContent, pageNum: this.pageNum, pageSize: this.pageSize }).then(res => {\n          this.loading = false\n          if(res.code === 0) {\n            if(res.data && res.data.result && res.data.result.length) {\n              for(let item of res.data.result) {\n                item.createTimeStr = utils.timestampToTime(item.createTime)\n                item.updateTimeStr = utils.timestampToTime(item.updateTime)\n                item.remarkStr70 = item.remark.substring(0, 50) \n                if(item.remark.length > 50) {\n                  item.isShowOpenBtn = true\n                }else {\n                  item.isShowOpenBtn = false\n                }\n              }\n              this.tableData = res.data.result\n              this.total = res.data.total\n            }else {\n              this.tableData = []\n              this.total = 0\n            }\n            return \n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.loading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      showBigImg(_imgUrl) {\n        this.bigImgUrl = _imgUrl\n        this.showDialog = true\n      },\n      sexFormatter(row, column, cellValue) {\n        if(cellValue === 0) {\n          return '未知'\n        }else if(cellValue === 1) {\n          return '男'\n        }else if(cellValue === 2) {\n          return '女'\n        }else {\n          return '--'\n        }\n      },\n      exportHandel() {\n        this.exportLoading = true\n        this.$http.post(reqUrl.pageList, { ...this.searchContent, pageNum: 1, pageSize: 5000 }).then(res => {\n          this.exportLoading = false\n          if(res.code === 0) {\n            if(res.data && res.data.result && res.data.result.length) {\n              for(let item of res.data.result) {\n                item.createTimeStr = utils.timestampToTime(item.createTime)\n                item.updateTimeStr = utils.timestampToTime(item.updateTime)\n                item.sexStr = item.sex === 0 ? '未知' : (item.sex === 1 ? '男' : (item.sex === 2 ? '女' : '--'))\n                item.leaderStr = item.leader ? '是' : '否'\n              }\n              let tableDataArr = res.data.result\n              exportSheet.exportFileByConfig(tableDataArr, utils.timestampToTimeNoHMS(Date.parse(new Date())) + '_用户反馈.xlsx', this.exportConfig)\n              this.$notify.success({\n                title: '温馨提示',\n                message: `${utils.timestampToTimeNoHMS(Date.parse(new Date()))}_用户反馈导出成功`\n              });\n            }else {\n              this.$notify.warning({\n                title: '温馨提示',\n                message: `没有查询到您想要的数据，导出数据为空！`\n              });\n            }\n            return \n          }\n          throw new Error(res.msg)\n        }).catch(e => {\n          this.exportLoading = false\n          this.$notify.error({\n            title: '提示',\n            message: e.message\n          })\n        })\n      },\n      /**\n       * @description: 下单时间范围发生变化\n       * @param {type} \n       * @return: \n       */\n      datePickerRangeChange(result) {\n        this.searchContent.defaultRange = result ? [...result] : result\n        this.searchContent.startDateTime = result ? result[0] : ''\n        this.searchContent.endDateTime = result ? result[1] : ''\n        this.doSearchHandel(true)\n      }\n    }\n  }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/SysSetting/Suggest/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-form-wraper\"},[_c('el-form',{attrs:{\"model\":_vm.searchContent,\"label-position\":\"top\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"问题类型\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"filterable\":\"\",\"placeholder\":\"请选择问题类型\",\"clearable\":\"\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.ideaType),callback:function ($$v) {_vm.$set(_vm.searchContent, \"ideaType\", $$v)},expression:\"searchContent.ideaType\"}},_vm._l((_vm.ideaTypeOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"会员手机号\"}},[_c('el-input',{staticClass:\"search-input\",attrs:{\"placeholder\":\"会员手机号\",\"size\":\"small\",\"clearable\":\"\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.phone),callback:function ($$v) {_vm.$set(_vm.searchContent, \"phone\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"searchContent.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"反馈时间\"}},[_c('date-picker-range',{attrs:{\"defaultRange\":_vm.searchContent.defaultRange},on:{\"datePickerRangeChange\":_vm.datePickerRangeChange}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"仅查看本城市\"}},[_c('el-select',{staticClass:\"search-input\",attrs:{\"placeholder\":\"请选择\",\"size\":\"small\"},on:{\"change\":function($event){return _vm.doSearchHandel(true)}},model:{value:(_vm.searchContent.onlyShowCity),callback:function ($$v) {_vm.$set(_vm.searchContent, \"onlyShowCity\", $$v)},expression:\"searchContent.onlyShowCity\"}},_vm._l((_vm.onlyShowCityOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.doSearchHandel(true)}}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-popover',{attrs:{\"placement\":\"bottom-start\",\"width\":\"250\",\"trigger\":\"hover\",\"content\":\"导出功能，最多导出5000条数据。\"}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"icon\":_vm.exportLoading? 'el-icon-loading' : 'el-icon-download',\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.exportHandel},slot:\"reference\"},[_vm._v(\"导出\")])],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"table-wraper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"fixed-height\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"empty-text\":\"没有查询到您想要的数据\",\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"width\":\"90px\",\"prop\":\"ideaTypeName\",\"label\":\"问题类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"问题详情\",\"min-width\":\"300px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('div',{staticClass:\"remark-mesg-wrap\"},[_vm._v(\"\\n              \"+_vm._s(scope.row.remark)+\"\\n            \")])])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"230px\",\"label\":\"问题图片\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',_vm._l((scope.row.feedbackImageList),function(item,idx){return _c('img',{key:idx,staticClass:\"problem-img\",attrs:{\"src\":item,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"},on:{\"click\":function($event){return _vm.showBigImg(item)}}})}),0)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"100px\",\"prop\":\"leader\",\"label\":\"是否为团长\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n            \"+_vm._s(scope.row.leader ? '是' : '否')+\"\\n          \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"170px\",\"prop\":\"createTimeStr\",\"label\":\"反馈时间\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120px\",\"prop\":\"phone\",\"label\":\"用户手机\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"100px\",\"prop\":\"vestStoreNo\",\"label\":\"归属门店\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"100px\",\"prop\":\"memberId\",\"label\":\"会员编码\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"120px\",\"prop\":\"memberPhone\",\"label\":\"会员手机号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"90px\",\"prop\":\"name\",\"label\":\"姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"width\":\"90px\",\"prop\":\"sex\",\"label\":\"性别\",\"formatter\":_vm.sexFormatter}})],1),_vm._v(\" \"),(_vm.total>0)?_c('el-pagination',{staticClass:\"tc mt20\",attrs:{\"background\":\"\",\"current-page\":_vm.pageNum,\"page-sizes\":[10, 50, 100, 150, 200],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.changeSize,\"current-change\":_vm.changeCurrent,\"update:currentPage\":function($event){_vm.pageNum=$event},\"update:current-page\":function($event){_vm.pageNum=$event}}}):_vm._e()],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"查看大图\",\"visible\":_vm.showDialog,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.showDialog=$event}}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('img',{staticClass:\"problem-img-large\",attrs:{\"src\":_vm.bigImgUrl,\"alt\":\"\",\"onerror\":\"onerror=null;src='/shop/static/img_error.png'\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.showDialog = false}}},[_vm._v(\"关 闭\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-758e8ef5\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SysSetting/Suggest/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-758e8ef5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-758e8ef5\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SysSetting/Suggest/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}