webpackJsonp([124],{PdGF:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=t("mvHQ"),i=t.n(s),r=t("Dd8w"),o=t.n(r),l=t("ifoU"),d=t.n(l),n=t("d7EF"),u=t.n(n),m=t("//Fk"),c=t.n(m),g=t("BO1k"),p=t.n(g),h=t("u4Bf"),v=t.n(h),f=(t("ssT3"),t("oAV5")),P=t("cpGA"),M="/foundation/qiniu/auth/file",k="/plateform/a/category/getCategoryTree",y="/plateform/a/product/goods/updateorinsert",b="/plateform/a/product/goods/sku",_=/^[1-9]*[1-9][0-9]*$/,L=/((^[1-9]\d*)|^0)(\.\d{0,3}){0,1}$/,U={data:function(){return{isDisabled:!1,saveLoading:!1,imageUploadLoading:!1,videoUploadLoading:!1,addParamMesg:{DIFFCITY:!0,checkOrUpdate:!1,categoryId:"",categoryPlatList:[],categoryName:"",videoImageList:[],detailImageList:[],detailImageUrl:"",qualityPeriod:"",imageList:[],initStock:"",marketPrice:"",pack:"",origin:"",goodsDesc:"",goodsId:"",sortNum:"",skuId:"",skuName:"",skuNo:"",spec:"",weight:"",buyName:"",goodsErpSkuRelations:[],isPick:0,isRefund:0},currentUpFileIdx:-1,cateDefaultProps:{children:"categoryVoList",label:"categoryName",value:"categoryId"},categoryList:[],imageListArr:[{imgUrl:"",sortNum:""}],skuQueryVal:"",querySkuGoodsLoading:!1,querySkuGoodsAsyncList:[],erpMotMsg:{skuNo:"",skuName:"",skuType:"",ratio:"",saleUnit:"",saleUnitName:"",categoryName:""},validMsgDialogVisible:!1,validMsg:""}},created:function(){this.getCategoryId()},components:{draggable:v.a},methods:{getCategoryId:function(){var e=this;this.$http.post(k,{DIFFCITY:!0}).then(function(a){if(0!==a.code)throw new Error(a.msg);if(a.data&&a.data.length){var t=!0,s=!1,i=void 0;try{for(var r,o=p()(a.data);!(t=(r=o.next()).done);t=!0){var l=r.value;l.categoryVoList&&0===l.categoryVoList.length&&(l.categoryVoList=null)}}catch(e){s=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(s)throw i}}e.categoryList=a.data}else e.categoryList=[]}).catch(function(e){console.log("提示(三方平台店内分类):",e.message)})},videoUploadReg:function(e){var a=this,t=-1!==e.type.indexOf("video/"),s="video/mp4"===e.type,i=e.size<=10485760;t||this.$message.error("建议上传MP4格式，大小不能超过10M"),s||this.$message.error("建议上传MP4格式，大小不能超过10M"),i||this.$message.error("建议上传MP4格式，大小不能超过10M");var r=new c.a(function(a,t){var s=window.URL||window.webkitURL,i=s.createObjectURL(e),r=document.createElement("video");r.onloadedmetadata=function(e){s.revokeObjectURL(i);a()},r.src=i,r.load()}).then(function(){return e},function(){return a.$message.error("建议上传MP4格式，大小不能超过10M"),c.a.reject()});return t&&s&&i&&r},emitUploadVideo:function(e){var a=this;this.videoUploadLoading=!0,this.getToken("mp4").then(function(t){P.upload(e.file,t.fileName,t.token).subscribe({error:function(){a.videoUploadLoading=!1},complete:function(e){console.log(e);var t="http://retailimg01.benlailife.com/"+e.key;a.videoUploadLoading=!1,a.addParamMesg.videoImageList=[{imgUrl:t,sortNum:1}]},next:function(e){}})})},deleteVideo:function(){this.addParamMesg.videoImageList=[]},imageUploadReg:function(e){var a=this,t=-1!==e.type.indexOf("image/"),s="image/jpeg"===e.type||"image/png",i=e.size<=1048576;t||this.$message.error("建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M"),s||this.$message.error("建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M"),i||this.$message.error("建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M");var r=new c.a(function(a,t){var s=window.URL||window.webkitURL,i=new Image;i.onload=function(){a()},i.src=s.createObjectURL(e)}).then(function(){return e},function(){return a.$message.error("建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M"),c.a.reject()});return t&&s&&i&&r},emitUpload:function(e){var a=this;this.imageListArr.length>6&&-1!=this.currentUpFileIdx?this.$message.error("商品方图，最多可添加6张"):(this.imageUploadLoading=!0,this.getToken().then(function(t){P.upload(e.file,t.fileName,t.token).subscribe({error:function(){a.imageUploadLoading=!1},complete:function(e){var t="http://retailimg01.benlailife.com/"+e.key;if(a.imageUploadLoading=!1,a.setImgUrl(a.currentUpFileIdx,t),-1!=a.currentUpFileIdx){var s={};a.imageListArr.push({imgUrl:"",sortNum:""}),a.imageListArr=a.imageListArr.reduceRight(function(e,a){return!s[a.imgUrl]&&(s[a.imgUrl]=e.push(a)),e},[]),a.imageListArr.reverse()}},next:function(e){}})}))},imageUploadRegForMore:function(e){var a=this,t=-1!==e.type.indexOf("image/"),s="image/jpeg"===e.type||"image/png",i=e.size<=235520;if(!t)return this.$message.error("请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张"),!1;if(!s)return this.$message.error("请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张"),!1;if(!i)return this.$message.error("请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张"),!1;var r=new c.a(function(a,t){var s=window.URL||window.webkitURL,i=new Image;i.onload=function(){800==i.width&&800==i.height?a():t()},i.src=s.createObjectURL(e)}).then(function(){return e},function(){return a.$message.error("请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张"),c.a.reject()});return t&&s&&i&&r},getToken:function(e){var a=this,t={};return e&&(t={fileExtension:"mp4"}),this.$http.post(M,t).then(function(e){if(0==e.code){var a=e.data.token;return{fileName:e.data.key,token:a}}throw new Error(e.msg)}).catch(function(e){a.imageUploadLoading=!1,a.$notify.error({title:"提示",message:e.message})})},setItemIdx:function(e){this.imageUploadLoading||(this.currentUpFileIdx=e)},setImgUrl:function(e,a){var t=a,s=e;if(-1===e){this.addParamMesg.detailImageList=[],this.addParamMesg.detailImageUrl=t;var i={imgUrl:t,sortNum:1};this.addParamMesg.detailImageList.push(i)}else{var r=!0,o=!1,l=void 0;try{for(var n,m=p()(new d.a(this.imageListArr.map(function(e,a){return[a,e]})));!(r=(n=m.next()).done);r=!0){var c=n.value,g=u()(c,2),h=g[0];g[1];h===s&&(this.imageListArr[h].imgUrl=t,this.imageListArr[h].sortNum=parseInt(s)+1)}}catch(e){o=!0,l=e}finally{try{!r&&m.return&&m.return()}finally{if(o)throw l}}}},deleteUpFile:function(e){this.imageListArr=this.imageListArr.filter(function(a,t){return t!=e})},datadragEnd:function(e){var a=!0,t=!1,s=void 0;try{for(var i,r=p()(new d.a(this.imageListArr.map(function(e,a){return[a,e]})));!(a=(i=r.next()).done);a=!0){var o=i.value,l=u()(o,2),n=l[0];l[1].sortNum=n+1}}catch(e){t=!0,s=e}finally{try{!a&&r.return&&r.return()}finally{if(t)throw s}}this.imageListArr=this.imageListArr.filter(function(e){return""!=e.imgUrl});this.imageListArr.push({imgUrl:"",sortNum:""})},categoryChange:function(e){var a=this,t=e;t.length>0&&(this.addParamMesg.categoryId=t[t.length-1]),setTimeout(function(){a.$refs.cascaderCategory.getCheckedNodes()[0]&&(a.addParamMesg.categoryName=a.$refs.cascaderCategory.getCheckedNodes()[0].data.categoryName)},500)},doSaveHandel:function(e){var a=this;if(!0!==this.isDisabled)if(this.addParamMesg.checkOrUpdate=e,0!==this.addParamMesg.goodsErpSkuRelations.length){var t=!0,s=!1,i=void 0;try{for(var r,l=p()(this.addParamMesg.goodsErpSkuRelations);!(t=(r=l.next()).done);t=!0){var n=r.value;if(!L.test(n.ratio))return void this.$message("转换比例是大于0，小数保留小数点后3位")}}catch(e){s=!0,i=e}finally{try{!t&&l.return&&l.return()}finally{if(s)throw i}}if(0===this.addParamMesg.isPick&&(this.addParamMesg.isRefund=0),""!=this.addParamMesg.skuName)if(this.addParamMesg.skuName.length>30)this.$message("商品名称,限制30个汉字");else if(this.addParamMesg.spec){var m=this.imageListArr.filter(function(e,a){return""!=e.imgUrl}),c=!0,g=!1,h=void 0;try{for(var v,P=p()(new d.a(m.map(function(e,a){return[a,e]})));!(c=(v=P.next()).done);c=!0){var M=v.value,k=u()(M,2),b=k[0];k[1].sortNum=parseInt(b)+1}}catch(e){g=!0,h=e}finally{try{!c&&P.return&&P.return()}finally{if(g)throw h}}if(this.addParamMesg.imageList=m,this.addParamMesg.buyName&&this.addParamMesg.buyName.length>20)this.$message("卖点信息,限制20个字");else if(""!=this.addParamMesg.weight)if(_.test(this.addParamMesg.weight))if(this.addParamMesg.weight<=0)this.$message("商品重量为大于0的整数");else if(0!==this.addParamMesg.imageList.length)if(""!=this.addParamMesg.categoryId&&0!==this.addParamMesg.categoryPlatList.length){if(""==this.addParamMesg.sortNum)this.addParamMesg.sortNum=0;else if(0==this.addParamMesg.sortNum)this.addParamMesg.sortNum=0;else{if(!_.test(this.addParamMesg.sortNum))return void this.$message("店内分类下的商品排序，0-999的整数，数值越大越靠前");if(this.addParamMesg.sortNum<0||this.addParamMesg.sortNum>999)return void this.$message("店内分类下的商品排序，0-999的整数，数值越大越靠前")}f.r(),this.isDisabled=!0,this.$http.post(y,o()({},this.addParamMesg)).then(function(e){if(f.c(),setTimeout(function(){a.isDisabled=!1},800),0!==e.code)throw new Error(e.msg);e.data&&!0===e.data.checkOrUpdate?(a.validMsgDialogVisible=!0,a.validMsg=e.data.validMsg):(a.$message.success("成功"),a.$router.push("/mall_goods_mgt"))}).catch(function(e){f.c(),setTimeout(function(){a.isDisabled=!1},800),a.$notify.error({title:"提示",message:e.message})})}else this.$message("请选择分类");else this.$message("请添加商品方图");else this.$message("商品重量大于0的整数");else this.$message("请输入商品重量")}else this.$message("请输入商品规格");else this.$message("请输入线上商品名称")}else this.$message("请选择并添加ERP母商品")},doCancelHandel:function(){var e=this;this.$confirm("确定取消生成商品吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.push("/mall_goods_mgt")}).catch(function(){})},querySkuGoodsAsync:function(e){var a=this;if(""!==e){var t={skuName:e,DIFFCITY:!0};this.querySkuGoodsLoading=!0,this.$http.post(b,t).then(function(e){if(a.querySkuGoodsLoading=!1,0!==e.code)throw new Error(e.msg);if(e.data&&e.data.length){var t=!0,s=!1,i=void 0;try{for(var r,o=p()(e.data);!(t=(r=o.next()).done);t=!0){var l=r.value;l.skuNametemp=l.skuNo+"-"+l.skuName+"-"+l.spec}}catch(e){s=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(s)throw i}}a.querySkuGoodsAsyncList=e.data}else a.querySkuGoodsAsyncList=[]}).catch(function(e){a.querySkuGoodsLoading=!1,console.log("提示(远程搜索SKU商品)：",e.message)})}},skuGoodsHandleSelect:function(e){this.addParamMesg.isPick=0,this.addParamMesg.isRefund=0;var a=this.querySkuGoodsAsyncList.filter(function(a){return a.skuId==e})[0];a&&(this.addParamMesg.skuId=a.skuId,this.addParamMesg.skuName=a.skuName,this.addParamMesg.skuNo=a.skuNo,this.addParamMesg.weight=a.weight,this.addParamMesg.pack=a.pack,this.addParamMesg.qualityPeriod=a.qualityPeriod,this.addParamMesg.origin=a.origin,this.erpMotMsg.skuNo=a.skuNo,this.erpMotMsg.skuName=a.skuName,this.erpMotMsg.skuType=a.skuType,this.erpMotMsg.ratio="",this.erpMotMsg.saleUnit=a.saleUnit,this.erpMotMsg.saleUnitName=a.saleUnitName,this.erpMotMsg.categoryName=a.categoryName)},doAddGoods:function(){var e=JSON.parse(i()(this.erpMotMsg));if("W"!==e.skuType||"2"===e.saleUnit){var a=!0,t=!1,s=void 0;try{for(var r,o=p()(this.addParamMesg.goodsErpSkuRelations);!(a=(r=o.next()).done);a=!0){if(r.value.skuNo===e.skuNo)return void this.$notify.warning({title:"温馨提示",message:"该母商品已在列表中存在，不要重复添加！"})}}catch(e){t=!0,s=e}finally{try{!a&&o.return&&o.return()}finally{if(t)throw s}}this.addParamMesg.goodsErpSkuRelations.push(e)}else this.$notify.warning({title:"温馨提示",message:"商品种类有误，请重新维护！"})},skuTypeFormater:function(e,a,t){return"C"===t?"组合商品":"Q"==t?"计量商品":"S"==t?"标准商品":"W"==t?"重量商品":"--"},deleteErpGoods:function(e){var a=e.skuNo;this.addParamMesg.goodsErpSkuRelations=this.addParamMesg.goodsErpSkuRelations.filter(function(e){return e.skuNo!=a})},deleteDetailImg:function(){this.addParamMesg.detailImageList=[],this.addParamMesg.detailImageUrl=""},blurHandel:function(e){var a=e;if(a){if(!L.test(a))return void this.$notify({title:"温馨提示",message:"转换比例是大于0，小数保留小数点后3位",type:"warning"});parseFloat(a)>10&&this.$confirm("转换比例数值过大，请确认是否正常","系统提示",{cancelButtonText:"关闭",showConfirmButton:!1,closeOnClickModal:!1,closeOnPressEscape:!1,type:"warning"}).then(function(){}).catch(function(){})}}}},w={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"add-form-wraper"},[t("el-form",{ref:"form",attrs:{model:e.addParamMesg,"label-width":"160px"}},[t("el-form-item",{attrs:{label:"ERP母商品"}},[t("el-select",{staticClass:"add-input",attrs:{filterable:"",remote:"",size:"small","reserve-keyword":"",clearable:"",placeholder:"请输入ERP编码/商品名称关键词搜索","remote-method":e.querySkuGoodsAsync,loading:e.querySkuGoodsLoading},on:{change:e.skuGoodsHandleSelect},model:{value:e.skuQueryVal,callback:function(a){e.skuQueryVal=a},expression:"skuQueryVal"}},e._l(e.querySkuGoodsAsyncList,function(e){return t("el-option",{key:e.skuId,attrs:{label:e.skuNametemp,value:e.skuId}})}),1),e._v(" "),t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-plus",disabled:!e.skuQueryVal},on:{click:e.doAddGoods}}),e._v(" "),t("span",[e._v("请输入ERP编码/商品名称关键字，搜索ERP本城市门店线下可售卖的商品，ERP组合商品除外")]),e._v(" "),t("div",[t("el-table",{attrs:{data:e.addParamMesg.goodsErpSkuRelations,"empty-text":"暂无数据",size:"small"}},[t("el-table-column",{attrs:{width:"90",prop:"skuNo",label:"ERP编码"}}),e._v(" "),t("el-table-column",{attrs:{width:"150",prop:"skuName",label:"母商品名称"}}),e._v(" "),t("el-table-column",{attrs:{width:"90",prop:"categoryName",label:"ERP分类"}}),e._v(" "),t("el-table-column",{attrs:{width:"90",prop:"skuType",label:"商品种类",formatter:e.skuTypeFormater}}),e._v(" "),t("el-table-column",{attrs:{label:"转换比例",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-input",{attrs:{size:"small",placeholder:"转换比例"},on:{blur:function(t){return e.blurHandel(a.row.ratio)}},model:{value:a.row.ratio,callback:function(t){e.$set(a.row,"ratio",t)},expression:"scope.row.ratio"}})]}}])}),e._v(" "),t("el-table-column",{attrs:{width:"60",prop:"saleUnitName",label:"单位"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",width:"60"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",[t("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.deleteErpGoods(a.row)}}})],1)]}}])})],1),e._v(" "),t("p",{staticStyle:{"line-height":"20px"}},[e._v("注：转换比例即线上售卖一份需减扣多少单位的母商品；")]),e._v(" "),t("p",{staticStyle:{"padding-left":"2em","line-height":"20px"}},[e._v("果切商品，请注意减扣母商品的重量，是否带皮；")]),e._v(" "),t("p",{staticStyle:{"padding-left":"2em","line-height":"20px"}},[e._v("ERP组合商品，不可订货，不能添加到线上商品库；")]),e._v(" "),t("p",{staticStyle:{"padding-left":"2em","line-height":"20px"}},[e._v("线上商品库，组合多个ERP商品时，只能选择标品或计量商品；")])],1)],1),e._v(" "),1===e.addParamMesg.goodsErpSkuRelations.length&&"W"===e.addParamMesg.goodsErpSkuRelations[0].skuType?t("el-form-item",{attrs:{label:"扫码捡货"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:e.addParamMesg.isPick,callback:function(a){e.$set(e.addParamMesg,"isPick",a)},expression:"addParamMesg.isPick"}},[t("el-radio-button",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio-button",{attrs:{label:0}},[e._v("关闭")])],1),e._v(" "),t("span",[e._v("母商品为重量商品才能开启扫码捡货")])],1):e._e(),e._v(" "),1===e.addParamMesg.isPick?t("el-form-item",{attrs:{label:"差额退款"}},[t("el-radio-group",{attrs:{size:"small"},model:{value:e.addParamMesg.isRefund,callback:function(a){e.$set(e.addParamMesg,"isRefund",a)},expression:"addParamMesg.isRefund"}},[t("el-radio-button",{attrs:{label:1}},[e._v("开启")]),e._v(" "),t("el-radio-button",{attrs:{label:0}},[e._v("关闭")])],1),e._v(" "),t("span",[e._v("开启了扫码捡货的商品才能开启差额退款")])],1):e._e(),e._v(" "),t("el-form-item",{attrs:{label:"线上商品名称",required:""}},[t("el-input",{staticClass:"add-input",attrs:{size:"small",placeholder:"请输入线上商品名称",clearable:""},model:{value:e.addParamMesg.skuName,callback:function(a){e.$set(e.addParamMesg,"skuName",a)},expression:"addParamMesg.skuName"}}),e._v(" "),t("span",[e._v("商品名称限制30个字，请规范命名，案例：香蕉2根 约400g/份 或 麒麟瓜半个 不少于1000g/份")])],1),e._v(" "),t("el-form-item",{attrs:{label:"规格",required:""}},[t("el-input",{staticClass:"add-input",attrs:{size:"small",placeholder:"请输入规格",clearable:""},model:{value:e.addParamMesg.spec,callback:function(a){e.$set(e.addParamMesg,"spec",a)},expression:"addParamMesg.spec"}}),e._v(" "),t("span",[e._v("规格描述")])],1),e._v(" "),t("el-form-item",{attrs:{label:"商品卖点"}},[t("el-input",{staticClass:"add-input",attrs:{size:"small",placeholder:"请输入商品卖点",clearable:""},model:{value:e.addParamMesg.buyName,callback:function(a){e.$set(e.addParamMesg,"buyName",a)},expression:"addParamMesg.buyName"}}),e._v(" "),t("span",[e._v("商品特色、优点，限制20个字")])],1),e._v(" "),t("el-form-item",{attrs:{label:"重量",required:""}},[t("el-input",{staticClass:"add-input",attrs:{size:"small",placeholder:"请输入重量",clearable:""},model:{value:e.addParamMesg.weight,callback:function(a){e.$set(e.addParamMesg,"weight",a)},expression:"addParamMesg.weight"}},[t("el-button",{attrs:{slot:"append"},slot:"append"},[e._v("g")])],1),e._v(" "),t("span",[e._v("京东到家平台用")])],1),e._v(" "),t("el-form-item",{attrs:{label:"商品首图小视频"}},[t("div",{staticClass:"mh-up-w"},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":e.videoUploadReg,"http-request":e.emitUploadVideo}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.videoUploadLoading,expression:"videoUploadLoading"}]},[e.addParamMesg.videoImageList&&e.addParamMesg.videoImageList[0]&&e.addParamMesg.videoImageList[0].imgUrl?t("video",{staticClass:"avatar",attrs:{src:e.addParamMesg.videoImageList&&e.addParamMesg.videoImageList[0]&&e.addParamMesg.videoImageList[0].imgUrl,controls:"controls"}},[e._v("您的浏览器不支持视频播放")]):t("i",{staticClass:"el-icon-upload2 avatar-uploader-icon"})])]),e._v(" "),e.addParamMesg.videoImageList&&e.addParamMesg.videoImageList[0]&&e.addParamMesg.videoImageList[0].imgUrl?t("div",{staticClass:"mh-up-h-w"},[t("span",{staticClass:"up-h-i",on:{click:e.deleteVideo}},[t("i",{staticClass:"el-icon-delete"}),e._v("删除")])]):e._e()],1),e._v(" "),t("div",{staticClass:"tip-txt-w"},[t("span",[e._v("请上传大小不超过10M的MP4格式的小视频")])])]),e._v(" "),t("el-form-item",{attrs:{label:"商品方图",required:""}},[t("div",[t("draggable",{on:{update:e.datadragEnd},model:{value:e.imageListArr,callback:function(a){e.imageListArr=a},expression:"imageListArr"}},[t("transition-group",e._l(e.imageListArr,function(a,s){return t("div",{key:a.imgUrl,staticClass:"mh-up-w",on:{click:function(a){return e.setItemIdx(s)}}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":e.imageUploadRegForMore,"http-request":e.emitUpload}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imageUploadLoading&&e.currentUpFileIdx==s,expression:"imageUploadLoading && currentUpFileIdx == idx"}]},[a.imgUrl?t("img",{staticClass:"avatar",attrs:{src:a.imgUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])]),e._v(" "),a.imgUrl&&""!=a.imgUrl?t("div",{staticClass:"mh-up-h-w"},[t("span",{staticClass:"up-h-i",on:{click:function(a){return e.deleteUpFile(s)}}},[t("i",{staticClass:"el-icon-delete"})]),e._v(" "),t("span",{staticClass:"up-h-i"},[t("i",{staticClass:"el-icon-rank"})])]):e._e()],1)}),0)],1),e._v(" "),t("div",{staticClass:"tip-txt-w"},[t("span",[e._v("请上传大小不超过230KB的800*800像素的JPG或PNG图片，最多可添加6张")])])],1)]),e._v(" "),t("el-form-item",{attrs:{label:"商品详情图"}},[t("div",{on:{click:function(a){return e.setItemIdx(-1)}}},[t("div",{staticClass:"mh-up-w"},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"","show-file-list":!1,"before-upload":e.imageUploadReg,"http-request":e.emitUpload}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.imageUploadLoading&&-1==e.currentUpFileIdx,expression:"imageUploadLoading && currentUpFileIdx == -1"}]},[e.addParamMesg.detailImageUrl?t("img",{staticClass:"avatar",attrs:{src:e.addParamMesg.detailImageUrl}}):t("i",{staticClass:"el-icon-upload2 avatar-uploader-icon"})])]),e._v(" "),e.addParamMesg.detailImageUrl?t("div",{staticClass:"mh-up-h-w"},[t("span",{staticClass:"up-h-i",on:{click:e.deleteDetailImg}},[t("i",{staticClass:"el-icon-delete"}),e._v("删除")])]):e._e()],1),e._v(" "),t("div",{staticClass:"tip-txt-w"},[t("span",[e._v("建议上传宽度为750像素的JPG或PNG图片，大小不能超过1M")])])])]),e._v(" "),t("el-form-item",{attrs:{label:"分类",required:""}},[t("el-cascader",{ref:"cascaderCategory",staticClass:"add-input",attrs:{placeholder:"请选择分类",options:e.categoryList,size:"small",filterable:"",props:e.cateDefaultProps},on:{change:e.categoryChange},model:{value:e.addParamMesg.categoryPlatList,callback:function(a){e.$set(e.addParamMesg,"categoryPlatList",a)},expression:"addParamMesg.categoryPlatList"}}),e._v(" "),t("span",[e._v("店内分类")])],1),e._v(" "),t("el-form-item",{attrs:{label:"排序权重"}},[t("el-input",{staticClass:"add-input",attrs:{size:"small",placeholder:"请输入排序权重",clearable:""},model:{value:e.addParamMesg.sortNum,callback:function(a){e.$set(e.addParamMesg,"sortNum",a)},expression:"addParamMesg.sortNum"}}),e._v(" "),t("span",[e._v("店内分类下的商品排序，0-999整数，数值越大越靠前")])],1),e._v(" "),t("el-form-item",{attrs:{label:"产地"}},[t("el-input",{staticClass:"add-input",attrs:{size:"small",placeholder:"请输入产地",clearable:""},model:{value:e.addParamMesg.origin,callback:function(a){e.$set(e.addParamMesg,"origin",a)},expression:"addParamMesg.origin"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"保质期"}},[t("el-input",{staticClass:"add-input",attrs:{size:"small",placeholder:"请输入保质期",clearable:""},model:{value:e.addParamMesg.qualityPeriod,callback:function(a){e.$set(e.addParamMesg,"qualityPeriod",a)},expression:"addParamMesg.qualityPeriod"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"包装"}},[t("el-input",{staticClass:"add-input",attrs:{size:"small",placeholder:"请输入包装",clearable:""},model:{value:e.addParamMesg.pack,callback:function(a){e.$set(e.addParamMesg,"pack",a)},expression:"addParamMesg.pack"}})],1),e._v(" "),t("hr",{staticClass:"s-slip-tb"}),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",size:"small",disabled:e.isDisabled,loading:e.saveLoading},on:{click:function(a){return e.doSaveHandel(!1)}}},[e._v("保存")]),e._v(" "),t("el-button",{attrs:{size:"small"},on:{click:e.doCancelHandel}},[e._v("取消")])],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{title:"系统提示",visible:e.validMsgDialogVisible,width:"360px"},on:{"update:visible":function(a){e.validMsgDialogVisible=a}}},[t("span",[e._v("现商品库有相同规格的商品，确定要重复创建吗？")]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{size:"mini"},on:{click:function(a){e.validMsgDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.doSaveHandel(!0)}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var N=t("VU/8")(U,w,!1,function(e){t("ie4j")},null,null);a.default=N.exports},ie4j:function(e,a){}});
//# sourceMappingURL=124.032018765deb300e3c4e.js.map